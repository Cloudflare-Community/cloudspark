#!/usr/bin/env node
import { createRequire as topLevelCreateRequire } from "module";const require = topLevelCreateRequire(import.meta.url);
var jy=Object.create;var Zu=Object.defineProperty;var Uy=Object.getOwnPropertyDescriptor;var Hy=Object.getOwnPropertyNames;var Vy=Object.getPrototypeOf,Gy=Object.prototype.hasOwnProperty;var v=(r=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(r,{get:(e,t)=>(typeof require<"u"?require:e)[t]}):r)(function(r){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+r+'" is not supported')});var Qd=(r,e)=>()=>(r&&(e=r(r=0)),e);var A=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),Yy=(r,e)=>{for(var t in e)Zu(r,t,{get:e[t],enumerable:!0})},Ky=(r,e,t,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of Hy(e))!Gy.call(r,n)&&n!==t&&Zu(r,n,{get:()=>e[n],enumerable:!(s=Uy(e,n))||s.enumerable});return r};var $r=(r,e,t)=>(t=r!=null?jy(Vy(r)):{},Ky(e||!r||!r.__esModule?Zu(t,"default",{value:r,enumerable:!0}):t,r));var Oi=A(Xu=>{var Kn=class extends Error{constructor(e,t,s){super(s),Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name,this.code=t,this.exitCode=e,this.nestedError=void 0}},Qu=class extends Kn{constructor(e){super(1,"commander.invalidArgument",e),Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name}};Xu.CommanderError=Kn;Xu.InvalidArgumentError=Qu});var Zn=A(el=>{var{InvalidArgumentError:Zy}=Oi(),Ju=class{constructor(e,t){switch(this.description=t||"",this.variadic=!1,this.parseArg=void 0,this.defaultValue=void 0,this.defaultValueDescription=void 0,this.argChoices=void 0,e[0]){case"<":this.required=!0,this._name=e.slice(1,-1);break;case"[":this.required=!1,this._name=e.slice(1,-1);break;default:this.required=!0,this._name=e;break}this._name.length>3&&this._name.slice(-3)==="..."&&(this.variadic=!0,this._name=this._name.slice(0,-3))}name(){return this._name}_concatValue(e,t){return t===this.defaultValue||!Array.isArray(t)?[e]:t.concat(e)}default(e,t){return this.defaultValue=e,this.defaultValueDescription=t,this}argParser(e){return this.parseArg=e,this}choices(e){return this.argChoices=e.slice(),this.parseArg=(t,s)=>{if(!this.argChoices.includes(t))throw new Zy(`Allowed choices are ${this.argChoices.join(", ")}.`);return this.variadic?this._concatValue(t,s):t},this}argRequired(){return this.required=!0,this}argOptional(){return this.required=!1,this}};function Qy(r){let e=r.name()+(r.variadic===!0?"...":"");return r.required?"<"+e+">":"["+e+"]"}el.Argument=Ju;el.humanReadableArgName=Qy});var rl=A(Xd=>{var{humanReadableArgName:Xy}=Zn(),tl=class{constructor(){this.helpWidth=void 0,this.sortSubcommands=!1,this.sortOptions=!1,this.showGlobalOptions=!1}visibleCommands(e){let t=e.commands.filter(s=>!s._hidden);if(e._hasImplicitHelpCommand()){let[,s,n]=e._helpCommandnameAndArgs.match(/([^ ]+) *(.*)/),a=e.createCommand(s).helpOption(!1);a.description(e._helpCommandDescription),n&&a.arguments(n),t.push(a)}return this.sortSubcommands&&t.sort((s,n)=>s.name().localeCompare(n.name())),t}compareOptions(e,t){let s=n=>n.short?n.short.replace(/^-/,""):n.long.replace(/^--/,"");return s(e).localeCompare(s(t))}visibleOptions(e){let t=e.options.filter(a=>!a.hidden),s=e._hasHelpOption&&e._helpShortFlag&&!e._findOption(e._helpShortFlag),n=e._hasHelpOption&&!e._findOption(e._helpLongFlag);if(s||n){let a;s?n?a=e.createOption(e._helpFlags,e._helpDescription):a=e.createOption(e._helpShortFlag,e._helpDescription):a=e.createOption(e._helpLongFlag,e._helpDescription),t.push(a)}return this.sortOptions&&t.sort(this.compareOptions),t}visibleGlobalOptions(e){if(!this.showGlobalOptions)return[];let t=[];for(let s=e.parent;s;s=s.parent){let n=s.options.filter(a=>!a.hidden);t.push(...n)}return this.sortOptions&&t.sort(this.compareOptions),t}visibleArguments(e){return e._argsDescription&&e.registeredArguments.forEach(t=>{t.description=t.description||e._argsDescription[t.name()]||""}),e.registeredArguments.find(t=>t.description)?e.registeredArguments:[]}subcommandTerm(e){let t=e.registeredArguments.map(s=>Xy(s)).join(" ");return e._name+(e._aliases[0]?"|"+e._aliases[0]:"")+(e.options.length?" [options]":"")+(t?" "+t:"")}optionTerm(e){return e.flags}argumentTerm(e){return e.name()}longestSubcommandTermLength(e,t){return t.visibleCommands(e).reduce((s,n)=>Math.max(s,t.subcommandTerm(n).length),0)}longestOptionTermLength(e,t){return t.visibleOptions(e).reduce((s,n)=>Math.max(s,t.optionTerm(n).length),0)}longestGlobalOptionTermLength(e,t){return t.visibleGlobalOptions(e).reduce((s,n)=>Math.max(s,t.optionTerm(n).length),0)}longestArgumentTermLength(e,t){return t.visibleArguments(e).reduce((s,n)=>Math.max(s,t.argumentTerm(n).length),0)}commandUsage(e){let t=e._name;e._aliases[0]&&(t=t+"|"+e._aliases[0]);let s="";for(let n=e.parent;n;n=n.parent)s=n.name()+" "+s;return s+t+" "+e.usage()}commandDescription(e){return e.description()}subcommandDescription(e){return e.summary()||e.description()}optionDescription(e){let t=[];return e.argChoices&&t.push(`choices: ${e.argChoices.map(s=>JSON.stringify(s)).join(", ")}`),e.defaultValue!==void 0&&(e.required||e.optional||e.isBoolean()&&typeof e.defaultValue=="boolean")&&t.push(`default: ${e.defaultValueDescription||JSON.stringify(e.defaultValue)}`),e.presetArg!==void 0&&e.optional&&t.push(`preset: ${JSON.stringify(e.presetArg)}`),e.envVar!==void 0&&t.push(`env: ${e.envVar}`),t.length>0?`${e.description} (${t.join(", ")})`:e.description}argumentDescription(e){let t=[];if(e.argChoices&&t.push(`choices: ${e.argChoices.map(s=>JSON.stringify(s)).join(", ")}`),e.defaultValue!==void 0&&t.push(`default: ${e.defaultValueDescription||JSON.stringify(e.defaultValue)}`),t.length>0){let s=`(${t.join(", ")})`;return e.description?`${e.description} ${s}`:s}return e.description}formatHelp(e,t){let s=t.padWidth(e,t),n=t.helpWidth||80,a=2,o=2;function h(g,_){if(_){let S=`${g.padEnd(s+o)}${_}`;return t.wrap(S,n-a,s+o)}return g}function d(g){return g.join(`
`).replace(/^/gm," ".repeat(a))}let f=[`Usage: ${t.commandUsage(e)}`,""],p=t.commandDescription(e);p.length>0&&(f=f.concat([t.wrap(p,n,0),""]));let D=t.visibleArguments(e).map(g=>h(t.argumentTerm(g),t.argumentDescription(g)));D.length>0&&(f=f.concat(["Arguments:",d(D),""]));let y=t.visibleOptions(e).map(g=>h(t.optionTerm(g),t.optionDescription(g)));if(y.length>0&&(f=f.concat(["Options:",d(y),""])),this.showGlobalOptions){let g=t.visibleGlobalOptions(e).map(_=>h(t.optionTerm(_),t.optionDescription(_)));g.length>0&&(f=f.concat(["Global Options:",d(g),""]))}let C=t.visibleCommands(e).map(g=>h(t.subcommandTerm(g),t.subcommandDescription(g)));return C.length>0&&(f=f.concat(["Commands:",d(C),""])),f.join(`
`)}padWidth(e,t){return Math.max(t.longestOptionTermLength(e,t),t.longestGlobalOptionTermLength(e,t),t.longestSubcommandTermLength(e,t),t.longestArgumentTermLength(e,t))}wrap(e,t,s,n=40){let a=" \\f\\t\\v\xA0\u1680\u2000-\u200A\u202F\u205F\u3000\uFEFF",o=new RegExp(`[\\n][${a}]+`);if(e.match(o))return e;let h=t-s;if(h<n)return e;let d=e.slice(0,s),f=e.slice(s).replace(`\r
`,`
`),p=" ".repeat(s),y="\\s\u200B",C=new RegExp(`
|.{1,${h-1}}([${y}]|$)|[^${y}]+?([${y}]|$)`,"g"),g=f.match(C)||[];return d+g.map((_,S)=>_===`
`?"":(S>0?p:"")+_.trimEnd()).join(`
`)}};Xd.Help=tl});var nl=A(Qn=>{var{InvalidArgumentError:Jy}=Oi(),sl=class{constructor(e,t){this.flags=e,this.description=t||"",this.required=e.includes("<"),this.optional=e.includes("["),this.variadic=/\w\.\.\.[>\]]$/.test(e),this.mandatory=!1;let s=Jd(e);this.short=s.shortFlag,this.long=s.longFlag,this.negate=!1,this.long&&(this.negate=this.long.startsWith("--no-")),this.defaultValue=void 0,this.defaultValueDescription=void 0,this.presetArg=void 0,this.envVar=void 0,this.parseArg=void 0,this.hidden=!1,this.argChoices=void 0,this.conflictsWith=[],this.implied=void 0}default(e,t){return this.defaultValue=e,this.defaultValueDescription=t,this}preset(e){return this.presetArg=e,this}conflicts(e){return this.conflictsWith=this.conflictsWith.concat(e),this}implies(e){let t=e;return typeof e=="string"&&(t={[e]:!0}),this.implied=Object.assign(this.implied||{},t),this}env(e){return this.envVar=e,this}argParser(e){return this.parseArg=e,this}makeOptionMandatory(e=!0){return this.mandatory=!!e,this}hideHelp(e=!0){return this.hidden=!!e,this}_concatValue(e,t){return t===this.defaultValue||!Array.isArray(t)?[e]:t.concat(e)}choices(e){return this.argChoices=e.slice(),this.parseArg=(t,s)=>{if(!this.argChoices.includes(t))throw new Jy(`Allowed choices are ${this.argChoices.join(", ")}.`);return this.variadic?this._concatValue(t,s):t},this}name(){return this.long?this.long.replace(/^--/,""):this.short.replace(/^-/,"")}attributeName(){return e0(this.name().replace(/^no-/,""))}is(e){return this.short===e||this.long===e}isBoolean(){return!this.required&&!this.optional&&!this.negate}},il=class{constructor(e){this.positiveOptions=new Map,this.negativeOptions=new Map,this.dualOptions=new Set,e.forEach(t=>{t.negate?this.negativeOptions.set(t.attributeName(),t):this.positiveOptions.set(t.attributeName(),t)}),this.negativeOptions.forEach((t,s)=>{this.positiveOptions.has(s)&&this.dualOptions.add(s)})}valueFromOption(e,t){let s=t.attributeName();if(!this.dualOptions.has(s))return!0;let n=this.negativeOptions.get(s).presetArg,a=n!==void 0?n:!1;return t.negate===(a===e)}};function e0(r){return r.split("-").reduce((e,t)=>e+t[0].toUpperCase()+t.slice(1))}function Jd(r){let e,t,s=r.split(/[ |,]+/);return s.length>1&&!/^[[<]/.test(s[1])&&(e=s.shift()),t=s.shift(),!e&&/^-[^-]$/.test(t)&&(e=t,t=void 0),{shortFlag:e,longFlag:t}}Qn.Option=sl;Qn.splitOptionFlags=Jd;Qn.DualOptions=il});var tm=A(em=>{function t0(r,e){if(Math.abs(r.length-e.length)>3)return Math.max(r.length,e.length);let t=[];for(let s=0;s<=r.length;s++)t[s]=[s];for(let s=0;s<=e.length;s++)t[0][s]=s;for(let s=1;s<=e.length;s++)for(let n=1;n<=r.length;n++){let a=1;r[n-1]===e[s-1]?a=0:a=1,t[n][s]=Math.min(t[n-1][s]+1,t[n][s-1]+1,t[n-1][s-1]+a),n>1&&s>1&&r[n-1]===e[s-2]&&r[n-2]===e[s-1]&&(t[n][s]=Math.min(t[n][s],t[n-2][s-2]+1))}return t[r.length][e.length]}function r0(r,e){if(!e||e.length===0)return"";e=Array.from(new Set(e));let t=r.startsWith("--");t&&(r=r.slice(2),e=e.map(o=>o.slice(2)));let s=[],n=3,a=.4;return e.forEach(o=>{if(o.length<=1)return;let h=t0(r,o),d=Math.max(r.length,o.length);(d-h)/d>a&&(h<n?(n=h,s=[o]):h===n&&s.push(o))}),s.sort((o,h)=>o.localeCompare(h)),t&&(s=s.map(o=>`--${o}`)),s.length>1?`
(Did you mean one of ${s.join(", ")}?)`:s.length===1?`
(Did you mean ${s[0]}?)`:""}em.suggestSimilar=r0});var am=A(om=>{var s0=v("events").EventEmitter,ol=v("child_process"),Pt=v("path"),al=v("fs"),K=v("process"),{Argument:i0,humanReadableArgName:n0}=Zn(),{CommanderError:ul}=Oi(),{Help:o0}=rl(),{Option:rm,splitOptionFlags:a0,DualOptions:u0}=nl(),{suggestSimilar:sm}=tm(),ll=class r extends s0{constructor(e){super(),this.commands=[],this.options=[],this.parent=null,this._allowUnknownOption=!1,this._allowExcessArguments=!0,this.registeredArguments=[],this._args=this.registeredArguments,this.args=[],this.rawArgs=[],this.processedArgs=[],this._scriptPath=null,this._name=e||"",this._optionValues={},this._optionValueSources={},this._storeOptionsAsProperties=!1,this._actionHandler=null,this._executableHandler=!1,this._executableFile=null,this._executableDir=null,this._defaultCommandName=null,this._exitCallback=null,this._aliases=[],this._combineFlagAndOptionalValue=!0,this._description="",this._summary="",this._argsDescription=void 0,this._enablePositionalOptions=!1,this._passThroughOptions=!1,this._lifeCycleHooks={},this._showHelpAfterError=!1,this._showSuggestionAfterError=!0,this._outputConfiguration={writeOut:t=>K.stdout.write(t),writeErr:t=>K.stderr.write(t),getOutHelpWidth:()=>K.stdout.isTTY?K.stdout.columns:void 0,getErrHelpWidth:()=>K.stderr.isTTY?K.stderr.columns:void 0,outputError:(t,s)=>s(t)},this._hidden=!1,this._hasHelpOption=!0,this._helpFlags="-h, --help",this._helpDescription="display help for command",this._helpShortFlag="-h",this._helpLongFlag="--help",this._addImplicitHelpCommand=void 0,this._helpCommandName="help",this._helpCommandnameAndArgs="help [command]",this._helpCommandDescription="display help for command",this._helpConfiguration={}}copyInheritedSettings(e){return this._outputConfiguration=e._outputConfiguration,this._hasHelpOption=e._hasHelpOption,this._helpFlags=e._helpFlags,this._helpDescription=e._helpDescription,this._helpShortFlag=e._helpShortFlag,this._helpLongFlag=e._helpLongFlag,this._helpCommandName=e._helpCommandName,this._helpCommandnameAndArgs=e._helpCommandnameAndArgs,this._helpCommandDescription=e._helpCommandDescription,this._helpConfiguration=e._helpConfiguration,this._exitCallback=e._exitCallback,this._storeOptionsAsProperties=e._storeOptionsAsProperties,this._combineFlagAndOptionalValue=e._combineFlagAndOptionalValue,this._allowExcessArguments=e._allowExcessArguments,this._enablePositionalOptions=e._enablePositionalOptions,this._showHelpAfterError=e._showHelpAfterError,this._showSuggestionAfterError=e._showSuggestionAfterError,this}_getCommandAndAncestors(){let e=[];for(let t=this;t;t=t.parent)e.push(t);return e}command(e,t,s){let n=t,a=s;typeof n=="object"&&n!==null&&(a=n,n=null),a=a||{};let[,o,h]=e.match(/([^ ]+) *(.*)/),d=this.createCommand(o);return n&&(d.description(n),d._executableHandler=!0),a.isDefault&&(this._defaultCommandName=d._name),d._hidden=!!(a.noHelp||a.hidden),d._executableFile=a.executableFile||null,h&&d.arguments(h),this.commands.push(d),d.parent=this,d.copyInheritedSettings(this),n?this:d}createCommand(e){return new r(e)}createHelp(){return Object.assign(new o0,this.configureHelp())}configureHelp(e){return e===void 0?this._helpConfiguration:(this._helpConfiguration=e,this)}configureOutput(e){return e===void 0?this._outputConfiguration:(Object.assign(this._outputConfiguration,e),this)}showHelpAfterError(e=!0){return typeof e!="string"&&(e=!!e),this._showHelpAfterError=e,this}showSuggestionAfterError(e=!0){return this._showSuggestionAfterError=!!e,this}addCommand(e,t){if(!e._name)throw new Error(`Command passed to .addCommand() must have a name
- specify the name in Command constructor or using .name()`);return t=t||{},t.isDefault&&(this._defaultCommandName=e._name),(t.noHelp||t.hidden)&&(e._hidden=!0),this.commands.push(e),e.parent=this,this}createArgument(e,t){return new i0(e,t)}argument(e,t,s,n){let a=this.createArgument(e,t);return typeof s=="function"?a.default(n).argParser(s):a.default(s),this.addArgument(a),this}arguments(e){return e.trim().split(/ +/).forEach(t=>{this.argument(t)}),this}addArgument(e){let t=this.registeredArguments.slice(-1)[0];if(t&&t.variadic)throw new Error(`only the last argument can be variadic '${t.name()}'`);if(e.required&&e.defaultValue!==void 0&&e.parseArg===void 0)throw new Error(`a default value for a required argument is never used: '${e.name()}'`);return this.registeredArguments.push(e),this}addHelpCommand(e,t){return e===!1?this._addImplicitHelpCommand=!1:(this._addImplicitHelpCommand=!0,typeof e=="string"&&(this._helpCommandName=e.split(" ")[0],this._helpCommandnameAndArgs=e),this._helpCommandDescription=t||this._helpCommandDescription),this}_hasImplicitHelpCommand(){return this._addImplicitHelpCommand===void 0?this.commands.length&&!this._actionHandler&&!this._findCommand("help"):this._addImplicitHelpCommand}hook(e,t){let s=["preSubcommand","preAction","postAction"];if(!s.includes(e))throw new Error(`Unexpected value for event passed to hook : '${e}'.
Expecting one of '${s.join("', '")}'`);return this._lifeCycleHooks[e]?this._lifeCycleHooks[e].push(t):this._lifeCycleHooks[e]=[t],this}exitOverride(e){return e?this._exitCallback=e:this._exitCallback=t=>{if(t.code!=="commander.executeSubCommandAsync")throw t},this}_exit(e,t,s){this._exitCallback&&this._exitCallback(new ul(e,t,s)),K.exit(e)}action(e){let t=s=>{let n=this.registeredArguments.length,a=s.slice(0,n);return this._storeOptionsAsProperties?a[n]=this:a[n]=this.opts(),a.push(this),e.apply(this,a)};return this._actionHandler=t,this}createOption(e,t){return new rm(e,t)}_callParseArg(e,t,s,n){try{return e.parseArg(t,s)}catch(a){if(a.code==="commander.invalidArgument"){let o=`${n} ${a.message}`;this.error(o,{exitCode:a.exitCode,code:a.code})}throw a}}addOption(e){let t=e.name(),s=e.attributeName();if(e.negate){let a=e.long.replace(/^--no-/,"--");this._findOption(a)||this.setOptionValueWithSource(s,e.defaultValue===void 0?!0:e.defaultValue,"default")}else e.defaultValue!==void 0&&this.setOptionValueWithSource(s,e.defaultValue,"default");this.options.push(e);let n=(a,o,h)=>{a==null&&e.presetArg!==void 0&&(a=e.presetArg);let d=this.getOptionValue(s);a!==null&&e.parseArg?a=this._callParseArg(e,a,d,o):a!==null&&e.variadic&&(a=e._concatValue(a,d)),a==null&&(e.negate?a=!1:e.isBoolean()||e.optional?a=!0:a=""),this.setOptionValueWithSource(s,a,h)};return this.on("option:"+t,a=>{let o=`error: option '${e.flags}' argument '${a}' is invalid.`;n(a,o,"cli")}),e.envVar&&this.on("optionEnv:"+t,a=>{let o=`error: option '${e.flags}' value '${a}' from env '${e.envVar}' is invalid.`;n(a,o,"env")}),this}_optionEx(e,t,s,n,a){if(typeof t=="object"&&t instanceof rm)throw new Error("To add an Option object use addOption() instead of option() or requiredOption()");let o=this.createOption(t,s);if(o.makeOptionMandatory(!!e.mandatory),typeof n=="function")o.default(a).argParser(n);else if(n instanceof RegExp){let h=n;n=(d,f)=>{let p=h.exec(d);return p?p[0]:f},o.default(a).argParser(n)}else o.default(n);return this.addOption(o)}option(e,t,s,n){return this._optionEx({},e,t,s,n)}requiredOption(e,t,s,n){return this._optionEx({mandatory:!0},e,t,s,n)}combineFlagAndOptionalValue(e=!0){return this._combineFlagAndOptionalValue=!!e,this}allowUnknownOption(e=!0){return this._allowUnknownOption=!!e,this}allowExcessArguments(e=!0){return this._allowExcessArguments=!!e,this}enablePositionalOptions(e=!0){return this._enablePositionalOptions=!!e,this}passThroughOptions(e=!0){if(this._passThroughOptions=!!e,this.parent&&e&&!this.parent._enablePositionalOptions)throw new Error("passThroughOptions can not be used without turning on enablePositionalOptions for parent command(s)");return this}storeOptionsAsProperties(e=!0){if(this.options.length)throw new Error("call .storeOptionsAsProperties() before adding options");return this._storeOptionsAsProperties=!!e,this}getOptionValue(e){return this._storeOptionsAsProperties?this[e]:this._optionValues[e]}setOptionValue(e,t){return this.setOptionValueWithSource(e,t,void 0)}setOptionValueWithSource(e,t,s){return this._storeOptionsAsProperties?this[e]=t:this._optionValues[e]=t,this._optionValueSources[e]=s,this}getOptionValueSource(e){return this._optionValueSources[e]}getOptionValueSourceWithGlobals(e){let t;return this._getCommandAndAncestors().forEach(s=>{s.getOptionValueSource(e)!==void 0&&(t=s.getOptionValueSource(e))}),t}_prepareUserArgs(e,t){if(e!==void 0&&!Array.isArray(e))throw new Error("first parameter to parse must be array or undefined");t=t||{},e===void 0&&(e=K.argv,K.versions&&K.versions.electron&&(t.from="electron")),this.rawArgs=e.slice();let s;switch(t.from){case void 0:case"node":this._scriptPath=e[1],s=e.slice(2);break;case"electron":K.defaultApp?(this._scriptPath=e[1],s=e.slice(2)):s=e.slice(1);break;case"user":s=e.slice(0);break;default:throw new Error(`unexpected parse option { from: '${t.from}' }`)}return!this._name&&this._scriptPath&&this.nameFromFilename(this._scriptPath),this._name=this._name||"program",s}parse(e,t){let s=this._prepareUserArgs(e,t);return this._parseCommand([],s),this}async parseAsync(e,t){let s=this._prepareUserArgs(e,t);return await this._parseCommand([],s),this}_executeSubCommand(e,t){t=t.slice();let s=!1,n=[".js",".ts",".tsx",".mjs",".cjs"];function a(p,D){let y=Pt.resolve(p,D);if(al.existsSync(y))return y;if(n.includes(Pt.extname(D)))return;let C=n.find(g=>al.existsSync(`${y}${g}`));if(C)return`${y}${C}`}this._checkForMissingMandatoryOptions(),this._checkForConflictingOptions();let o=e._executableFile||`${this._name}-${e._name}`,h=this._executableDir||"";if(this._scriptPath){let p;try{p=al.realpathSync(this._scriptPath)}catch{p=this._scriptPath}h=Pt.resolve(Pt.dirname(p),h)}if(h){let p=a(h,o);if(!p&&!e._executableFile&&this._scriptPath){let D=Pt.basename(this._scriptPath,Pt.extname(this._scriptPath));D!==this._name&&(p=a(h,`${D}-${e._name}`))}o=p||o}s=n.includes(Pt.extname(o));let d;K.platform!=="win32"?s?(t.unshift(o),t=nm(K.execArgv).concat(t),d=ol.spawn(K.argv[0],t,{stdio:"inherit"})):d=ol.spawn(o,t,{stdio:"inherit"}):(t.unshift(o),t=nm(K.execArgv).concat(t),d=ol.spawn(K.execPath,t,{stdio:"inherit"})),d.killed||["SIGUSR1","SIGUSR2","SIGTERM","SIGINT","SIGHUP"].forEach(D=>{K.on(D,()=>{d.killed===!1&&d.exitCode===null&&d.kill(D)})});let f=this._exitCallback;f?d.on("close",()=>{f(new ul(K.exitCode||0,"commander.executeSubCommandAsync","(close)"))}):d.on("close",K.exit.bind(K)),d.on("error",p=>{if(p.code==="ENOENT"){let D=h?`searched for local subcommand relative to directory '${h}'`:"no directory for search for local subcommand, use .executableDir() to supply a custom directory",y=`'${o}' does not exist
 - if '${e._name}' is not meant to be an executable command, remove description parameter from '.command()' and use '.description()' instead
 - if the default executable name is not suitable, use the executableFile option to supply a custom name or path
 - ${D}`;throw new Error(y)}else if(p.code==="EACCES")throw new Error(`'${o}' not executable`);if(!f)K.exit(1);else{let D=new ul(1,"commander.executeSubCommandAsync","(error)");D.nestedError=p,f(D)}}),this.runningCommand=d}_dispatchSubcommand(e,t,s){let n=this._findCommand(e);n||this.help({error:!0});let a;return a=this._chainOrCallSubCommandHook(a,n,"preSubcommand"),a=this._chainOrCall(a,()=>{if(n._executableHandler)this._executeSubCommand(n,t.concat(s));else return n._parseCommand(t,s)}),a}_dispatchHelpCommand(e){e||this.help();let t=this._findCommand(e);return t&&!t._executableHandler&&t.help(),this._dispatchSubcommand(e,[],[this._helpLongFlag||this._helpShortFlag])}_checkNumberOfArguments(){this.registeredArguments.forEach((e,t)=>{e.required&&this.args[t]==null&&this.missingArgument(e.name())}),!(this.registeredArguments.length>0&&this.registeredArguments[this.registeredArguments.length-1].variadic)&&this.args.length>this.registeredArguments.length&&this._excessArguments(this.args)}_processArguments(){let e=(s,n,a)=>{let o=n;if(n!==null&&s.parseArg){let h=`error: command-argument value '${n}' is invalid for argument '${s.name()}'.`;o=this._callParseArg(s,n,a,h)}return o};this._checkNumberOfArguments();let t=[];this.registeredArguments.forEach((s,n)=>{let a=s.defaultValue;s.variadic?n<this.args.length?(a=this.args.slice(n),s.parseArg&&(a=a.reduce((o,h)=>e(s,h,o),s.defaultValue))):a===void 0&&(a=[]):n<this.args.length&&(a=this.args[n],s.parseArg&&(a=e(s,a,s.defaultValue))),t[n]=a}),this.processedArgs=t}_chainOrCall(e,t){return e&&e.then&&typeof e.then=="function"?e.then(()=>t()):t()}_chainOrCallHooks(e,t){let s=e,n=[];return this._getCommandAndAncestors().reverse().filter(a=>a._lifeCycleHooks[t]!==void 0).forEach(a=>{a._lifeCycleHooks[t].forEach(o=>{n.push({hookedCommand:a,callback:o})})}),t==="postAction"&&n.reverse(),n.forEach(a=>{s=this._chainOrCall(s,()=>a.callback(a.hookedCommand,this))}),s}_chainOrCallSubCommandHook(e,t,s){let n=e;return this._lifeCycleHooks[s]!==void 0&&this._lifeCycleHooks[s].forEach(a=>{n=this._chainOrCall(n,()=>a(this,t))}),n}_parseCommand(e,t){let s=this.parseOptions(t);if(this._parseOptionsEnv(),this._parseOptionsImplied(),e=e.concat(s.operands),t=s.unknown,this.args=e.concat(t),e&&this._findCommand(e[0]))return this._dispatchSubcommand(e[0],e.slice(1),t);if(this._hasImplicitHelpCommand()&&e[0]===this._helpCommandName)return this._dispatchHelpCommand(e[1]);if(this._defaultCommandName)return im(this,t),this._dispatchSubcommand(this._defaultCommandName,e,t);this.commands.length&&this.args.length===0&&!this._actionHandler&&!this._defaultCommandName&&this.help({error:!0}),im(this,s.unknown),this._checkForMissingMandatoryOptions(),this._checkForConflictingOptions();let n=()=>{s.unknown.length>0&&this.unknownOption(s.unknown[0])},a=`command:${this.name()}`;if(this._actionHandler){n(),this._processArguments();let o;return o=this._chainOrCallHooks(o,"preAction"),o=this._chainOrCall(o,()=>this._actionHandler(this.processedArgs)),this.parent&&(o=this._chainOrCall(o,()=>{this.parent.emit(a,e,t)})),o=this._chainOrCallHooks(o,"postAction"),o}if(this.parent&&this.parent.listenerCount(a))n(),this._processArguments(),this.parent.emit(a,e,t);else if(e.length){if(this._findCommand("*"))return this._dispatchSubcommand("*",e,t);this.listenerCount("command:*")?this.emit("command:*",e,t):this.commands.length?this.unknownCommand():(n(),this._processArguments())}else this.commands.length?(n(),this.help({error:!0})):(n(),this._processArguments())}_findCommand(e){if(e)return this.commands.find(t=>t._name===e||t._aliases.includes(e))}_findOption(e){return this.options.find(t=>t.is(e))}_checkForMissingMandatoryOptions(){this._getCommandAndAncestors().forEach(e=>{e.options.forEach(t=>{t.mandatory&&e.getOptionValue(t.attributeName())===void 0&&e.missingMandatoryOptionValue(t)})})}_checkForConflictingLocalOptions(){let e=this.options.filter(s=>{let n=s.attributeName();return this.getOptionValue(n)===void 0?!1:this.getOptionValueSource(n)!=="default"});e.filter(s=>s.conflictsWith.length>0).forEach(s=>{let n=e.find(a=>s.conflictsWith.includes(a.attributeName()));n&&this._conflictingOption(s,n)})}_checkForConflictingOptions(){this._getCommandAndAncestors().forEach(e=>{e._checkForConflictingLocalOptions()})}parseOptions(e){let t=[],s=[],n=t,a=e.slice();function o(d){return d.length>1&&d[0]==="-"}let h=null;for(;a.length;){let d=a.shift();if(d==="--"){n===s&&n.push(d),n.push(...a);break}if(h&&!o(d)){this.emit(`option:${h.name()}`,d);continue}if(h=null,o(d)){let f=this._findOption(d);if(f){if(f.required){let p=a.shift();p===void 0&&this.optionMissingArgument(f),this.emit(`option:${f.name()}`,p)}else if(f.optional){let p=null;a.length>0&&!o(a[0])&&(p=a.shift()),this.emit(`option:${f.name()}`,p)}else this.emit(`option:${f.name()}`);h=f.variadic?f:null;continue}}if(d.length>2&&d[0]==="-"&&d[1]!=="-"){let f=this._findOption(`-${d[1]}`);if(f){f.required||f.optional&&this._combineFlagAndOptionalValue?this.emit(`option:${f.name()}`,d.slice(2)):(this.emit(`option:${f.name()}`),a.unshift(`-${d.slice(2)}`));continue}}if(/^--[^=]+=/.test(d)){let f=d.indexOf("="),p=this._findOption(d.slice(0,f));if(p&&(p.required||p.optional)){this.emit(`option:${p.name()}`,d.slice(f+1));continue}}if(o(d)&&(n=s),(this._enablePositionalOptions||this._passThroughOptions)&&t.length===0&&s.length===0){if(this._findCommand(d)){t.push(d),a.length>0&&s.push(...a);break}else if(d===this._helpCommandName&&this._hasImplicitHelpCommand()){t.push(d),a.length>0&&t.push(...a);break}else if(this._defaultCommandName){s.push(d),a.length>0&&s.push(...a);break}}if(this._passThroughOptions){n.push(d),a.length>0&&n.push(...a);break}n.push(d)}return{operands:t,unknown:s}}opts(){if(this._storeOptionsAsProperties){let e={},t=this.options.length;for(let s=0;s<t;s++){let n=this.options[s].attributeName();e[n]=n===this._versionOptionName?this._version:this[n]}return e}return this._optionValues}optsWithGlobals(){return this._getCommandAndAncestors().reduce((e,t)=>Object.assign(e,t.opts()),{})}error(e,t){this._outputConfiguration.outputError(`${e}
`,this._outputConfiguration.writeErr),typeof this._showHelpAfterError=="string"?this._outputConfiguration.writeErr(`${this._showHelpAfterError}
`):this._showHelpAfterError&&(this._outputConfiguration.writeErr(`
`),this.outputHelp({error:!0}));let s=t||{},n=s.exitCode||1,a=s.code||"commander.error";this._exit(n,a,e)}_parseOptionsEnv(){this.options.forEach(e=>{if(e.envVar&&e.envVar in K.env){let t=e.attributeName();(this.getOptionValue(t)===void 0||["default","config","env"].includes(this.getOptionValueSource(t)))&&(e.required||e.optional?this.emit(`optionEnv:${e.name()}`,K.env[e.envVar]):this.emit(`optionEnv:${e.name()}`))}})}_parseOptionsImplied(){let e=new u0(this.options),t=s=>this.getOptionValue(s)!==void 0&&!["default","implied"].includes(this.getOptionValueSource(s));this.options.filter(s=>s.implied!==void 0&&t(s.attributeName())&&e.valueFromOption(this.getOptionValue(s.attributeName()),s)).forEach(s=>{Object.keys(s.implied).filter(n=>!t(n)).forEach(n=>{this.setOptionValueWithSource(n,s.implied[n],"implied")})})}missingArgument(e){let t=`error: missing required argument '${e}'`;this.error(t,{code:"commander.missingArgument"})}optionMissingArgument(e){let t=`error: option '${e.flags}' argument missing`;this.error(t,{code:"commander.optionMissingArgument"})}missingMandatoryOptionValue(e){let t=`error: required option '${e.flags}' not specified`;this.error(t,{code:"commander.missingMandatoryOptionValue"})}_conflictingOption(e,t){let s=o=>{let h=o.attributeName(),d=this.getOptionValue(h),f=this.options.find(D=>D.negate&&h===D.attributeName()),p=this.options.find(D=>!D.negate&&h===D.attributeName());return f&&(f.presetArg===void 0&&d===!1||f.presetArg!==void 0&&d===f.presetArg)?f:p||o},n=o=>{let h=s(o),d=h.attributeName();return this.getOptionValueSource(d)==="env"?`environment variable '${h.envVar}'`:`option '${h.flags}'`},a=`error: ${n(e)} cannot be used with ${n(t)}`;this.error(a,{code:"commander.conflictingOption"})}unknownOption(e){if(this._allowUnknownOption)return;let t="";if(e.startsWith("--")&&this._showSuggestionAfterError){let n=[],a=this;do{let o=a.createHelp().visibleOptions(a).filter(h=>h.long).map(h=>h.long);n=n.concat(o),a=a.parent}while(a&&!a._enablePositionalOptions);t=sm(e,n)}let s=`error: unknown option '${e}'${t}`;this.error(s,{code:"commander.unknownOption"})}_excessArguments(e){if(this._allowExcessArguments)return;let t=this.registeredArguments.length,s=t===1?"":"s",a=`error: too many arguments${this.parent?` for '${this.name()}'`:""}. Expected ${t} argument${s} but got ${e.length}.`;this.error(a,{code:"commander.excessArguments"})}unknownCommand(){let e=this.args[0],t="";if(this._showSuggestionAfterError){let n=[];this.createHelp().visibleCommands(this).forEach(a=>{n.push(a.name()),a.alias()&&n.push(a.alias())}),t=sm(e,n)}let s=`error: unknown command '${e}'${t}`;this.error(s,{code:"commander.unknownCommand"})}version(e,t,s){if(e===void 0)return this._version;this._version=e,t=t||"-V, --version",s=s||"output the version number";let n=this.createOption(t,s);return this._versionOptionName=n.attributeName(),this.options.push(n),this.on("option:"+n.name(),()=>{this._outputConfiguration.writeOut(`${e}
`),this._exit(0,"commander.version",e)}),this}description(e,t){return e===void 0&&t===void 0?this._description:(this._description=e,t&&(this._argsDescription=t),this)}summary(e){return e===void 0?this._summary:(this._summary=e,this)}alias(e){if(e===void 0)return this._aliases[0];let t=this;if(this.commands.length!==0&&this.commands[this.commands.length-1]._executableHandler&&(t=this.commands[this.commands.length-1]),e===t._name)throw new Error("Command alias can't be the same as its name");return t._aliases.push(e),this}aliases(e){return e===void 0?this._aliases:(e.forEach(t=>this.alias(t)),this)}usage(e){if(e===void 0){if(this._usage)return this._usage;let t=this.registeredArguments.map(s=>n0(s));return[].concat(this.options.length||this._hasHelpOption?"[options]":[],this.commands.length?"[command]":[],this.registeredArguments.length?t:[]).join(" ")}return this._usage=e,this}name(e){return e===void 0?this._name:(this._name=e,this)}nameFromFilename(e){return this._name=Pt.basename(e,Pt.extname(e)),this}executableDir(e){return e===void 0?this._executableDir:(this._executableDir=e,this)}helpInformation(e){let t=this.createHelp();return t.helpWidth===void 0&&(t.helpWidth=e&&e.error?this._outputConfiguration.getErrHelpWidth():this._outputConfiguration.getOutHelpWidth()),t.formatHelp(this,t)}_getHelpContext(e){e=e||{};let t={error:!!e.error},s;return t.error?s=n=>this._outputConfiguration.writeErr(n):s=n=>this._outputConfiguration.writeOut(n),t.write=e.write||s,t.command=this,t}outputHelp(e){let t;typeof e=="function"&&(t=e,e=void 0);let s=this._getHelpContext(e);this._getCommandAndAncestors().reverse().forEach(a=>a.emit("beforeAllHelp",s)),this.emit("beforeHelp",s);let n=this.helpInformation(s);if(t&&(n=t(n),typeof n!="string"&&!Buffer.isBuffer(n)))throw new Error("outputHelp callback must return a string or a Buffer");s.write(n),this._helpLongFlag&&this.emit(this._helpLongFlag),this.emit("afterHelp",s),this._getCommandAndAncestors().forEach(a=>a.emit("afterAllHelp",s))}helpOption(e,t){if(typeof e=="boolean")return this._hasHelpOption=e,this;this._helpFlags=e||this._helpFlags,this._helpDescription=t||this._helpDescription;let s=a0(this._helpFlags);return this._helpShortFlag=s.shortFlag,this._helpLongFlag=s.longFlag,this}help(e){this.outputHelp(e);let t=K.exitCode||0;t===0&&e&&typeof e!="function"&&e.error&&(t=1),this._exit(t,"commander.help","(outputHelp)")}addHelpText(e,t){let s=["beforeAll","before","after","afterAll"];if(!s.includes(e))throw new Error(`Unexpected value for position to addHelpText.
Expecting one of '${s.join("', '")}'`);let n=`${e}Help`;return this.on(n,a=>{let o;typeof t=="function"?o=t({error:a.error,command:a.command}):o=t,o&&a.write(`${o}
`)}),this}};function im(r,e){r._hasHelpOption&&e.find(s=>s===r._helpLongFlag||s===r._helpShortFlag)&&(r.outputHelp(),r._exit(0,"commander.helpDisplayed","(outputHelp)"))}function nm(r){return r.map(e=>{if(!e.startsWith("--inspect"))return e;let t,s="127.0.0.1",n="9229",a;return(a=e.match(/^(--inspect(-brk)?)$/))!==null?t=a[1]:(a=e.match(/^(--inspect(-brk|-port)?)=([^:]+)$/))!==null?(t=a[1],/^\d+$/.test(a[3])?n=a[3]:s=a[3]):(a=e.match(/^(--inspect(-brk|-port)?)=([^:]+):(\d+)$/))!==null&&(t=a[1],s=a[3],n=a[4]),t&&n!=="0"?`${t}=${s}:${parseInt(n)+1}`:e})}om.Command=ll});var hm=A((rt,cm)=>{var{Argument:l0}=Zn(),{Command:um}=am(),{CommanderError:c0,InvalidArgumentError:lm}=Oi(),{Help:h0}=rl(),{Option:f0}=nl();rt=cm.exports=new um;rt.program=rt;rt.Command=um;rt.Option=f0;rt.Argument=l0;rt.Help=h0;rt.CommanderError=c0;rt.InvalidArgumentError=lm;rt.InvalidOptionArgumentError=lm});var ms=A((KS,Dm)=>{"use strict";var pm=new Map([["C","cwd"],["f","file"],["z","gzip"],["P","preservePaths"],["U","unlink"],["strip-components","strip"],["stripComponents","strip"],["keep-newer","newer"],["keepNewer","newer"],["keep-newer-files","newer"],["keepNewerFiles","newer"],["k","keep"],["keep-existing","keep"],["keepExisting","keep"],["m","noMtime"],["no-mtime","noMtime"],["p","preserveOwner"],["L","follow"],["h","follow"]]);Dm.exports=r=>r?Object.keys(r).map(e=>[pm.has(e)?pm.get(e):e,r[e]]).reduce((e,t)=>(e[t[0]]=t[1],e),Object.create(null)):{}});var io=A(vm=>{"use strict";var gm=typeof process=="object"&&process?process:{stdout:null,stderr:null},d0=v("events"),bm=v("stream"),m0=v("string_decoder"),ym=m0.StringDecoder,$t=Symbol("EOF"),Lt=Symbol("maybeEmitEnd"),ur=Symbol("emittedEnd"),Xn=Symbol("emittingEnd"),Bi=Symbol("emittedError"),Jn=Symbol("closed"),Em=Symbol("read"),eo=Symbol("flush"),_m=Symbol("flushChunk"),Ae=Symbol("encoding"),It=Symbol("decoder"),to=Symbol("flowing"),xi=Symbol("paused"),ps=Symbol("resume"),te=Symbol("buffer"),mt=Symbol("pipes"),ue=Symbol("bufferLength"),fl=Symbol("bufferPush"),dl=Symbol("bufferShift"),me=Symbol("objectMode"),re=Symbol("destroyed"),ml=Symbol("error"),pl=Symbol("emitData"),Cm=Symbol("emitEnd"),Dl=Symbol("emitEnd2"),Nt=Symbol("async"),gl=Symbol("abort"),ro=Symbol("aborted"),Lr=Symbol("signal"),Pi=r=>Promise.resolve().then(r),Fm=global._MP_NO_ITERATOR_SYMBOLS_!=="1",wm=Fm&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),Sm=Fm&&Symbol.iterator||Symbol("iterator not implemented"),p0=r=>r==="end"||r==="finish"||r==="prefinish",D0=r=>r instanceof ArrayBuffer||typeof r=="object"&&r.constructor&&r.constructor.name==="ArrayBuffer"&&r.byteLength>=0,g0=r=>!Buffer.isBuffer(r)&&ArrayBuffer.isView(r),so=class{constructor(e,t,s){this.src=e,this.dest=t,this.opts=s,this.ondrain=()=>e[ps](),t.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}},bl=class extends so{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(e,t,s){super(e,t,s),this.proxyErrors=n=>t.emit("error",n),e.on("error",this.proxyErrors)}},yl=class r extends bm{constructor(e){super(),this[to]=!1,this[xi]=!1,this[mt]=[],this[te]=[],this[me]=e&&e.objectMode||!1,this[me]?this[Ae]=null:this[Ae]=e&&e.encoding||null,this[Ae]==="buffer"&&(this[Ae]=null),this[Nt]=e&&!!e.async||!1,this[It]=this[Ae]?new ym(this[Ae]):null,this[$t]=!1,this[ur]=!1,this[Xn]=!1,this[Jn]=!1,this[Bi]=null,this.writable=!0,this.readable=!0,this[ue]=0,this[re]=!1,e&&e.debugExposeBuffer===!0&&Object.defineProperty(this,"buffer",{get:()=>this[te]}),e&&e.debugExposePipes===!0&&Object.defineProperty(this,"pipes",{get:()=>this[mt]}),this[Lr]=e&&e.signal,this[ro]=!1,this[Lr]&&(this[Lr].addEventListener("abort",()=>this[gl]()),this[Lr].aborted&&this[gl]())}get bufferLength(){return this[ue]}get encoding(){return this[Ae]}set encoding(e){if(this[me])throw new Error("cannot set encoding in objectMode");if(this[Ae]&&e!==this[Ae]&&(this[It]&&this[It].lastNeed||this[ue]))throw new Error("cannot change encoding");this[Ae]!==e&&(this[It]=e?new ym(e):null,this[te].length&&(this[te]=this[te].map(t=>this[It].write(t)))),this[Ae]=e}setEncoding(e){this.encoding=e}get objectMode(){return this[me]}set objectMode(e){this[me]=this[me]||!!e}get async(){return this[Nt]}set async(e){this[Nt]=this[Nt]||!!e}[gl](){this[ro]=!0,this.emit("abort",this[Lr].reason),this.destroy(this[Lr].reason)}get aborted(){return this[ro]}set aborted(e){}write(e,t,s){if(this[ro])return!1;if(this[$t])throw new Error("write after end");if(this[re])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof t=="function"&&(s=t,t="utf8"),t||(t="utf8");let n=this[Nt]?Pi:a=>a();return!this[me]&&!Buffer.isBuffer(e)&&(g0(e)?e=Buffer.from(e.buffer,e.byteOffset,e.byteLength):D0(e)?e=Buffer.from(e):typeof e!="string"&&(this.objectMode=!0)),this[me]?(this.flowing&&this[ue]!==0&&this[eo](!0),this.flowing?this.emit("data",e):this[fl](e),this[ue]!==0&&this.emit("readable"),s&&n(s),this.flowing):e.length?(typeof e=="string"&&!(t===this[Ae]&&!this[It].lastNeed)&&(e=Buffer.from(e,t)),Buffer.isBuffer(e)&&this[Ae]&&(e=this[It].write(e)),this.flowing&&this[ue]!==0&&this[eo](!0),this.flowing?this.emit("data",e):this[fl](e),this[ue]!==0&&this.emit("readable"),s&&n(s),this.flowing):(this[ue]!==0&&this.emit("readable"),s&&n(s),this.flowing)}read(e){if(this[re])return null;if(this[ue]===0||e===0||e>this[ue])return this[Lt](),null;this[me]&&(e=null),this[te].length>1&&!this[me]&&(this.encoding?this[te]=[this[te].join("")]:this[te]=[Buffer.concat(this[te],this[ue])]);let t=this[Em](e||null,this[te][0]);return this[Lt](),t}[Em](e,t){return e===t.length||e===null?this[dl]():(this[te][0]=t.slice(e),t=t.slice(0,e),this[ue]-=e),this.emit("data",t),!this[te].length&&!this[$t]&&this.emit("drain"),t}end(e,t,s){return typeof e=="function"&&(s=e,e=null),typeof t=="function"&&(s=t,t="utf8"),e&&this.write(e,t),s&&this.once("end",s),this[$t]=!0,this.writable=!1,(this.flowing||!this[xi])&&this[Lt](),this}[ps](){this[re]||(this[xi]=!1,this[to]=!0,this.emit("resume"),this[te].length?this[eo]():this[$t]?this[Lt]():this.emit("drain"))}resume(){return this[ps]()}pause(){this[to]=!1,this[xi]=!0}get destroyed(){return this[re]}get flowing(){return this[to]}get paused(){return this[xi]}[fl](e){this[me]?this[ue]+=1:this[ue]+=e.length,this[te].push(e)}[dl](){return this[me]?this[ue]-=1:this[ue]-=this[te][0].length,this[te].shift()}[eo](e){do;while(this[_m](this[dl]())&&this[te].length);!e&&!this[te].length&&!this[$t]&&this.emit("drain")}[_m](e){return this.emit("data",e),this.flowing}pipe(e,t){if(this[re])return;let s=this[ur];return t=t||{},e===gm.stdout||e===gm.stderr?t.end=!1:t.end=t.end!==!1,t.proxyErrors=!!t.proxyErrors,s?t.end&&e.end():(this[mt].push(t.proxyErrors?new bl(this,e,t):new so(this,e,t)),this[Nt]?Pi(()=>this[ps]()):this[ps]()),e}unpipe(e){let t=this[mt].find(s=>s.dest===e);t&&(this[mt].splice(this[mt].indexOf(t),1),t.unpipe())}addListener(e,t){return this.on(e,t)}on(e,t){let s=super.on(e,t);return e==="data"&&!this[mt].length&&!this.flowing?this[ps]():e==="readable"&&this[ue]!==0?super.emit("readable"):p0(e)&&this[ur]?(super.emit(e),this.removeAllListeners(e)):e==="error"&&this[Bi]&&(this[Nt]?Pi(()=>t.call(this,this[Bi])):t.call(this,this[Bi])),s}get emittedEnd(){return this[ur]}[Lt](){!this[Xn]&&!this[ur]&&!this[re]&&this[te].length===0&&this[$t]&&(this[Xn]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[Jn]&&this.emit("close"),this[Xn]=!1)}emit(e,t,...s){if(e!=="error"&&e!=="close"&&e!==re&&this[re])return;if(e==="data")return!this[me]&&!t?!1:this[Nt]?Pi(()=>this[pl](t)):this[pl](t);if(e==="end")return this[Cm]();if(e==="close"){if(this[Jn]=!0,!this[ur]&&!this[re])return;let a=super.emit("close");return this.removeAllListeners("close"),a}else if(e==="error"){this[Bi]=t,super.emit(ml,t);let a=!this[Lr]||this.listeners("error").length?super.emit("error",t):!1;return this[Lt](),a}else if(e==="resume"){let a=super.emit("resume");return this[Lt](),a}else if(e==="finish"||e==="prefinish"){let a=super.emit(e);return this.removeAllListeners(e),a}let n=super.emit(e,t,...s);return this[Lt](),n}[pl](e){for(let s of this[mt])s.dest.write(e)===!1&&this.pause();let t=super.emit("data",e);return this[Lt](),t}[Cm](){this[ur]||(this[ur]=!0,this.readable=!1,this[Nt]?Pi(()=>this[Dl]()):this[Dl]())}[Dl](){if(this[It]){let t=this[It].end();if(t){for(let s of this[mt])s.dest.write(t);super.emit("data",t)}}for(let t of this[mt])t.end();let e=super.emit("end");return this.removeAllListeners("end"),e}collect(){let e=[];this[me]||(e.dataLength=0);let t=this.promise();return this.on("data",s=>{e.push(s),this[me]||(e.dataLength+=s.length)}),t.then(()=>e)}concat(){return this[me]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(e=>this[me]?Promise.reject(new Error("cannot concat in objectMode")):this[Ae]?e.join(""):Buffer.concat(e,e.dataLength))}promise(){return new Promise((e,t)=>{this.on(re,()=>t(new Error("stream destroyed"))),this.on("error",s=>t(s)),this.on("end",()=>e())})}[wm](){let e=!1,t=()=>(this.pause(),e=!0,Promise.resolve({done:!0}));return{next:()=>{if(e)return t();let n=this.read();if(n!==null)return Promise.resolve({done:!1,value:n});if(this[$t])return t();let a=null,o=null,h=D=>{this.removeListener("data",d),this.removeListener("end",f),this.removeListener(re,p),t(),o(D)},d=D=>{this.removeListener("error",h),this.removeListener("end",f),this.removeListener(re,p),this.pause(),a({value:D,done:!!this[$t]})},f=()=>{this.removeListener("error",h),this.removeListener("data",d),this.removeListener(re,p),t(),a({done:!0})},p=()=>h(new Error("stream destroyed"));return new Promise((D,y)=>{o=y,a=D,this.once(re,p),this.once("error",h),this.once("end",f),this.once("data",d)})},throw:t,return:t,[wm](){return this}}}[Sm](){let e=!1,t=()=>(this.pause(),this.removeListener(ml,t),this.removeListener(re,t),this.removeListener("end",t),e=!0,{done:!0}),s=()=>{if(e)return t();let n=this.read();return n===null?t():{value:n}};return this.once("end",t),this.once(ml,t),this.once(re,t),{next:s,throw:t,return:t,[Sm](){return this}}}destroy(e){return this[re]?(e?this.emit("error",e):this.emit(re),this):(this[re]=!0,this[te].length=0,this[ue]=0,typeof this.close=="function"&&!this[Jn]&&this.close(),e?this.emit("error",e):this.emit(re),this)}static isStream(e){return!!e&&(e instanceof r||e instanceof bm||e instanceof d0&&(typeof e.pipe=="function"||typeof e.write=="function"&&typeof e.end=="function"))}};vm.Minipass=yl});var Am=A((QS,Rm)=>{var b0=v("zlib").constants||{ZLIB_VERNUM:4736};Rm.exports=Object.freeze(Object.assign(Object.create(null),{Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_VERSION_ERROR:-6,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,DEFLATE:1,INFLATE:2,GZIP:3,GUNZIP:4,DEFLATERAW:5,INFLATERAW:6,UNZIP:7,BROTLI_DECODE:8,BROTLI_ENCODE:9,Z_MIN_WINDOWBITS:8,Z_MAX_WINDOWBITS:15,Z_DEFAULT_WINDOWBITS:15,Z_MIN_CHUNK:64,Z_MAX_CHUNK:1/0,Z_DEFAULT_CHUNK:16384,Z_MIN_MEMLEVEL:1,Z_MAX_MEMLEVEL:9,Z_DEFAULT_MEMLEVEL:8,Z_MIN_LEVEL:-1,Z_MAX_LEVEL:9,Z_DEFAULT_LEVEL:-1,BROTLI_OPERATION_PROCESS:0,BROTLI_OPERATION_FLUSH:1,BROTLI_OPERATION_FINISH:2,BROTLI_OPERATION_EMIT_METADATA:3,BROTLI_MODE_GENERIC:0,BROTLI_MODE_TEXT:1,BROTLI_MODE_FONT:2,BROTLI_DEFAULT_MODE:0,BROTLI_MIN_QUALITY:0,BROTLI_MAX_QUALITY:11,BROTLI_DEFAULT_QUALITY:11,BROTLI_MIN_WINDOW_BITS:10,BROTLI_MAX_WINDOW_BITS:24,BROTLI_LARGE_MAX_WINDOW_BITS:30,BROTLI_DEFAULT_WINDOW:22,BROTLI_MIN_INPUT_BLOCK_BITS:16,BROTLI_MAX_INPUT_BLOCK_BITS:24,BROTLI_PARAM_MODE:0,BROTLI_PARAM_QUALITY:1,BROTLI_PARAM_LGWIN:2,BROTLI_PARAM_LGBLOCK:3,BROTLI_PARAM_DISABLE_LITERAL_CONTEXT_MODELING:4,BROTLI_PARAM_SIZE_HINT:5,BROTLI_PARAM_LARGE_WINDOW:6,BROTLI_PARAM_NPOSTFIX:7,BROTLI_PARAM_NDIRECT:8,BROTLI_DECODER_RESULT_ERROR:0,BROTLI_DECODER_RESULT_SUCCESS:1,BROTLI_DECODER_RESULT_NEEDS_MORE_INPUT:2,BROTLI_DECODER_RESULT_NEEDS_MORE_OUTPUT:3,BROTLI_DECODER_PARAM_DISABLE_RING_BUFFER_REALLOCATION:0,BROTLI_DECODER_PARAM_LARGE_WINDOW:1,BROTLI_DECODER_NO_ERROR:0,BROTLI_DECODER_SUCCESS:1,BROTLI_DECODER_NEEDS_MORE_INPUT:2,BROTLI_DECODER_NEEDS_MORE_OUTPUT:3,BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_NIBBLE:-1,BROTLI_DECODER_ERROR_FORMAT_RESERVED:-2,BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_META_NIBBLE:-3,BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_ALPHABET:-4,BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_SAME:-5,BROTLI_DECODER_ERROR_FORMAT_CL_SPACE:-6,BROTLI_DECODER_ERROR_FORMAT_HUFFMAN_SPACE:-7,BROTLI_DECODER_ERROR_FORMAT_CONTEXT_MAP_REPEAT:-8,BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_1:-9,BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_2:-10,BROTLI_DECODER_ERROR_FORMAT_TRANSFORM:-11,BROTLI_DECODER_ERROR_FORMAT_DICTIONARY:-12,BROTLI_DECODER_ERROR_FORMAT_WINDOW_BITS:-13,BROTLI_DECODER_ERROR_FORMAT_PADDING_1:-14,BROTLI_DECODER_ERROR_FORMAT_PADDING_2:-15,BROTLI_DECODER_ERROR_FORMAT_DISTANCE:-16,BROTLI_DECODER_ERROR_DICTIONARY_NOT_SET:-19,BROTLI_DECODER_ERROR_INVALID_ARGUMENTS:-20,BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MODES:-21,BROTLI_DECODER_ERROR_ALLOC_TREE_GROUPS:-22,BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MAP:-25,BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_1:-26,BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_2:-27,BROTLI_DECODER_ERROR_ALLOC_BLOCK_TYPE_TREES:-30,BROTLI_DECODER_ERROR_UNREACHABLE:-31},b0))});var Mm=A((XS,Nm)=>{"use strict";var Tm=typeof process=="object"&&process?process:{stdout:null,stderr:null},y0=v("events"),Om=v("stream"),Bm=v("string_decoder").StringDecoder,Mt=Symbol("EOF"),kt=Symbol("maybeEmitEnd"),lr=Symbol("emittedEnd"),no=Symbol("emittingEnd"),$i=Symbol("emittedError"),oo=Symbol("closed"),xm=Symbol("read"),ao=Symbol("flush"),Pm=Symbol("flushChunk"),Te=Symbol("encoding"),qt=Symbol("decoder"),uo=Symbol("flowing"),Li=Symbol("paused"),Ds=Symbol("resume"),le=Symbol("bufferLength"),El=Symbol("bufferPush"),_l=Symbol("bufferShift"),De=Symbol("objectMode"),ge=Symbol("destroyed"),Cl=Symbol("emitData"),$m=Symbol("emitEnd"),wl=Symbol("emitEnd2"),Wt=Symbol("async"),Ii=r=>Promise.resolve().then(r),Lm=global._MP_NO_ITERATOR_SYMBOLS_!=="1",E0=Lm&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),_0=Lm&&Symbol.iterator||Symbol("iterator not implemented"),C0=r=>r==="end"||r==="finish"||r==="prefinish",w0=r=>r instanceof ArrayBuffer||typeof r=="object"&&r.constructor&&r.constructor.name==="ArrayBuffer"&&r.byteLength>=0,S0=r=>!Buffer.isBuffer(r)&&ArrayBuffer.isView(r),lo=class{constructor(e,t,s){this.src=e,this.dest=t,this.opts=s,this.ondrain=()=>e[Ds](),t.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}},Sl=class extends lo{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(e,t,s){super(e,t,s),this.proxyErrors=n=>t.emit("error",n),e.on("error",this.proxyErrors)}};Nm.exports=class Im extends Om{constructor(e){super(),this[uo]=!1,this[Li]=!1,this.pipes=[],this.buffer=[],this[De]=e&&e.objectMode||!1,this[De]?this[Te]=null:this[Te]=e&&e.encoding||null,this[Te]==="buffer"&&(this[Te]=null),this[Wt]=e&&!!e.async||!1,this[qt]=this[Te]?new Bm(this[Te]):null,this[Mt]=!1,this[lr]=!1,this[no]=!1,this[oo]=!1,this[$i]=null,this.writable=!0,this.readable=!0,this[le]=0,this[ge]=!1}get bufferLength(){return this[le]}get encoding(){return this[Te]}set encoding(e){if(this[De])throw new Error("cannot set encoding in objectMode");if(this[Te]&&e!==this[Te]&&(this[qt]&&this[qt].lastNeed||this[le]))throw new Error("cannot change encoding");this[Te]!==e&&(this[qt]=e?new Bm(e):null,this.buffer.length&&(this.buffer=this.buffer.map(t=>this[qt].write(t)))),this[Te]=e}setEncoding(e){this.encoding=e}get objectMode(){return this[De]}set objectMode(e){this[De]=this[De]||!!e}get async(){return this[Wt]}set async(e){this[Wt]=this[Wt]||!!e}write(e,t,s){if(this[Mt])throw new Error("write after end");if(this[ge])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof t=="function"&&(s=t,t="utf8"),t||(t="utf8");let n=this[Wt]?Ii:a=>a();return!this[De]&&!Buffer.isBuffer(e)&&(S0(e)?e=Buffer.from(e.buffer,e.byteOffset,e.byteLength):w0(e)?e=Buffer.from(e):typeof e!="string"&&(this.objectMode=!0)),this[De]?(this.flowing&&this[le]!==0&&this[ao](!0),this.flowing?this.emit("data",e):this[El](e),this[le]!==0&&this.emit("readable"),s&&n(s),this.flowing):e.length?(typeof e=="string"&&!(t===this[Te]&&!this[qt].lastNeed)&&(e=Buffer.from(e,t)),Buffer.isBuffer(e)&&this[Te]&&(e=this[qt].write(e)),this.flowing&&this[le]!==0&&this[ao](!0),this.flowing?this.emit("data",e):this[El](e),this[le]!==0&&this.emit("readable"),s&&n(s),this.flowing):(this[le]!==0&&this.emit("readable"),s&&n(s),this.flowing)}read(e){if(this[ge])return null;if(this[le]===0||e===0||e>this[le])return this[kt](),null;this[De]&&(e=null),this.buffer.length>1&&!this[De]&&(this.encoding?this.buffer=[this.buffer.join("")]:this.buffer=[Buffer.concat(this.buffer,this[le])]);let t=this[xm](e||null,this.buffer[0]);return this[kt](),t}[xm](e,t){return e===t.length||e===null?this[_l]():(this.buffer[0]=t.slice(e),t=t.slice(0,e),this[le]-=e),this.emit("data",t),!this.buffer.length&&!this[Mt]&&this.emit("drain"),t}end(e,t,s){return typeof e=="function"&&(s=e,e=null),typeof t=="function"&&(s=t,t="utf8"),e&&this.write(e,t),s&&this.once("end",s),this[Mt]=!0,this.writable=!1,(this.flowing||!this[Li])&&this[kt](),this}[Ds](){this[ge]||(this[Li]=!1,this[uo]=!0,this.emit("resume"),this.buffer.length?this[ao]():this[Mt]?this[kt]():this.emit("drain"))}resume(){return this[Ds]()}pause(){this[uo]=!1,this[Li]=!0}get destroyed(){return this[ge]}get flowing(){return this[uo]}get paused(){return this[Li]}[El](e){this[De]?this[le]+=1:this[le]+=e.length,this.buffer.push(e)}[_l](){return this.buffer.length&&(this[De]?this[le]-=1:this[le]-=this.buffer[0].length),this.buffer.shift()}[ao](e){do;while(this[Pm](this[_l]()));!e&&!this.buffer.length&&!this[Mt]&&this.emit("drain")}[Pm](e){return e?(this.emit("data",e),this.flowing):!1}pipe(e,t){if(this[ge])return;let s=this[lr];return t=t||{},e===Tm.stdout||e===Tm.stderr?t.end=!1:t.end=t.end!==!1,t.proxyErrors=!!t.proxyErrors,s?t.end&&e.end():(this.pipes.push(t.proxyErrors?new Sl(this,e,t):new lo(this,e,t)),this[Wt]?Ii(()=>this[Ds]()):this[Ds]()),e}unpipe(e){let t=this.pipes.find(s=>s.dest===e);t&&(this.pipes.splice(this.pipes.indexOf(t),1),t.unpipe())}addListener(e,t){return this.on(e,t)}on(e,t){let s=super.on(e,t);return e==="data"&&!this.pipes.length&&!this.flowing?this[Ds]():e==="readable"&&this[le]!==0?super.emit("readable"):C0(e)&&this[lr]?(super.emit(e),this.removeAllListeners(e)):e==="error"&&this[$i]&&(this[Wt]?Ii(()=>t.call(this,this[$i])):t.call(this,this[$i])),s}get emittedEnd(){return this[lr]}[kt](){!this[no]&&!this[lr]&&!this[ge]&&this.buffer.length===0&&this[Mt]&&(this[no]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[oo]&&this.emit("close"),this[no]=!1)}emit(e,t,...s){if(e!=="error"&&e!=="close"&&e!==ge&&this[ge])return;if(e==="data")return t?this[Wt]?Ii(()=>this[Cl](t)):this[Cl](t):!1;if(e==="end")return this[$m]();if(e==="close"){if(this[oo]=!0,!this[lr]&&!this[ge])return;let a=super.emit("close");return this.removeAllListeners("close"),a}else if(e==="error"){this[$i]=t;let a=super.emit("error",t);return this[kt](),a}else if(e==="resume"){let a=super.emit("resume");return this[kt](),a}else if(e==="finish"||e==="prefinish"){let a=super.emit(e);return this.removeAllListeners(e),a}let n=super.emit(e,t,...s);return this[kt](),n}[Cl](e){for(let s of this.pipes)s.dest.write(e)===!1&&this.pause();let t=super.emit("data",e);return this[kt](),t}[$m](){this[lr]||(this[lr]=!0,this.readable=!1,this[Wt]?Ii(()=>this[wl]()):this[wl]())}[wl](){if(this[qt]){let t=this[qt].end();if(t){for(let s of this.pipes)s.dest.write(t);super.emit("data",t)}}for(let t of this.pipes)t.end();let e=super.emit("end");return this.removeAllListeners("end"),e}collect(){let e=[];this[De]||(e.dataLength=0);let t=this.promise();return this.on("data",s=>{e.push(s),this[De]||(e.dataLength+=s.length)}),t.then(()=>e)}concat(){return this[De]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(e=>this[De]?Promise.reject(new Error("cannot concat in objectMode")):this[Te]?e.join(""):Buffer.concat(e,e.dataLength))}promise(){return new Promise((e,t)=>{this.on(ge,()=>t(new Error("stream destroyed"))),this.on("error",s=>t(s)),this.on("end",()=>e())})}[E0](){return{next:()=>{let t=this.read();if(t!==null)return Promise.resolve({done:!1,value:t});if(this[Mt])return Promise.resolve({done:!0});let s=null,n=null,a=f=>{this.removeListener("data",o),this.removeListener("end",h),n(f)},o=f=>{this.removeListener("error",a),this.removeListener("end",h),this.pause(),s({value:f,done:!!this[Mt]})},h=()=>{this.removeListener("error",a),this.removeListener("data",o),s({done:!0})},d=()=>a(new Error("stream destroyed"));return new Promise((f,p)=>{n=p,s=f,this.once(ge,d),this.once("error",a),this.once("end",h),this.once("data",o)})}}}[_0](){return{next:()=>{let t=this.read();return{value:t,done:t===null}}}}destroy(e){return this[ge]?(e?this.emit("error",e):this.emit(ge),this):(this[ge]=!0,this.buffer.length=0,this[le]=0,typeof this.close=="function"&&!this[oo]&&this.close(),e?this.emit("error",e):this.emit(ge),this)}static isStream(e){return!!e&&(e instanceof Im||e instanceof Om||e instanceof y0&&(typeof e.pipe=="function"||typeof e.write=="function"&&typeof e.end=="function"))}}});var ql=A(Le=>{"use strict";var Tl=v("assert"),cr=v("buffer").Buffer,Wm=v("zlib"),Ir=Le.constants=Am(),F0=Mm(),km=cr.concat,Nr=Symbol("_superWrite"),bs=class extends Error{constructor(e){super("zlib: "+e.message),this.code=e.code,this.errno=e.errno,this.code||(this.code="ZLIB_ERROR"),this.message="zlib: "+e.message,Error.captureStackTrace(this,this.constructor)}get name(){return"ZlibError"}},v0=Symbol("opts"),Ni=Symbol("flushFlag"),qm=Symbol("finishFlushFlag"),kl=Symbol("fullFlushFlag"),U=Symbol("handle"),co=Symbol("onError"),gs=Symbol("sawError"),Fl=Symbol("level"),vl=Symbol("strategy"),Rl=Symbol("ended"),JS=Symbol("_defaultFullFlush"),ho=class extends F0{constructor(e,t){if(!e||typeof e!="object")throw new TypeError("invalid options for ZlibBase constructor");super(e),this[gs]=!1,this[Rl]=!1,this[v0]=e,this[Ni]=e.flush,this[qm]=e.finishFlush;try{this[U]=new Wm[t](e)}catch(s){throw new bs(s)}this[co]=s=>{this[gs]||(this[gs]=!0,this.close(),this.emit("error",s))},this[U].on("error",s=>this[co](new bs(s))),this.once("end",()=>this.close)}close(){this[U]&&(this[U].close(),this[U]=null,this.emit("close"))}reset(){if(!this[gs])return Tl(this[U],"zlib binding closed"),this[U].reset()}flush(e){this.ended||(typeof e!="number"&&(e=this[kl]),this.write(Object.assign(cr.alloc(0),{[Ni]:e})))}end(e,t,s){return e&&this.write(e,t),this.flush(this[qm]),this[Rl]=!0,super.end(null,null,s)}get ended(){return this[Rl]}write(e,t,s){if(typeof t=="function"&&(s=t,t="utf8"),typeof e=="string"&&(e=cr.from(e,t)),this[gs])return;Tl(this[U],"zlib binding closed");let n=this[U]._handle,a=n.close;n.close=()=>{};let o=this[U].close;this[U].close=()=>{},cr.concat=f=>f;let h;try{let f=typeof e[Ni]=="number"?e[Ni]:this[Ni];h=this[U]._processChunk(e,f),cr.concat=km}catch(f){cr.concat=km,this[co](new bs(f))}finally{this[U]&&(this[U]._handle=n,n.close=a,this[U].close=o,this[U].removeAllListeners("error"))}this[U]&&this[U].on("error",f=>this[co](new bs(f)));let d;if(h)if(Array.isArray(h)&&h.length>0){d=this[Nr](cr.from(h[0]));for(let f=1;f<h.length;f++)d=this[Nr](h[f])}else d=this[Nr](cr.from(h));return s&&s(),d}[Nr](e){return super.write(e)}},zt=class extends ho{constructor(e,t){e=e||{},e.flush=e.flush||Ir.Z_NO_FLUSH,e.finishFlush=e.finishFlush||Ir.Z_FINISH,super(e,t),this[kl]=Ir.Z_FULL_FLUSH,this[Fl]=e.level,this[vl]=e.strategy}params(e,t){if(!this[gs]){if(!this[U])throw new Error("cannot switch params when binding is closed");if(!this[U].params)throw new Error("not supported in this implementation");if(this[Fl]!==e||this[vl]!==t){this.flush(Ir.Z_SYNC_FLUSH),Tl(this[U],"zlib binding closed");let s=this[U].flush;this[U].flush=(n,a)=>{this.flush(n),a()};try{this[U].params(e,t)}finally{this[U].flush=s}this[U]&&(this[Fl]=e,this[vl]=t)}}}},Ol=class extends zt{constructor(e){super(e,"Deflate")}},Bl=class extends zt{constructor(e){super(e,"Inflate")}},Al=Symbol("_portable"),xl=class extends zt{constructor(e){super(e,"Gzip"),this[Al]=e&&!!e.portable}[Nr](e){return this[Al]?(this[Al]=!1,e[9]=255,super[Nr](e)):super[Nr](e)}},Pl=class extends zt{constructor(e){super(e,"Gunzip")}},$l=class extends zt{constructor(e){super(e,"DeflateRaw")}},Ll=class extends zt{constructor(e){super(e,"InflateRaw")}},Il=class extends zt{constructor(e){super(e,"Unzip")}},fo=class extends ho{constructor(e,t){e=e||{},e.flush=e.flush||Ir.BROTLI_OPERATION_PROCESS,e.finishFlush=e.finishFlush||Ir.BROTLI_OPERATION_FINISH,super(e,t),this[kl]=Ir.BROTLI_OPERATION_FLUSH}},Nl=class extends fo{constructor(e){super(e,"BrotliCompress")}},Ml=class extends fo{constructor(e){super(e,"BrotliDecompress")}};Le.Deflate=Ol;Le.Inflate=Bl;Le.Gzip=xl;Le.Gunzip=Pl;Le.DeflateRaw=$l;Le.InflateRaw=Ll;Le.Unzip=Il;typeof Wm.BrotliCompress=="function"?(Le.BrotliCompress=Nl,Le.BrotliDecompress=Ml):Le.BrotliCompress=Le.BrotliDecompress=class{constructor(){throw new Error("Brotli is not supported in this version of Node.js")}}});var ys=A((rF,zm)=>{var R0=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform;zm.exports=R0!=="win32"?r=>r:r=>r&&r.replace(/\\/g,"/")});var mo=A((iF,jm)=>{"use strict";var{Minipass:A0}=io(),Wl=ys(),zl=Symbol("slurp");jm.exports=class extends A0{constructor(e,t,s){switch(super(),this.pause(),this.extended=t,this.globalExtended=s,this.header=e,this.startBlockSize=512*Math.ceil(e.size/512),this.blockRemain=this.startBlockSize,this.remain=e.size,this.type=e.type,this.meta=!1,this.ignore=!1,this.type){case"File":case"OldFile":case"Link":case"SymbolicLink":case"CharacterDevice":case"BlockDevice":case"Directory":case"FIFO":case"ContiguousFile":case"GNUDumpDir":break;case"NextFileHasLongLinkpath":case"NextFileHasLongPath":case"OldGnuLongPath":case"GlobalExtendedHeader":case"ExtendedHeader":case"OldExtendedHeader":this.meta=!0;break;default:this.ignore=!0}this.path=Wl(e.path),this.mode=e.mode,this.mode&&(this.mode=this.mode&4095),this.uid=e.uid,this.gid=e.gid,this.uname=e.uname,this.gname=e.gname,this.size=e.size,this.mtime=e.mtime,this.atime=e.atime,this.ctime=e.ctime,this.linkpath=Wl(e.linkpath),this.uname=e.uname,this.gname=e.gname,t&&this[zl](t),s&&this[zl](s,!0)}write(e){let t=e.length;if(t>this.blockRemain)throw new Error("writing more to entry than is appropriate");let s=this.remain,n=this.blockRemain;return this.remain=Math.max(0,s-t),this.blockRemain=Math.max(0,n-t),this.ignore?!0:s>=t?super.write(e):super.write(e.slice(0,s))}[zl](e,t){for(let s in e)e[s]!==null&&e[s]!==void 0&&!(t&&s==="path")&&(this[s]=s==="path"||s==="linkpath"?Wl(e[s]):e[s])}}});var jl=A(po=>{"use strict";po.name=new Map([["0","File"],["","OldFile"],["1","Link"],["2","SymbolicLink"],["3","CharacterDevice"],["4","BlockDevice"],["5","Directory"],["6","FIFO"],["7","ContiguousFile"],["g","GlobalExtendedHeader"],["x","ExtendedHeader"],["A","SolarisACL"],["D","GNUDumpDir"],["I","Inode"],["K","NextFileHasLongLinkpath"],["L","NextFileHasLongPath"],["M","ContinuationFile"],["N","OldGnuLongPath"],["S","SparseFile"],["V","TapeVolumeHeader"],["X","OldExtendedHeader"]]);po.code=new Map(Array.from(po.name).map(r=>[r[1],r[0]]))});var Gm=A((oF,Vm)=>{"use strict";var T0=(r,e)=>{if(Number.isSafeInteger(r))r<0?B0(r,e):O0(r,e);else throw Error("cannot encode number outside of javascript safe integer range");return e},O0=(r,e)=>{e[0]=128;for(var t=e.length;t>1;t--)e[t-1]=r&255,r=Math.floor(r/256)},B0=(r,e)=>{e[0]=255;var t=!1;r=r*-1;for(var s=e.length;s>1;s--){var n=r&255;r=Math.floor(r/256),t?e[s-1]=Um(n):n===0?e[s-1]=0:(t=!0,e[s-1]=Hm(n))}},x0=r=>{let e=r[0],t=e===128?$0(r.slice(1,r.length)):e===255?P0(r):null;if(t===null)throw Error("invalid base256 encoding");if(!Number.isSafeInteger(t))throw Error("parsed number outside of javascript safe integer range");return t},P0=r=>{for(var e=r.length,t=0,s=!1,n=e-1;n>-1;n--){var a=r[n],o;s?o=Um(a):a===0?o=a:(s=!0,o=Hm(a)),o!==0&&(t-=o*Math.pow(256,e-n-1))}return t},$0=r=>{for(var e=r.length,t=0,s=e-1;s>-1;s--){var n=r[s];n!==0&&(t+=n*Math.pow(256,e-s-1))}return t},Um=r=>(255^r)&255,Hm=r=>(255^r)+1&255;Vm.exports={encode:T0,parse:x0}});var _s=A((aF,Km)=>{"use strict";var Ul=jl(),Es=v("path").posix,Ym=Gm(),Hl=Symbol("slurp"),Ie=Symbol("type"),Yl=class{constructor(e,t,s,n){this.cksumValid=!1,this.needPax=!1,this.nullBlock=!1,this.block=null,this.path=null,this.mode=null,this.uid=null,this.gid=null,this.size=null,this.mtime=null,this.cksum=null,this[Ie]="0",this.linkpath=null,this.uname=null,this.gname=null,this.devmaj=0,this.devmin=0,this.atime=null,this.ctime=null,Buffer.isBuffer(e)?this.decode(e,t||0,s,n):e&&this.set(e)}decode(e,t,s,n){if(t||(t=0),!e||!(e.length>=t+512))throw new Error("need 512 bytes for header");if(this.path=Mr(e,t,100),this.mode=hr(e,t+100,8),this.uid=hr(e,t+108,8),this.gid=hr(e,t+116,8),this.size=hr(e,t+124,12),this.mtime=Vl(e,t+136,12),this.cksum=hr(e,t+148,12),this[Hl](s),this[Hl](n,!0),this[Ie]=Mr(e,t+156,1),this[Ie]===""&&(this[Ie]="0"),this[Ie]==="0"&&this.path.slice(-1)==="/"&&(this[Ie]="5"),this[Ie]==="5"&&(this.size=0),this.linkpath=Mr(e,t+157,100),e.slice(t+257,t+265).toString()==="ustar\x0000")if(this.uname=Mr(e,t+265,32),this.gname=Mr(e,t+297,32),this.devmaj=hr(e,t+329,8),this.devmin=hr(e,t+337,8),e[t+475]!==0){let o=Mr(e,t+345,155);this.path=o+"/"+this.path}else{let o=Mr(e,t+345,130);o&&(this.path=o+"/"+this.path),this.atime=Vl(e,t+476,12),this.ctime=Vl(e,t+488,12)}let a=8*32;for(let o=t;o<t+148;o++)a+=e[o];for(let o=t+156;o<t+512;o++)a+=e[o];this.cksumValid=a===this.cksum,this.cksum===null&&a===8*32&&(this.nullBlock=!0)}[Hl](e,t){for(let s in e)e[s]!==null&&e[s]!==void 0&&!(t&&s==="path")&&(this[s]=e[s])}encode(e,t){if(e||(e=this.block=Buffer.alloc(512),t=0),t||(t=0),!(e.length>=t+512))throw new Error("need 512 bytes for header");let s=this.ctime||this.atime?130:155,n=L0(this.path||"",s),a=n[0],o=n[1];this.needPax=n[2],this.needPax=kr(e,t,100,a)||this.needPax,this.needPax=fr(e,t+100,8,this.mode)||this.needPax,this.needPax=fr(e,t+108,8,this.uid)||this.needPax,this.needPax=fr(e,t+116,8,this.gid)||this.needPax,this.needPax=fr(e,t+124,12,this.size)||this.needPax,this.needPax=Gl(e,t+136,12,this.mtime)||this.needPax,e[t+156]=this[Ie].charCodeAt(0),this.needPax=kr(e,t+157,100,this.linkpath)||this.needPax,e.write("ustar\x0000",t+257,8),this.needPax=kr(e,t+265,32,this.uname)||this.needPax,this.needPax=kr(e,t+297,32,this.gname)||this.needPax,this.needPax=fr(e,t+329,8,this.devmaj)||this.needPax,this.needPax=fr(e,t+337,8,this.devmin)||this.needPax,this.needPax=kr(e,t+345,s,o)||this.needPax,e[t+475]!==0?this.needPax=kr(e,t+345,155,o)||this.needPax:(this.needPax=kr(e,t+345,130,o)||this.needPax,this.needPax=Gl(e,t+476,12,this.atime)||this.needPax,this.needPax=Gl(e,t+488,12,this.ctime)||this.needPax);let h=8*32;for(let d=t;d<t+148;d++)h+=e[d];for(let d=t+156;d<t+512;d++)h+=e[d];return this.cksum=h,fr(e,t+148,8,this.cksum),this.cksumValid=!0,this.needPax}set(e){for(let t in e)e[t]!==null&&e[t]!==void 0&&(this[t]=e[t])}get type(){return Ul.name.get(this[Ie])||this[Ie]}get typeKey(){return this[Ie]}set type(e){Ul.code.has(e)?this[Ie]=Ul.code.get(e):this[Ie]=e}},L0=(r,e)=>{let s=r,n="",a,o=Es.parse(r).root||".";if(Buffer.byteLength(s)<100)a=[s,n,!1];else{n=Es.dirname(s),s=Es.basename(s);do Buffer.byteLength(s)<=100&&Buffer.byteLength(n)<=e?a=[s,n,!1]:Buffer.byteLength(s)>100&&Buffer.byteLength(n)<=e?a=[s.slice(0,100-1),n,!0]:(s=Es.join(Es.basename(n),s),n=Es.dirname(n));while(n!==o&&!a);a||(a=[r.slice(0,100-1),"",!0])}return a},Mr=(r,e,t)=>r.slice(e,e+t).toString("utf8").replace(/\0.*/,""),Vl=(r,e,t)=>I0(hr(r,e,t)),I0=r=>r===null?null:new Date(r*1e3),hr=(r,e,t)=>r[e]&128?Ym.parse(r.slice(e,e+t)):M0(r,e,t),N0=r=>isNaN(r)?null:r,M0=(r,e,t)=>N0(parseInt(r.slice(e,e+t).toString("utf8").replace(/\0.*$/,"").trim(),8)),k0={12:8589934591,8:2097151},fr=(r,e,t,s)=>s===null?!1:s>k0[t]||s<0?(Ym.encode(s,r.slice(e,e+t)),!0):(q0(r,e,t,s),!1),q0=(r,e,t,s)=>r.write(W0(s,t),e,t,"ascii"),W0=(r,e)=>z0(Math.floor(r).toString(8),e),z0=(r,e)=>(r.length===e-1?r:new Array(e-r.length-1).join("0")+r+" ")+"\0",Gl=(r,e,t,s)=>s===null?!1:fr(r,e,t,s.getTime()/1e3),j0=new Array(156).join("\0"),kr=(r,e,t,s)=>s===null?!1:(r.write(s+j0,e,t,"utf8"),s.length!==Buffer.byteLength(s)||s.length>t);Km.exports=Yl});var Do=A((uF,Zm)=>{"use strict";var U0=_s(),H0=v("path"),Mi=class{constructor(e,t){this.atime=e.atime||null,this.charset=e.charset||null,this.comment=e.comment||null,this.ctime=e.ctime||null,this.gid=e.gid||null,this.gname=e.gname||null,this.linkpath=e.linkpath||null,this.mtime=e.mtime||null,this.path=e.path||null,this.size=e.size||null,this.uid=e.uid||null,this.uname=e.uname||null,this.dev=e.dev||null,this.ino=e.ino||null,this.nlink=e.nlink||null,this.global=t||!1}encode(){let e=this.encodeBody();if(e==="")return null;let t=Buffer.byteLength(e),s=512*Math.ceil(1+t/512),n=Buffer.allocUnsafe(s);for(let a=0;a<512;a++)n[a]=0;new U0({path:("PaxHeader/"+H0.basename(this.path)).slice(0,99),mode:this.mode||420,uid:this.uid||null,gid:this.gid||null,size:t,mtime:this.mtime||null,type:this.global?"GlobalExtendedHeader":"ExtendedHeader",linkpath:"",uname:this.uname||"",gname:this.gname||"",devmaj:0,devmin:0,atime:this.atime||null,ctime:this.ctime||null}).encode(n),n.write(e,512,t,"utf8");for(let a=t+512;a<n.length;a++)n[a]=0;return n}encodeBody(){return this.encodeField("path")+this.encodeField("ctime")+this.encodeField("atime")+this.encodeField("dev")+this.encodeField("ino")+this.encodeField("nlink")+this.encodeField("charset")+this.encodeField("comment")+this.encodeField("gid")+this.encodeField("gname")+this.encodeField("linkpath")+this.encodeField("mtime")+this.encodeField("size")+this.encodeField("uid")+this.encodeField("uname")}encodeField(e){if(this[e]===null||this[e]===void 0)return"";let t=this[e]instanceof Date?this[e].getTime()/1e3:this[e],s=" "+(e==="dev"||e==="ino"||e==="nlink"?"SCHILY.":"")+e+"="+t+`
`,n=Buffer.byteLength(s),a=Math.floor(Math.log(n)/Math.log(10))+1;return n+a>=Math.pow(10,a)&&(a+=1),a+n+s}};Mi.parse=(r,e,t)=>new Mi(V0(G0(r),e),t);var V0=(r,e)=>e?Object.keys(r).reduce((t,s)=>(t[s]=r[s],t),e):r,G0=r=>r.replace(/\n$/,"").split(`
`).reduce(Y0,Object.create(null)),Y0=(r,e)=>{let t=parseInt(e,10);if(t!==Buffer.byteLength(e)+1)return r;e=e.slice((t+" ").length);let s=e.split("="),n=s.shift().replace(/^SCHILY\.(dev|ino|nlink)/,"$1");if(!n)return r;let a=s.join("=");return r[n]=/^([A-Z]+\.)?([mac]|birth|creation)time$/.test(n)?new Date(a*1e3):/^[0-9]+$/.test(a)?+a:a,r};Zm.exports=Mi});var Cs=A((lF,Qm)=>{Qm.exports=r=>{let e=r.length-1,t=-1;for(;e>-1&&r.charAt(e)==="/";)t=e,e--;return t===-1?r:r.slice(0,t)}});var go=A((cF,Xm)=>{"use strict";Xm.exports=r=>class extends r{warn(e,t,s={}){this.file&&(s.file=this.file),this.cwd&&(s.cwd=this.cwd),s.code=t instanceof Error&&t.code||e,s.tarCode=e,!this.strict&&s.recoverable!==!1?(t instanceof Error&&(s=Object.assign(t,s),t=t.message),this.emit("warn",s.tarCode,t,s)):t instanceof Error?this.emit("error",Object.assign(t,s)):this.emit("error",Object.assign(new Error(`${e}: ${t}`),s))}}});var Zl=A((fF,Jm)=>{"use strict";var bo=["|","<",">","?",":"],Kl=bo.map(r=>String.fromCharCode(61440+r.charCodeAt(0))),K0=new Map(bo.map((r,e)=>[r,Kl[e]])),Z0=new Map(Kl.map((r,e)=>[r,bo[e]]));Jm.exports={encode:r=>bo.reduce((e,t)=>e.split(t).join(K0.get(t)),r),decode:r=>Kl.reduce((e,t)=>e.split(t).join(Z0.get(t)),r)}});var Ql=A((dF,tp)=>{var{isAbsolute:Q0,parse:ep}=v("path").win32;tp.exports=r=>{let e="",t=ep(r);for(;Q0(r)||t.root;){let s=r.charAt(0)==="/"&&r.slice(0,4)!=="//?/"?"/":t.root;r=r.slice(s.length),e+=s,t=ep(r)}return[e,r]}});var sp=A((mF,rp)=>{"use strict";rp.exports=(r,e,t)=>(r&=4095,t&&(r=(r|384)&-19),e&&(r&256&&(r|=64),r&32&&(r|=8),r&4&&(r|=1)),r)});var ac=A((gF,gp)=>{"use strict";var{Minipass:cp}=io(),hp=Do(),fp=_s(),Dt=v("fs"),ip=v("path"),pt=ys(),X0=Cs(),dp=(r,e)=>e?(r=pt(r).replace(/^\.(\/|$)/,""),X0(e)+"/"+r):pt(r),J0=16*1024*1024,np=Symbol("process"),op=Symbol("file"),ap=Symbol("directory"),Jl=Symbol("symlink"),up=Symbol("hardlink"),ki=Symbol("header"),yo=Symbol("read"),ec=Symbol("lstat"),Eo=Symbol("onlstat"),tc=Symbol("onread"),rc=Symbol("onreadlink"),sc=Symbol("openfile"),ic=Symbol("onopenfile"),dr=Symbol("close"),_o=Symbol("mode"),nc=Symbol("awaitDrain"),Xl=Symbol("ondrain"),gt=Symbol("prefix"),lp=Symbol("hadError"),mp=go(),eE=Zl(),pp=Ql(),Dp=sp(),Co=mp(class extends cp{constructor(e,t){if(t=t||{},super(t),typeof e!="string")throw new TypeError("path is required");this.path=pt(e),this.portable=!!t.portable,this.myuid=process.getuid&&process.getuid()||0,this.myuser=process.env.USER||"",this.maxReadSize=t.maxReadSize||J0,this.linkCache=t.linkCache||new Map,this.statCache=t.statCache||new Map,this.preservePaths=!!t.preservePaths,this.cwd=pt(t.cwd||process.cwd()),this.strict=!!t.strict,this.noPax=!!t.noPax,this.noMtime=!!t.noMtime,this.mtime=t.mtime||null,this.prefix=t.prefix?pt(t.prefix):null,this.fd=null,this.blockLen=null,this.blockRemain=null,this.buf=null,this.offset=null,this.length=null,this.pos=null,this.remain=null,typeof t.onwarn=="function"&&this.on("warn",t.onwarn);let s=!1;if(!this.preservePaths){let[n,a]=pp(this.path);n&&(this.path=a,s=n)}this.win32=!!t.win32||process.platform==="win32",this.win32&&(this.path=eE.decode(this.path.replace(/\\/g,"/")),e=e.replace(/\\/g,"/")),this.absolute=pt(t.absolute||ip.resolve(this.cwd,e)),this.path===""&&(this.path="./"),s&&this.warn("TAR_ENTRY_INFO",`stripping ${s} from absolute path`,{entry:this,path:s+this.path}),this.statCache.has(this.absolute)?this[Eo](this.statCache.get(this.absolute)):this[ec]()}emit(e,...t){return e==="error"&&(this[lp]=!0),super.emit(e,...t)}[ec](){Dt.lstat(this.absolute,(e,t)=>{if(e)return this.emit("error",e);this[Eo](t)})}[Eo](e){this.statCache.set(this.absolute,e),this.stat=e,e.isFile()||(e.size=0),this.type=rE(e),this.emit("stat",e),this[np]()}[np](){switch(this.type){case"File":return this[op]();case"Directory":return this[ap]();case"SymbolicLink":return this[Jl]();default:return this.end()}}[_o](e){return Dp(e,this.type==="Directory",this.portable)}[gt](e){return dp(e,this.prefix)}[ki](){this.type==="Directory"&&this.portable&&(this.noMtime=!0),this.header=new fp({path:this[gt](this.path),linkpath:this.type==="Link"?this[gt](this.linkpath):this.linkpath,mode:this[_o](this.stat.mode),uid:this.portable?null:this.stat.uid,gid:this.portable?null:this.stat.gid,size:this.stat.size,mtime:this.noMtime?null:this.mtime||this.stat.mtime,type:this.type,uname:this.portable?null:this.stat.uid===this.myuid?this.myuser:"",atime:this.portable?null:this.stat.atime,ctime:this.portable?null:this.stat.ctime}),this.header.encode()&&!this.noPax&&super.write(new hp({atime:this.portable?null:this.header.atime,ctime:this.portable?null:this.header.ctime,gid:this.portable?null:this.header.gid,mtime:this.noMtime?null:this.mtime||this.header.mtime,path:this[gt](this.path),linkpath:this.type==="Link"?this[gt](this.linkpath):this.linkpath,size:this.header.size,uid:this.portable?null:this.header.uid,uname:this.portable?null:this.header.uname,dev:this.portable?null:this.stat.dev,ino:this.portable?null:this.stat.ino,nlink:this.portable?null:this.stat.nlink}).encode()),super.write(this.header.block)}[ap](){this.path.slice(-1)!=="/"&&(this.path+="/"),this.stat.size=0,this[ki](),this.end()}[Jl](){Dt.readlink(this.absolute,(e,t)=>{if(e)return this.emit("error",e);this[rc](t)})}[rc](e){this.linkpath=pt(e),this[ki](),this.end()}[up](e){this.type="Link",this.linkpath=pt(ip.relative(this.cwd,e)),this.stat.size=0,this[ki](),this.end()}[op](){if(this.stat.nlink>1){let e=this.stat.dev+":"+this.stat.ino;if(this.linkCache.has(e)){let t=this.linkCache.get(e);if(t.indexOf(this.cwd)===0)return this[up](t)}this.linkCache.set(e,this.absolute)}if(this[ki](),this.stat.size===0)return this.end();this[sc]()}[sc](){Dt.open(this.absolute,"r",(e,t)=>{if(e)return this.emit("error",e);this[ic](t)})}[ic](e){if(this.fd=e,this[lp])return this[dr]();this.blockLen=512*Math.ceil(this.stat.size/512),this.blockRemain=this.blockLen;let t=Math.min(this.blockLen,this.maxReadSize);this.buf=Buffer.allocUnsafe(t),this.offset=0,this.pos=0,this.remain=this.stat.size,this.length=this.buf.length,this[yo]()}[yo](){let{fd:e,buf:t,offset:s,length:n,pos:a}=this;Dt.read(e,t,s,n,a,(o,h)=>{if(o)return this[dr](()=>this.emit("error",o));this[tc](h)})}[dr](e){Dt.close(this.fd,e)}[tc](e){if(e<=0&&this.remain>0){let n=new Error("encountered unexpected EOF");return n.path=this.absolute,n.syscall="read",n.code="EOF",this[dr](()=>this.emit("error",n))}if(e>this.remain){let n=new Error("did not encounter expected EOF");return n.path=this.absolute,n.syscall="read",n.code="EOF",this[dr](()=>this.emit("error",n))}if(e===this.remain)for(let n=e;n<this.length&&e<this.blockRemain;n++)this.buf[n+this.offset]=0,e++,this.remain++;let t=this.offset===0&&e===this.buf.length?this.buf:this.buf.slice(this.offset,this.offset+e);this.write(t)?this[Xl]():this[nc](()=>this[Xl]())}[nc](e){this.once("drain",e)}write(e){if(this.blockRemain<e.length){let t=new Error("writing more data than expected");return t.path=this.absolute,this.emit("error",t)}return this.remain-=e.length,this.blockRemain-=e.length,this.pos+=e.length,this.offset+=e.length,super.write(e)}[Xl](){if(!this.remain)return this.blockRemain&&super.write(Buffer.alloc(this.blockRemain)),this[dr](e=>e?this.emit("error",e):this.end());this.offset>=this.length&&(this.buf=Buffer.allocUnsafe(Math.min(this.blockRemain,this.buf.length)),this.offset=0),this.length=this.buf.length-this.offset,this[yo]()}}),oc=class extends Co{[ec](){this[Eo](Dt.lstatSync(this.absolute))}[Jl](){this[rc](Dt.readlinkSync(this.absolute))}[sc](){this[ic](Dt.openSync(this.absolute,"r"))}[yo](){let e=!0;try{let{fd:t,buf:s,offset:n,length:a,pos:o}=this,h=Dt.readSync(t,s,n,a,o);this[tc](h),e=!1}finally{if(e)try{this[dr](()=>{})}catch{}}}[nc](e){e()}[dr](e){Dt.closeSync(this.fd),e()}},tE=mp(class extends cp{constructor(e,t){t=t||{},super(t),this.preservePaths=!!t.preservePaths,this.portable=!!t.portable,this.strict=!!t.strict,this.noPax=!!t.noPax,this.noMtime=!!t.noMtime,this.readEntry=e,this.type=e.type,this.type==="Directory"&&this.portable&&(this.noMtime=!0),this.prefix=t.prefix||null,this.path=pt(e.path),this.mode=this[_o](e.mode),this.uid=this.portable?null:e.uid,this.gid=this.portable?null:e.gid,this.uname=this.portable?null:e.uname,this.gname=this.portable?null:e.gname,this.size=e.size,this.mtime=this.noMtime?null:t.mtime||e.mtime,this.atime=this.portable?null:e.atime,this.ctime=this.portable?null:e.ctime,this.linkpath=pt(e.linkpath),typeof t.onwarn=="function"&&this.on("warn",t.onwarn);let s=!1;if(!this.preservePaths){let[n,a]=pp(this.path);n&&(this.path=a,s=n)}this.remain=e.size,this.blockRemain=e.startBlockSize,this.header=new fp({path:this[gt](this.path),linkpath:this.type==="Link"?this[gt](this.linkpath):this.linkpath,mode:this.mode,uid:this.portable?null:this.uid,gid:this.portable?null:this.gid,size:this.size,mtime:this.noMtime?null:this.mtime,type:this.type,uname:this.portable?null:this.uname,atime:this.portable?null:this.atime,ctime:this.portable?null:this.ctime}),s&&this.warn("TAR_ENTRY_INFO",`stripping ${s} from absolute path`,{entry:this,path:s+this.path}),this.header.encode()&&!this.noPax&&super.write(new hp({atime:this.portable?null:this.atime,ctime:this.portable?null:this.ctime,gid:this.portable?null:this.gid,mtime:this.noMtime?null:this.mtime,path:this[gt](this.path),linkpath:this.type==="Link"?this[gt](this.linkpath):this.linkpath,size:this.size,uid:this.portable?null:this.uid,uname:this.portable?null:this.uname,dev:this.portable?null:this.readEntry.dev,ino:this.portable?null:this.readEntry.ino,nlink:this.portable?null:this.readEntry.nlink}).encode()),super.write(this.header.block),e.pipe(this)}[gt](e){return dp(e,this.prefix)}[_o](e){return Dp(e,this.type==="Directory",this.portable)}write(e){let t=e.length;if(t>this.blockRemain)throw new Error("writing more to entry than is appropriate");return this.blockRemain-=t,super.write(e)}end(){return this.blockRemain&&super.write(Buffer.alloc(this.blockRemain)),super.end()}});Co.Sync=oc;Co.Tar=tE;var rE=r=>r.isFile()?"File":r.isDirectory()?"Directory":r.isSymbolicLink()?"SymbolicLink":"Unsupported";gp.exports=Co});var yp=A((bF,bp)=>{"use strict";bp.exports=function(r){r.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}});var uc=A((yF,Ep)=>{"use strict";Ep.exports=k;k.Node=qr;k.create=k;function k(r){var e=this;if(e instanceof k||(e=new k),e.tail=null,e.head=null,e.length=0,r&&typeof r.forEach=="function")r.forEach(function(n){e.push(n)});else if(arguments.length>0)for(var t=0,s=arguments.length;t<s;t++)e.push(arguments[t]);return e}k.prototype.removeNode=function(r){if(r.list!==this)throw new Error("removing node which does not belong to this list");var e=r.next,t=r.prev;return e&&(e.prev=t),t&&(t.next=e),r===this.head&&(this.head=e),r===this.tail&&(this.tail=t),r.list.length--,r.next=null,r.prev=null,r.list=null,e};k.prototype.unshiftNode=function(r){if(r!==this.head){r.list&&r.list.removeNode(r);var e=this.head;r.list=this,r.next=e,e&&(e.prev=r),this.head=r,this.tail||(this.tail=r),this.length++}};k.prototype.pushNode=function(r){if(r!==this.tail){r.list&&r.list.removeNode(r);var e=this.tail;r.list=this,r.prev=e,e&&(e.next=r),this.tail=r,this.head||(this.head=r),this.length++}};k.prototype.push=function(){for(var r=0,e=arguments.length;r<e;r++)iE(this,arguments[r]);return this.length};k.prototype.unshift=function(){for(var r=0,e=arguments.length;r<e;r++)nE(this,arguments[r]);return this.length};k.prototype.pop=function(){if(this.tail){var r=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,r}};k.prototype.shift=function(){if(this.head){var r=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,r}};k.prototype.forEach=function(r,e){e=e||this;for(var t=this.head,s=0;t!==null;s++)r.call(e,t.value,s,this),t=t.next};k.prototype.forEachReverse=function(r,e){e=e||this;for(var t=this.tail,s=this.length-1;t!==null;s--)r.call(e,t.value,s,this),t=t.prev};k.prototype.get=function(r){for(var e=0,t=this.head;t!==null&&e<r;e++)t=t.next;if(e===r&&t!==null)return t.value};k.prototype.getReverse=function(r){for(var e=0,t=this.tail;t!==null&&e<r;e++)t=t.prev;if(e===r&&t!==null)return t.value};k.prototype.map=function(r,e){e=e||this;for(var t=new k,s=this.head;s!==null;)t.push(r.call(e,s.value,this)),s=s.next;return t};k.prototype.mapReverse=function(r,e){e=e||this;for(var t=new k,s=this.tail;s!==null;)t.push(r.call(e,s.value,this)),s=s.prev;return t};k.prototype.reduce=function(r,e){var t,s=this.head;if(arguments.length>1)t=e;else if(this.head)s=this.head.next,t=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var n=0;s!==null;n++)t=r(t,s.value,n),s=s.next;return t};k.prototype.reduceReverse=function(r,e){var t,s=this.tail;if(arguments.length>1)t=e;else if(this.tail)s=this.tail.prev,t=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var n=this.length-1;s!==null;n--)t=r(t,s.value,n),s=s.prev;return t};k.prototype.toArray=function(){for(var r=new Array(this.length),e=0,t=this.head;t!==null;e++)r[e]=t.value,t=t.next;return r};k.prototype.toArrayReverse=function(){for(var r=new Array(this.length),e=0,t=this.tail;t!==null;e++)r[e]=t.value,t=t.prev;return r};k.prototype.slice=function(r,e){e=e||this.length,e<0&&(e+=this.length),r=r||0,r<0&&(r+=this.length);var t=new k;if(e<r||e<0)return t;r<0&&(r=0),e>this.length&&(e=this.length);for(var s=0,n=this.head;n!==null&&s<r;s++)n=n.next;for(;n!==null&&s<e;s++,n=n.next)t.push(n.value);return t};k.prototype.sliceReverse=function(r,e){e=e||this.length,e<0&&(e+=this.length),r=r||0,r<0&&(r+=this.length);var t=new k;if(e<r||e<0)return t;r<0&&(r=0),e>this.length&&(e=this.length);for(var s=this.length,n=this.tail;n!==null&&s>e;s--)n=n.prev;for(;n!==null&&s>r;s--,n=n.prev)t.push(n.value);return t};k.prototype.splice=function(r,e,...t){r>this.length&&(r=this.length-1),r<0&&(r=this.length+r);for(var s=0,n=this.head;n!==null&&s<r;s++)n=n.next;for(var a=[],s=0;n&&s<e;s++)a.push(n.value),n=this.removeNode(n);n===null&&(n=this.tail),n!==this.head&&n!==this.tail&&(n=n.prev);for(var s=0;s<t.length;s++)n=sE(this,n,t[s]);return a};k.prototype.reverse=function(){for(var r=this.head,e=this.tail,t=r;t!==null;t=t.prev){var s=t.prev;t.prev=t.next,t.next=s}return this.head=e,this.tail=r,this};function sE(r,e,t){var s=e===r.head?new qr(t,null,e,r):new qr(t,e,e.next,r);return s.next===null&&(r.tail=s),s.prev===null&&(r.head=s),r.length++,s}function iE(r,e){r.tail=new qr(e,r.tail,null,r),r.head||(r.head=r.tail),r.length++}function nE(r,e){r.head=new qr(e,null,r.head,r),r.tail||(r.tail=r.head),r.length++}function qr(r,e,t,s){if(!(this instanceof qr))return new qr(r,e,t,s);this.list=s,this.value=r,e?(e.next=this,this.prev=e):this.prev=null,t?(t.prev=this,this.next=t):this.next=null}try{yp()(k)}catch{}});var Bo=A((_F,Ap)=>{"use strict";var To=class{constructor(e,t){this.path=e||"./",this.absolute=t,this.entry=null,this.stat=null,this.readdir=null,this.pending=!1,this.ignore=!1,this.piped=!1}},{Minipass:oE}=io(),_p=ql(),aE=mo(),gc=ac(),uE=gc.Sync,lE=gc.Tar,cE=uc(),Cp=Buffer.alloc(1024),Fo=Symbol("onStat"),wo=Symbol("ended"),bt=Symbol("queue"),ws=Symbol("current"),Wr=Symbol("process"),So=Symbol("processing"),wp=Symbol("processJob"),yt=Symbol("jobs"),lc=Symbol("jobDone"),vo=Symbol("addFSEntry"),Sp=Symbol("addTarEntry"),dc=Symbol("stat"),mc=Symbol("readdir"),Ro=Symbol("onreaddir"),Ao=Symbol("pipe"),Fp=Symbol("entry"),cc=Symbol("entryOpt"),pc=Symbol("writeEntryClass"),Rp=Symbol("write"),hc=Symbol("ondrain"),Oo=v("fs"),vp=v("path"),hE=go(),fc=ys(),bc=hE(class extends oE{constructor(e){if(super(e),e=e||Object.create(null),this.opt=e,this.file=e.file||"",this.cwd=e.cwd||process.cwd(),this.maxReadSize=e.maxReadSize,this.preservePaths=!!e.preservePaths,this.strict=!!e.strict,this.noPax=!!e.noPax,this.prefix=fc(e.prefix||""),this.linkCache=e.linkCache||new Map,this.statCache=e.statCache||new Map,this.readdirCache=e.readdirCache||new Map,this[pc]=gc,typeof e.onwarn=="function"&&this.on("warn",e.onwarn),this.portable=!!e.portable,this.zip=null,e.gzip||e.brotli){if(e.gzip&&e.brotli)throw new TypeError("gzip and brotli are mutually exclusive");e.gzip&&(typeof e.gzip!="object"&&(e.gzip={}),this.portable&&(e.gzip.portable=!0),this.zip=new _p.Gzip(e.gzip)),e.brotli&&(typeof e.brotli!="object"&&(e.brotli={}),this.zip=new _p.BrotliCompress(e.brotli)),this.zip.on("data",t=>super.write(t)),this.zip.on("end",t=>super.end()),this.zip.on("drain",t=>this[hc]()),this.on("resume",t=>this.zip.resume())}else this.on("drain",this[hc]);this.noDirRecurse=!!e.noDirRecurse,this.follow=!!e.follow,this.noMtime=!!e.noMtime,this.mtime=e.mtime||null,this.filter=typeof e.filter=="function"?e.filter:t=>!0,this[bt]=new cE,this[yt]=0,this.jobs=+e.jobs||4,this[So]=!1,this[wo]=!1}[Rp](e){return super.write(e)}add(e){return this.write(e),this}end(e){return e&&this.write(e),this[wo]=!0,this[Wr](),this}write(e){if(this[wo])throw new Error("write after end");return e instanceof aE?this[Sp](e):this[vo](e),this.flowing}[Sp](e){let t=fc(vp.resolve(this.cwd,e.path));if(!this.filter(e.path,e))e.resume();else{let s=new To(e.path,t,!1);s.entry=new lE(e,this[cc](s)),s.entry.on("end",n=>this[lc](s)),this[yt]+=1,this[bt].push(s)}this[Wr]()}[vo](e){let t=fc(vp.resolve(this.cwd,e));this[bt].push(new To(e,t)),this[Wr]()}[dc](e){e.pending=!0,this[yt]+=1;let t=this.follow?"stat":"lstat";Oo[t](e.absolute,(s,n)=>{e.pending=!1,this[yt]-=1,s?this.emit("error",s):this[Fo](e,n)})}[Fo](e,t){this.statCache.set(e.absolute,t),e.stat=t,this.filter(e.path,t)||(e.ignore=!0),this[Wr]()}[mc](e){e.pending=!0,this[yt]+=1,Oo.readdir(e.absolute,(t,s)=>{if(e.pending=!1,this[yt]-=1,t)return this.emit("error",t);this[Ro](e,s)})}[Ro](e,t){this.readdirCache.set(e.absolute,t),e.readdir=t,this[Wr]()}[Wr](){if(!this[So]){this[So]=!0;for(let e=this[bt].head;e!==null&&this[yt]<this.jobs;e=e.next)if(this[wp](e.value),e.value.ignore){let t=e.next;this[bt].removeNode(e),e.next=t}this[So]=!1,this[wo]&&!this[bt].length&&this[yt]===0&&(this.zip?this.zip.end(Cp):(super.write(Cp),super.end()))}}get[ws](){return this[bt]&&this[bt].head&&this[bt].head.value}[lc](e){this[bt].shift(),this[yt]-=1,this[Wr]()}[wp](e){if(!e.pending){if(e.entry){e===this[ws]&&!e.piped&&this[Ao](e);return}if(e.stat||(this.statCache.has(e.absolute)?this[Fo](e,this.statCache.get(e.absolute)):this[dc](e)),!!e.stat&&!e.ignore&&!(!this.noDirRecurse&&e.stat.isDirectory()&&!e.readdir&&(this.readdirCache.has(e.absolute)?this[Ro](e,this.readdirCache.get(e.absolute)):this[mc](e),!e.readdir))){if(e.entry=this[Fp](e),!e.entry){e.ignore=!0;return}e===this[ws]&&!e.piped&&this[Ao](e)}}}[cc](e){return{onwarn:(t,s,n)=>this.warn(t,s,n),noPax:this.noPax,cwd:this.cwd,absolute:e.absolute,preservePaths:this.preservePaths,maxReadSize:this.maxReadSize,strict:this.strict,portable:this.portable,linkCache:this.linkCache,statCache:this.statCache,noMtime:this.noMtime,mtime:this.mtime,prefix:this.prefix}}[Fp](e){this[yt]+=1;try{return new this[pc](e.path,this[cc](e)).on("end",()=>this[lc](e)).on("error",t=>this.emit("error",t))}catch(t){this.emit("error",t)}}[hc](){this[ws]&&this[ws].entry&&this[ws].entry.resume()}[Ao](e){e.piped=!0,e.readdir&&e.readdir.forEach(n=>{let a=e.path,o=a==="./"?"":a.replace(/\/*$/,"/");this[vo](o+n)});let t=e.entry,s=this.zip;s?t.on("data",n=>{s.write(n)||t.pause()}):t.on("data",n=>{super.write(n)||t.pause()})}pause(){return this.zip&&this.zip.pause(),super.pause()}}),Dc=class extends bc{constructor(e){super(e),this[pc]=uE}pause(){}resume(){}[dc](e){let t=this.follow?"statSync":"lstatSync";this[Fo](e,Oo[t](e.absolute))}[mc](e,t){this[Ro](e,Oo.readdirSync(e.absolute))}[Ao](e){let t=e.entry,s=this.zip;e.readdir&&e.readdir.forEach(n=>{let a=e.path,o=a==="./"?"":a.replace(/\/*$/,"/");this[vo](o+n)}),s?t.on("data",n=>{s.write(n)}):t.on("data",n=>{super[Rp](n)})}};bc.Sync=Dc;Ap.exports=bc});var Mp=A((CF,Np)=>{"use strict";var Tp=typeof process=="object"&&process?process:{stdout:null,stderr:null},fE=v("events"),Op=v("stream"),Bp=v("string_decoder").StringDecoder,jt=Symbol("EOF"),Ut=Symbol("maybeEmitEnd"),mr=Symbol("emittedEnd"),xo=Symbol("emittingEnd"),qi=Symbol("emittedError"),Po=Symbol("closed"),xp=Symbol("read"),$o=Symbol("flush"),Pp=Symbol("flushChunk"),Oe=Symbol("encoding"),Ht=Symbol("decoder"),Lo=Symbol("flowing"),Wi=Symbol("paused"),Ss=Symbol("resume"),ce=Symbol("bufferLength"),yc=Symbol("bufferPush"),Ec=Symbol("bufferShift"),be=Symbol("objectMode"),ye=Symbol("destroyed"),_c=Symbol("emitData"),$p=Symbol("emitEnd"),Cc=Symbol("emitEnd2"),Vt=Symbol("async"),zi=r=>Promise.resolve().then(r),Lp=global._MP_NO_ITERATOR_SYMBOLS_!=="1",dE=Lp&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),mE=Lp&&Symbol.iterator||Symbol("iterator not implemented"),pE=r=>r==="end"||r==="finish"||r==="prefinish",DE=r=>r instanceof ArrayBuffer||typeof r=="object"&&r.constructor&&r.constructor.name==="ArrayBuffer"&&r.byteLength>=0,gE=r=>!Buffer.isBuffer(r)&&ArrayBuffer.isView(r),Io=class{constructor(e,t,s){this.src=e,this.dest=t,this.opts=s,this.ondrain=()=>e[Ss](),t.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}},wc=class extends Io{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(e,t,s){super(e,t,s),this.proxyErrors=n=>t.emit("error",n),e.on("error",this.proxyErrors)}};Np.exports=class Ip extends Op{constructor(e){super(),this[Lo]=!1,this[Wi]=!1,this.pipes=[],this.buffer=[],this[be]=e&&e.objectMode||!1,this[be]?this[Oe]=null:this[Oe]=e&&e.encoding||null,this[Oe]==="buffer"&&(this[Oe]=null),this[Vt]=e&&!!e.async||!1,this[Ht]=this[Oe]?new Bp(this[Oe]):null,this[jt]=!1,this[mr]=!1,this[xo]=!1,this[Po]=!1,this[qi]=null,this.writable=!0,this.readable=!0,this[ce]=0,this[ye]=!1}get bufferLength(){return this[ce]}get encoding(){return this[Oe]}set encoding(e){if(this[be])throw new Error("cannot set encoding in objectMode");if(this[Oe]&&e!==this[Oe]&&(this[Ht]&&this[Ht].lastNeed||this[ce]))throw new Error("cannot change encoding");this[Oe]!==e&&(this[Ht]=e?new Bp(e):null,this.buffer.length&&(this.buffer=this.buffer.map(t=>this[Ht].write(t)))),this[Oe]=e}setEncoding(e){this.encoding=e}get objectMode(){return this[be]}set objectMode(e){this[be]=this[be]||!!e}get async(){return this[Vt]}set async(e){this[Vt]=this[Vt]||!!e}write(e,t,s){if(this[jt])throw new Error("write after end");if(this[ye])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof t=="function"&&(s=t,t="utf8"),t||(t="utf8");let n=this[Vt]?zi:a=>a();return!this[be]&&!Buffer.isBuffer(e)&&(gE(e)?e=Buffer.from(e.buffer,e.byteOffset,e.byteLength):DE(e)?e=Buffer.from(e):typeof e!="string"&&(this.objectMode=!0)),this[be]?(this.flowing&&this[ce]!==0&&this[$o](!0),this.flowing?this.emit("data",e):this[yc](e),this[ce]!==0&&this.emit("readable"),s&&n(s),this.flowing):e.length?(typeof e=="string"&&!(t===this[Oe]&&!this[Ht].lastNeed)&&(e=Buffer.from(e,t)),Buffer.isBuffer(e)&&this[Oe]&&(e=this[Ht].write(e)),this.flowing&&this[ce]!==0&&this[$o](!0),this.flowing?this.emit("data",e):this[yc](e),this[ce]!==0&&this.emit("readable"),s&&n(s),this.flowing):(this[ce]!==0&&this.emit("readable"),s&&n(s),this.flowing)}read(e){if(this[ye])return null;if(this[ce]===0||e===0||e>this[ce])return this[Ut](),null;this[be]&&(e=null),this.buffer.length>1&&!this[be]&&(this.encoding?this.buffer=[this.buffer.join("")]:this.buffer=[Buffer.concat(this.buffer,this[ce])]);let t=this[xp](e||null,this.buffer[0]);return this[Ut](),t}[xp](e,t){return e===t.length||e===null?this[Ec]():(this.buffer[0]=t.slice(e),t=t.slice(0,e),this[ce]-=e),this.emit("data",t),!this.buffer.length&&!this[jt]&&this.emit("drain"),t}end(e,t,s){return typeof e=="function"&&(s=e,e=null),typeof t=="function"&&(s=t,t="utf8"),e&&this.write(e,t),s&&this.once("end",s),this[jt]=!0,this.writable=!1,(this.flowing||!this[Wi])&&this[Ut](),this}[Ss](){this[ye]||(this[Wi]=!1,this[Lo]=!0,this.emit("resume"),this.buffer.length?this[$o]():this[jt]?this[Ut]():this.emit("drain"))}resume(){return this[Ss]()}pause(){this[Lo]=!1,this[Wi]=!0}get destroyed(){return this[ye]}get flowing(){return this[Lo]}get paused(){return this[Wi]}[yc](e){this[be]?this[ce]+=1:this[ce]+=e.length,this.buffer.push(e)}[Ec](){return this.buffer.length&&(this[be]?this[ce]-=1:this[ce]-=this.buffer[0].length),this.buffer.shift()}[$o](e){do;while(this[Pp](this[Ec]()));!e&&!this.buffer.length&&!this[jt]&&this.emit("drain")}[Pp](e){return e?(this.emit("data",e),this.flowing):!1}pipe(e,t){if(this[ye])return;let s=this[mr];return t=t||{},e===Tp.stdout||e===Tp.stderr?t.end=!1:t.end=t.end!==!1,t.proxyErrors=!!t.proxyErrors,s?t.end&&e.end():(this.pipes.push(t.proxyErrors?new wc(this,e,t):new Io(this,e,t)),this[Vt]?zi(()=>this[Ss]()):this[Ss]()),e}unpipe(e){let t=this.pipes.find(s=>s.dest===e);t&&(this.pipes.splice(this.pipes.indexOf(t),1),t.unpipe())}addListener(e,t){return this.on(e,t)}on(e,t){let s=super.on(e,t);return e==="data"&&!this.pipes.length&&!this.flowing?this[Ss]():e==="readable"&&this[ce]!==0?super.emit("readable"):pE(e)&&this[mr]?(super.emit(e),this.removeAllListeners(e)):e==="error"&&this[qi]&&(this[Vt]?zi(()=>t.call(this,this[qi])):t.call(this,this[qi])),s}get emittedEnd(){return this[mr]}[Ut](){!this[xo]&&!this[mr]&&!this[ye]&&this.buffer.length===0&&this[jt]&&(this[xo]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[Po]&&this.emit("close"),this[xo]=!1)}emit(e,t,...s){if(e!=="error"&&e!=="close"&&e!==ye&&this[ye])return;if(e==="data")return t?this[Vt]?zi(()=>this[_c](t)):this[_c](t):!1;if(e==="end")return this[$p]();if(e==="close"){if(this[Po]=!0,!this[mr]&&!this[ye])return;let a=super.emit("close");return this.removeAllListeners("close"),a}else if(e==="error"){this[qi]=t;let a=super.emit("error",t);return this[Ut](),a}else if(e==="resume"){let a=super.emit("resume");return this[Ut](),a}else if(e==="finish"||e==="prefinish"){let a=super.emit(e);return this.removeAllListeners(e),a}let n=super.emit(e,t,...s);return this[Ut](),n}[_c](e){for(let s of this.pipes)s.dest.write(e)===!1&&this.pause();let t=super.emit("data",e);return this[Ut](),t}[$p](){this[mr]||(this[mr]=!0,this.readable=!1,this[Vt]?zi(()=>this[Cc]()):this[Cc]())}[Cc](){if(this[Ht]){let t=this[Ht].end();if(t){for(let s of this.pipes)s.dest.write(t);super.emit("data",t)}}for(let t of this.pipes)t.end();let e=super.emit("end");return this.removeAllListeners("end"),e}collect(){let e=[];this[be]||(e.dataLength=0);let t=this.promise();return this.on("data",s=>{e.push(s),this[be]||(e.dataLength+=s.length)}),t.then(()=>e)}concat(){return this[be]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(e=>this[be]?Promise.reject(new Error("cannot concat in objectMode")):this[Oe]?e.join(""):Buffer.concat(e,e.dataLength))}promise(){return new Promise((e,t)=>{this.on(ye,()=>t(new Error("stream destroyed"))),this.on("error",s=>t(s)),this.on("end",()=>e())})}[dE](){return{next:()=>{let t=this.read();if(t!==null)return Promise.resolve({done:!1,value:t});if(this[jt])return Promise.resolve({done:!0});let s=null,n=null,a=f=>{this.removeListener("data",o),this.removeListener("end",h),n(f)},o=f=>{this.removeListener("error",a),this.removeListener("end",h),this.pause(),s({value:f,done:!!this[jt]})},h=()=>{this.removeListener("error",a),this.removeListener("data",o),s({done:!0})},d=()=>a(new Error("stream destroyed"));return new Promise((f,p)=>{n=p,s=f,this.once(ye,d),this.once("error",a),this.once("end",h),this.once("data",o)})}}}[mE](){return{next:()=>{let t=this.read();return{value:t,done:t===null}}}}destroy(e){return this[ye]?(e?this.emit("error",e):this.emit(ye),this):(this[ye]=!0,this.buffer.length=0,this[ce]=0,typeof this.close=="function"&&!this[Po]&&this.close(),e?this.emit("error",e):this.emit(ye),this)}static isStream(e){return!!e&&(e instanceof Ip||e instanceof Op||e instanceof fE&&(typeof e.pipe=="function"||typeof e.write=="function"&&typeof e.end=="function"))}}});var xs=A(Ui=>{"use strict";var bE=Mp(),yE=v("events").EventEmitter,Be=v("fs"),vc=Be.writev;if(!vc){let r=process.binding("fs"),e=r.FSReqWrap||r.FSReqCallback;vc=(t,s,n,a)=>{let o=(d,f)=>a(d,f,s),h=new e;h.oncomplete=o,r.writeBuffers(t,s,n,h)}}var Os=Symbol("_autoClose"),st=Symbol("_close"),ji=Symbol("_ended"),j=Symbol("_fd"),kp=Symbol("_finished"),Dr=Symbol("_flags"),Sc=Symbol("_flush"),Rc=Symbol("_handleChunk"),Ac=Symbol("_makeBuf"),Wo=Symbol("_mode"),No=Symbol("_needDrain"),As=Symbol("_onerror"),Bs=Symbol("_onopen"),Fc=Symbol("_onread"),vs=Symbol("_onwrite"),gr=Symbol("_open"),Gt=Symbol("_path"),zr=Symbol("_pos"),Et=Symbol("_queue"),Rs=Symbol("_read"),qp=Symbol("_readSize"),pr=Symbol("_reading"),Mo=Symbol("_remain"),Wp=Symbol("_size"),ko=Symbol("_write"),Fs=Symbol("_writing"),qo=Symbol("_defaultFlag"),Ts=Symbol("_errored"),zo=class extends bE{constructor(e,t){if(t=t||{},super(t),this.readable=!0,this.writable=!1,typeof e!="string")throw new TypeError("path must be a string");this[Ts]=!1,this[j]=typeof t.fd=="number"?t.fd:null,this[Gt]=e,this[qp]=t.readSize||16*1024*1024,this[pr]=!1,this[Wp]=typeof t.size=="number"?t.size:1/0,this[Mo]=this[Wp],this[Os]=typeof t.autoClose=="boolean"?t.autoClose:!0,typeof this[j]=="number"?this[Rs]():this[gr]()}get fd(){return this[j]}get path(){return this[Gt]}write(){throw new TypeError("this is a readable stream")}end(){throw new TypeError("this is a readable stream")}[gr](){Be.open(this[Gt],"r",(e,t)=>this[Bs](e,t))}[Bs](e,t){e?this[As](e):(this[j]=t,this.emit("open",t),this[Rs]())}[Ac](){return Buffer.allocUnsafe(Math.min(this[qp],this[Mo]))}[Rs](){if(!this[pr]){this[pr]=!0;let e=this[Ac]();if(e.length===0)return process.nextTick(()=>this[Fc](null,0,e));Be.read(this[j],e,0,e.length,null,(t,s,n)=>this[Fc](t,s,n))}}[Fc](e,t,s){this[pr]=!1,e?this[As](e):this[Rc](t,s)&&this[Rs]()}[st](){if(this[Os]&&typeof this[j]=="number"){let e=this[j];this[j]=null,Be.close(e,t=>t?this.emit("error",t):this.emit("close"))}}[As](e){this[pr]=!0,this[st](),this.emit("error",e)}[Rc](e,t){let s=!1;return this[Mo]-=e,e>0&&(s=super.write(e<t.length?t.slice(0,e):t)),(e===0||this[Mo]<=0)&&(s=!1,this[st](),super.end()),s}emit(e,t){switch(e){case"prefinish":case"finish":break;case"drain":typeof this[j]=="number"&&this[Rs]();break;case"error":return this[Ts]?void 0:(this[Ts]=!0,super.emit(e,t));default:return super.emit(e,t)}}},Tc=class extends zo{[gr](){let e=!0;try{this[Bs](null,Be.openSync(this[Gt],"r")),e=!1}finally{e&&this[st]()}}[Rs](){let e=!0;try{if(!this[pr]){this[pr]=!0;do{let t=this[Ac](),s=t.length===0?0:Be.readSync(this[j],t,0,t.length,null);if(!this[Rc](s,t))break}while(!0);this[pr]=!1}e=!1}finally{e&&this[st]()}}[st](){if(this[Os]&&typeof this[j]=="number"){let e=this[j];this[j]=null,Be.closeSync(e),this.emit("close")}}},jo=class extends yE{constructor(e,t){t=t||{},super(t),this.readable=!1,this.writable=!0,this[Ts]=!1,this[Fs]=!1,this[ji]=!1,this[No]=!1,this[Et]=[],this[Gt]=e,this[j]=typeof t.fd=="number"?t.fd:null,this[Wo]=t.mode===void 0?438:t.mode,this[zr]=typeof t.start=="number"?t.start:null,this[Os]=typeof t.autoClose=="boolean"?t.autoClose:!0;let s=this[zr]!==null?"r+":"w";this[qo]=t.flags===void 0,this[Dr]=this[qo]?s:t.flags,this[j]===null&&this[gr]()}emit(e,t){if(e==="error"){if(this[Ts])return;this[Ts]=!0}return super.emit(e,t)}get fd(){return this[j]}get path(){return this[Gt]}[As](e){this[st](),this[Fs]=!0,this.emit("error",e)}[gr](){Be.open(this[Gt],this[Dr],this[Wo],(e,t)=>this[Bs](e,t))}[Bs](e,t){this[qo]&&this[Dr]==="r+"&&e&&e.code==="ENOENT"?(this[Dr]="w",this[gr]()):e?this[As](e):(this[j]=t,this.emit("open",t),this[Sc]())}end(e,t){return e&&this.write(e,t),this[ji]=!0,!this[Fs]&&!this[Et].length&&typeof this[j]=="number"&&this[vs](null,0),this}write(e,t){return typeof e=="string"&&(e=Buffer.from(e,t)),this[ji]?(this.emit("error",new Error("write() after end()")),!1):this[j]===null||this[Fs]||this[Et].length?(this[Et].push(e),this[No]=!0,!1):(this[Fs]=!0,this[ko](e),!0)}[ko](e){Be.write(this[j],e,0,e.length,this[zr],(t,s)=>this[vs](t,s))}[vs](e,t){e?this[As](e):(this[zr]!==null&&(this[zr]+=t),this[Et].length?this[Sc]():(this[Fs]=!1,this[ji]&&!this[kp]?(this[kp]=!0,this[st](),this.emit("finish")):this[No]&&(this[No]=!1,this.emit("drain"))))}[Sc](){if(this[Et].length===0)this[ji]&&this[vs](null,0);else if(this[Et].length===1)this[ko](this[Et].pop());else{let e=this[Et];this[Et]=[],vc(this[j],e,this[zr],(t,s)=>this[vs](t,s))}}[st](){if(this[Os]&&typeof this[j]=="number"){let e=this[j];this[j]=null,Be.close(e,t=>t?this.emit("error",t):this.emit("close"))}}},Oc=class extends jo{[gr](){let e;if(this[qo]&&this[Dr]==="r+")try{e=Be.openSync(this[Gt],this[Dr],this[Wo])}catch(t){if(t.code==="ENOENT")return this[Dr]="w",this[gr]();throw t}else e=Be.openSync(this[Gt],this[Dr],this[Wo]);this[Bs](null,e)}[st](){if(this[Os]&&typeof this[j]=="number"){let e=this[j];this[j]=null,Be.closeSync(e),this.emit("close")}}[ko](e){let t=!0;try{this[vs](null,Be.writeSync(this[j],e,0,e.length,this[zr])),t=!1}finally{if(t)try{this[st]()}catch{}}}};Ui.ReadStream=zo;Ui.ReadStreamSync=Tc;Ui.WriteStream=jo;Ui.WriteStreamSync=Oc});var Zo=A((FF,Qp)=>{"use strict";var EE=go(),zp=_s(),_E=v("events"),CE=uc(),wE=1024*1024,SE=mo(),jp=Do(),Up=ql(),{nextTick:FE}=v("process"),Bc=Buffer.from([31,139]),Ve=Symbol("state"),jr=Symbol("writeEntry"),Yt=Symbol("readEntry"),xc=Symbol("nextEntry"),Hp=Symbol("processEntry"),Ge=Symbol("extendedHeader"),Hi=Symbol("globalExtendedHeader"),br=Symbol("meta"),Vp=Symbol("emitMeta"),H=Symbol("buffer"),Kt=Symbol("queue"),yr=Symbol("ended"),Gp=Symbol("emittedEnd"),Ur=Symbol("emit"),he=Symbol("unzip"),Uo=Symbol("consumeChunk"),Ho=Symbol("consumeChunkSub"),Pc=Symbol("consumeBody"),Yp=Symbol("consumeMeta"),Kp=Symbol("consumeHeader"),Vo=Symbol("consuming"),$c=Symbol("bufferConcat"),Lc=Symbol("maybeEnd"),Vi=Symbol("writing"),Er=Symbol("aborted"),Go=Symbol("onDone"),Hr=Symbol("sawValidEntry"),Yo=Symbol("sawNullBlock"),Ko=Symbol("sawEOF"),Zp=Symbol("closeStream"),vE=r=>!0;Qp.exports=EE(class extends _E{constructor(e){e=e||{},super(e),this.file=e.file||"",this[Hr]=null,this.on(Go,s=>{(this[Ve]==="begin"||this[Hr]===!1)&&this.warn("TAR_BAD_ARCHIVE","Unrecognized archive format")}),e.ondone?this.on(Go,e.ondone):this.on(Go,s=>{this.emit("prefinish"),this.emit("finish"),this.emit("end")}),this.strict=!!e.strict,this.maxMetaEntrySize=e.maxMetaEntrySize||wE,this.filter=typeof e.filter=="function"?e.filter:vE;let t=e.file&&(e.file.endsWith(".tar.br")||e.file.endsWith(".tbr"));this.brotli=!e.gzip&&e.brotli!==void 0?e.brotli:t?void 0:!1,this.writable=!0,this.readable=!1,this[Kt]=new CE,this[H]=null,this[Yt]=null,this[jr]=null,this[Ve]="begin",this[br]="",this[Ge]=null,this[Hi]=null,this[yr]=!1,this[he]=null,this[Er]=!1,this[Yo]=!1,this[Ko]=!1,this.on("end",()=>this[Zp]()),typeof e.onwarn=="function"&&this.on("warn",e.onwarn),typeof e.onentry=="function"&&this.on("entry",e.onentry)}[Kp](e,t){this[Hr]===null&&(this[Hr]=!1);let s;try{s=new zp(e,t,this[Ge],this[Hi])}catch(n){return this.warn("TAR_ENTRY_INVALID",n)}if(s.nullBlock)this[Yo]?(this[Ko]=!0,this[Ve]==="begin"&&(this[Ve]="header"),this[Ur]("eof")):(this[Yo]=!0,this[Ur]("nullBlock"));else if(this[Yo]=!1,!s.cksumValid)this.warn("TAR_ENTRY_INVALID","checksum failure",{header:s});else if(!s.path)this.warn("TAR_ENTRY_INVALID","path is required",{header:s});else{let n=s.type;if(/^(Symbolic)?Link$/.test(n)&&!s.linkpath)this.warn("TAR_ENTRY_INVALID","linkpath required",{header:s});else if(!/^(Symbolic)?Link$/.test(n)&&s.linkpath)this.warn("TAR_ENTRY_INVALID","linkpath forbidden",{header:s});else{let a=this[jr]=new SE(s,this[Ge],this[Hi]);if(!this[Hr])if(a.remain){let o=()=>{a.invalid||(this[Hr]=!0)};a.on("end",o)}else this[Hr]=!0;a.meta?a.size>this.maxMetaEntrySize?(a.ignore=!0,this[Ur]("ignoredEntry",a),this[Ve]="ignore",a.resume()):a.size>0&&(this[br]="",a.on("data",o=>this[br]+=o),this[Ve]="meta"):(this[Ge]=null,a.ignore=a.ignore||!this.filter(a.path,a),a.ignore?(this[Ur]("ignoredEntry",a),this[Ve]=a.remain?"ignore":"header",a.resume()):(a.remain?this[Ve]="body":(this[Ve]="header",a.end()),this[Yt]?this[Kt].push(a):(this[Kt].push(a),this[xc]())))}}}[Zp](){FE(()=>this.emit("close"))}[Hp](e){let t=!0;return e?Array.isArray(e)?this.emit.apply(this,e):(this[Yt]=e,this.emit("entry",e),e.emittedEnd||(e.on("end",s=>this[xc]()),t=!1)):(this[Yt]=null,t=!1),t}[xc](){do;while(this[Hp](this[Kt].shift()));if(!this[Kt].length){let e=this[Yt];!e||e.flowing||e.size===e.remain?this[Vi]||this.emit("drain"):e.once("drain",s=>this.emit("drain"))}}[Pc](e,t){let s=this[jr],n=s.blockRemain,a=n>=e.length&&t===0?e:e.slice(t,t+n);return s.write(a),s.blockRemain||(this[Ve]="header",this[jr]=null,s.end()),a.length}[Yp](e,t){let s=this[jr],n=this[Pc](e,t);return this[jr]||this[Vp](s),n}[Ur](e,t,s){!this[Kt].length&&!this[Yt]?this.emit(e,t,s):this[Kt].push([e,t,s])}[Vp](e){switch(this[Ur]("meta",this[br]),e.type){case"ExtendedHeader":case"OldExtendedHeader":this[Ge]=jp.parse(this[br],this[Ge],!1);break;case"GlobalExtendedHeader":this[Hi]=jp.parse(this[br],this[Hi],!0);break;case"NextFileHasLongPath":case"OldGnuLongPath":this[Ge]=this[Ge]||Object.create(null),this[Ge].path=this[br].replace(/\0.*/,"");break;case"NextFileHasLongLinkpath":this[Ge]=this[Ge]||Object.create(null),this[Ge].linkpath=this[br].replace(/\0.*/,"");break;default:throw new Error("unknown meta: "+e.type)}}abort(e){this[Er]=!0,this.emit("abort",e),this.warn("TAR_ABORT",e,{recoverable:!1})}write(e){if(this[Er])return;if((this[he]===null||this.brotli===void 0&&this[he]===!1)&&e){if(this[H]&&(e=Buffer.concat([this[H],e]),this[H]=null),e.length<Bc.length)return this[H]=e,!0;for(let a=0;this[he]===null&&a<Bc.length;a++)e[a]!==Bc[a]&&(this[he]=!1);let n=this.brotli===void 0;if(this[he]===!1&&n)if(e.length<512)if(this[yr])this.brotli=!0;else return this[H]=e,!0;else try{new zp(e.slice(0,512)),this.brotli=!1}catch{this.brotli=!0}if(this[he]===null||this[he]===!1&&this.brotli){let a=this[yr];this[yr]=!1,this[he]=this[he]===null?new Up.Unzip:new Up.BrotliDecompress,this[he].on("data",h=>this[Uo](h)),this[he].on("error",h=>this.abort(h)),this[he].on("end",h=>{this[yr]=!0,this[Uo]()}),this[Vi]=!0;let o=this[he][a?"end":"write"](e);return this[Vi]=!1,o}}this[Vi]=!0,this[he]?this[he].write(e):this[Uo](e),this[Vi]=!1;let s=this[Kt].length?!1:this[Yt]?this[Yt].flowing:!0;return!s&&!this[Kt].length&&this[Yt].once("drain",n=>this.emit("drain")),s}[$c](e){e&&!this[Er]&&(this[H]=this[H]?Buffer.concat([this[H],e]):e)}[Lc](){if(this[yr]&&!this[Gp]&&!this[Er]&&!this[Vo]){this[Gp]=!0;let e=this[jr];if(e&&e.blockRemain){let t=this[H]?this[H].length:0;this.warn("TAR_BAD_ARCHIVE",`Truncated input (needed ${e.blockRemain} more bytes, only ${t} available)`,{entry:e}),this[H]&&e.write(this[H]),e.end()}this[Ur](Go)}}[Uo](e){if(this[Vo])this[$c](e);else if(!e&&!this[H])this[Lc]();else{if(this[Vo]=!0,this[H]){this[$c](e);let t=this[H];this[H]=null,this[Ho](t)}else this[Ho](e);for(;this[H]&&this[H].length>=512&&!this[Er]&&!this[Ko];){let t=this[H];this[H]=null,this[Ho](t)}this[Vo]=!1}(!this[H]||this[yr])&&this[Lc]()}[Ho](e){let t=0,s=e.length;for(;t+512<=s&&!this[Er]&&!this[Ko];)switch(this[Ve]){case"begin":case"header":this[Kp](e,t),t+=512;break;case"ignore":case"body":t+=this[Pc](e,t);break;case"meta":t+=this[Yp](e,t);break;default:throw new Error("invalid state: "+this[Ve])}t<s&&(this[H]?this[H]=Buffer.concat([e.slice(t),this[H]]):this[H]=e.slice(t))}end(e){this[Er]||(this[he]?this[he].end(e):(this[yr]=!0,this.brotli===void 0&&(e=e||Buffer.alloc(0)),this.write(e)))}})});var Qo=A((vF,tD)=>{"use strict";var RE=ms(),Jp=Zo(),Ps=v("fs"),AE=xs(),Xp=v("path"),Ic=Cs();tD.exports=(r,e,t)=>{typeof r=="function"?(t=r,e=null,r={}):Array.isArray(r)&&(e=r,r={}),typeof e=="function"&&(t=e,e=null),e?e=Array.from(e):e=[];let s=RE(r);if(s.sync&&typeof t=="function")throw new TypeError("callback not supported for sync tar functions");if(!s.file&&typeof t=="function")throw new TypeError("callback only supported with file option");return e.length&&OE(s,e),s.noResume||TE(s),s.file&&s.sync?BE(s):s.file?xE(s,t):eD(s)};var TE=r=>{let e=r.onentry;r.onentry=e?t=>{e(t),t.resume()}:t=>t.resume()},OE=(r,e)=>{let t=new Map(e.map(a=>[Ic(a),!0])),s=r.filter,n=(a,o)=>{let h=o||Xp.parse(a).root||".",d=a===h?!1:t.has(a)?t.get(a):n(Xp.dirname(a),h);return t.set(a,d),d};r.filter=s?(a,o)=>s(a,o)&&n(Ic(a)):a=>n(Ic(a))},BE=r=>{let e=eD(r),t=r.file,s=!0,n;try{let a=Ps.statSync(t),o=r.maxReadSize||16*1024*1024;if(a.size<o)e.end(Ps.readFileSync(t));else{let h=0,d=Buffer.allocUnsafe(o);for(n=Ps.openSync(t,"r");h<a.size;){let f=Ps.readSync(n,d,0,o,h);h+=f,e.write(d.slice(0,f))}e.end()}s=!1}finally{if(s&&n)try{Ps.closeSync(n)}catch{}}},xE=(r,e)=>{let t=new Jp(r),s=r.maxReadSize||16*1024*1024,n=r.file,a=new Promise((o,h)=>{t.on("error",h),t.on("end",o),Ps.stat(n,(d,f)=>{if(d)h(d);else{let p=new AE.ReadStream(n,{readSize:s,size:f.size});p.on("error",h),p.pipe(t)}})});return e?a.then(e,e):a},eD=r=>new Jp(r)});var aD=A((RF,oD)=>{"use strict";var PE=ms(),Xo=Bo(),rD=xs(),sD=Qo(),iD=v("path");oD.exports=(r,e,t)=>{if(typeof e=="function"&&(t=e),Array.isArray(r)&&(e=r,r={}),!e||!Array.isArray(e)||!e.length)throw new TypeError("no files or directories specified");e=Array.from(e);let s=PE(r);if(s.sync&&typeof t=="function")throw new TypeError("callback not supported for sync tar functions");if(!s.file&&typeof t=="function")throw new TypeError("callback only supported with file option");return s.file&&s.sync?$E(s,e):s.file?LE(s,e,t):s.sync?IE(s,e):NE(s,e)};var $E=(r,e)=>{let t=new Xo.Sync(r),s=new rD.WriteStreamSync(r.file,{mode:r.mode||438});t.pipe(s),nD(t,e)},LE=(r,e,t)=>{let s=new Xo(r),n=new rD.WriteStream(r.file,{mode:r.mode||438});s.pipe(n);let a=new Promise((o,h)=>{n.on("error",h),n.on("close",o),s.on("error",h)});return Nc(s,e),t?a.then(t,t):a},nD=(r,e)=>{e.forEach(t=>{t.charAt(0)==="@"?sD({file:iD.resolve(r.cwd,t.slice(1)),sync:!0,noResume:!0,onentry:s=>r.add(s)}):r.add(t)}),r.end()},Nc=(r,e)=>{for(;e.length;){let t=e.shift();if(t.charAt(0)==="@")return sD({file:iD.resolve(r.cwd,t.slice(1)),noResume:!0,onentry:s=>r.add(s)}).then(s=>Nc(r,e));r.add(t)}r.end()},IE=(r,e)=>{let t=new Xo.Sync(r);return nD(t,e),t},NE=(r,e)=>{let t=new Xo(r);return Nc(t,e),t}});var Mc=A((AF,mD)=>{"use strict";var ME=ms(),uD=Bo(),Ne=v("fs"),lD=xs(),cD=Qo(),hD=v("path"),fD=_s();mD.exports=(r,e,t)=>{let s=ME(r);if(!s.file)throw new TypeError("file is required");if(s.gzip||s.brotli||s.file.endsWith(".br")||s.file.endsWith(".tbr"))throw new TypeError("cannot append to compressed archives");if(!e||!Array.isArray(e)||!e.length)throw new TypeError("no files or directories specified");return e=Array.from(e),s.sync?kE(s,e):WE(s,e,t)};var kE=(r,e)=>{let t=new uD.Sync(r),s=!0,n,a;try{try{n=Ne.openSync(r.file,"r+")}catch(d){if(d.code==="ENOENT")n=Ne.openSync(r.file,"w+");else throw d}let o=Ne.fstatSync(n),h=Buffer.alloc(512);e:for(a=0;a<o.size;a+=512){for(let p=0,D=0;p<512;p+=D){if(D=Ne.readSync(n,h,p,h.length-p,a+p),a===0&&h[0]===31&&h[1]===139)throw new Error("cannot append to compressed archives");if(!D)break e}let d=new fD(h);if(!d.cksumValid)break;let f=512*Math.ceil(d.size/512);if(a+f+512>o.size)break;a+=f,r.mtimeCache&&r.mtimeCache.set(d.path,d.mtime)}s=!1,qE(r,t,a,n,e)}finally{if(s)try{Ne.closeSync(n)}catch{}}},qE=(r,e,t,s,n)=>{let a=new lD.WriteStreamSync(r.file,{fd:s,start:t});e.pipe(a),zE(e,n)},WE=(r,e,t)=>{e=Array.from(e);let s=new uD(r),n=(o,h,d)=>{let f=(g,_)=>{g?Ne.close(o,S=>d(g)):d(null,_)},p=0;if(h===0)return f(null,0);let D=0,y=Buffer.alloc(512),C=(g,_)=>{if(g)return f(g);if(D+=_,D<512&&_)return Ne.read(o,y,D,y.length-D,p+D,C);if(p===0&&y[0]===31&&y[1]===139)return f(new Error("cannot append to compressed archives"));if(D<512)return f(null,p);let S=new fD(y);if(!S.cksumValid)return f(null,p);let F=512*Math.ceil(S.size/512);if(p+F+512>h||(p+=F+512,p>=h))return f(null,p);r.mtimeCache&&r.mtimeCache.set(S.path,S.mtime),D=0,Ne.read(o,y,0,512,p,C)};Ne.read(o,y,0,512,p,C)},a=new Promise((o,h)=>{s.on("error",h);let d="r+",f=(p,D)=>{if(p&&p.code==="ENOENT"&&d==="r+")return d="w+",Ne.open(r.file,d,f);if(p)return h(p);Ne.fstat(D,(y,C)=>{if(y)return Ne.close(D,()=>h(y));n(D,C.size,(g,_)=>{if(g)return h(g);let S=new lD.WriteStream(r.file,{fd:D,start:_});s.pipe(S),S.on("error",h),S.on("close",o),dD(s,e)})})};Ne.open(r.file,d,f)});return t?a.then(t,t):a},zE=(r,e)=>{e.forEach(t=>{t.charAt(0)==="@"?cD({file:hD.resolve(r.cwd,t.slice(1)),sync:!0,noResume:!0,onentry:s=>r.add(s)}):r.add(t)}),r.end()},dD=(r,e)=>{for(;e.length;){let t=e.shift();if(t.charAt(0)==="@")return cD({file:hD.resolve(r.cwd,t.slice(1)),noResume:!0,onentry:s=>r.add(s)}).then(s=>dD(r,e));r.add(t)}r.end()}});var DD=A((TF,pD)=>{"use strict";var jE=ms(),UE=Mc();pD.exports=(r,e,t)=>{let s=jE(r);if(!s.file)throw new TypeError("file is required");if(s.gzip||s.brotli||s.file.endsWith(".br")||s.file.endsWith(".tbr"))throw new TypeError("cannot append to compressed archives");if(!e||!Array.isArray(e)||!e.length)throw new TypeError("no files or directories specified");return e=Array.from(e),HE(s),UE(s,e,t)};var HE=r=>{let e=r.filter;r.mtimeCache||(r.mtimeCache=new Map),r.filter=e?(t,s)=>e(t,s)&&!(r.mtimeCache.get(t)>s.mtime):(t,s)=>!(r.mtimeCache.get(t)>s.mtime)}});var yD=A((OF,bD)=>{var{promisify:gD}=v("util"),_r=v("fs"),VE=r=>{if(!r)r={mode:511,fs:_r};else if(typeof r=="object")r={mode:511,fs:_r,...r};else if(typeof r=="number")r={mode:r,fs:_r};else if(typeof r=="string")r={mode:parseInt(r,8),fs:_r};else throw new TypeError("invalid options argument");return r.mkdir=r.mkdir||r.fs.mkdir||_r.mkdir,r.mkdirAsync=gD(r.mkdir),r.stat=r.stat||r.fs.stat||_r.stat,r.statAsync=gD(r.stat),r.statSync=r.statSync||r.fs.statSync||_r.statSync,r.mkdirSync=r.mkdirSync||r.fs.mkdirSync||_r.mkdirSync,r};bD.exports=VE});var _D=A((BF,ED)=>{var GE=process.env.__TESTING_MKDIRP_PLATFORM__||process.platform,{resolve:YE,parse:KE}=v("path"),ZE=r=>{if(/\0/.test(r))throw Object.assign(new TypeError("path must be a string without null bytes"),{path:r,code:"ERR_INVALID_ARG_VALUE"});if(r=YE(r),GE==="win32"){let e=/[*|"<>?:]/,{root:t}=KE(r);if(e.test(r.substr(t.length)))throw Object.assign(new Error("Illegal characters in path."),{path:r,code:"EINVAL"})}return r};ED.exports=ZE});var vD=A((xF,FD)=>{var{dirname:CD}=v("path"),wD=(r,e,t=void 0)=>t===e?Promise.resolve():r.statAsync(e).then(s=>s.isDirectory()?t:void 0,s=>s.code==="ENOENT"?wD(r,CD(e),e):void 0),SD=(r,e,t=void 0)=>{if(t!==e)try{return r.statSync(e).isDirectory()?t:void 0}catch(s){return s.code==="ENOENT"?SD(r,CD(e),e):void 0}};FD.exports={findMade:wD,findMadeSync:SD}});var Wc=A((PF,AD)=>{var{dirname:RD}=v("path"),kc=(r,e,t)=>{e.recursive=!1;let s=RD(r);return s===r?e.mkdirAsync(r,e).catch(n=>{if(n.code!=="EISDIR")throw n}):e.mkdirAsync(r,e).then(()=>t||r,n=>{if(n.code==="ENOENT")return kc(s,e).then(a=>kc(r,e,a));if(n.code!=="EEXIST"&&n.code!=="EROFS")throw n;return e.statAsync(r).then(a=>{if(a.isDirectory())return t;throw n},()=>{throw n})})},qc=(r,e,t)=>{let s=RD(r);if(e.recursive=!1,s===r)try{return e.mkdirSync(r,e)}catch(n){if(n.code!=="EISDIR")throw n;return}try{return e.mkdirSync(r,e),t||r}catch(n){if(n.code==="ENOENT")return qc(r,e,qc(s,e,t));if(n.code!=="EEXIST"&&n.code!=="EROFS")throw n;try{if(!e.statSync(r).isDirectory())throw n}catch{throw n}}};AD.exports={mkdirpManual:kc,mkdirpManualSync:qc}});var BD=A(($F,OD)=>{var{dirname:TD}=v("path"),{findMade:QE,findMadeSync:XE}=vD(),{mkdirpManual:JE,mkdirpManualSync:e_}=Wc(),t_=(r,e)=>(e.recursive=!0,TD(r)===r?e.mkdirAsync(r,e):QE(e,r).then(s=>e.mkdirAsync(r,e).then(()=>s).catch(n=>{if(n.code==="ENOENT")return JE(r,e);throw n}))),r_=(r,e)=>{if(e.recursive=!0,TD(r)===r)return e.mkdirSync(r,e);let s=XE(e,r);try{return e.mkdirSync(r,e),s}catch(n){if(n.code==="ENOENT")return e_(r,e);throw n}};OD.exports={mkdirpNative:t_,mkdirpNativeSync:r_}});var LD=A((LF,$D)=>{var xD=v("fs"),s_=process.env.__TESTING_MKDIRP_NODE_VERSION__||process.version,zc=s_.replace(/^v/,"").split("."),PD=+zc[0]>10||+zc[0]==10&&+zc[1]>=12,i_=PD?r=>r.mkdir===xD.mkdir:()=>!1,n_=PD?r=>r.mkdirSync===xD.mkdirSync:()=>!1;$D.exports={useNative:i_,useNativeSync:n_}});var WD=A((IF,qD)=>{var $s=yD(),Ls=_D(),{mkdirpNative:ID,mkdirpNativeSync:ND}=BD(),{mkdirpManual:MD,mkdirpManualSync:kD}=Wc(),{useNative:o_,useNativeSync:a_}=LD(),Is=(r,e)=>(r=Ls(r),e=$s(e),o_(e)?ID(r,e):MD(r,e)),u_=(r,e)=>(r=Ls(r),e=$s(e),a_(e)?ND(r,e):kD(r,e));Is.sync=u_;Is.native=(r,e)=>ID(Ls(r),$s(e));Is.manual=(r,e)=>MD(Ls(r),$s(e));Is.nativeSync=(r,e)=>ND(Ls(r),$s(e));Is.manualSync=(r,e)=>kD(Ls(r),$s(e));qD.exports=Is});var YD=A((NF,GD)=>{"use strict";var Ye=v("fs"),Vr=v("path"),l_=Ye.lchown?"lchown":"chown",c_=Ye.lchownSync?"lchownSync":"chownSync",jD=Ye.lchown&&!process.version.match(/v1[1-9]+\./)&&!process.version.match(/v10\.[6-9]/),zD=(r,e,t)=>{try{return Ye[c_](r,e,t)}catch(s){if(s.code!=="ENOENT")throw s}},h_=(r,e,t)=>{try{return Ye.chownSync(r,e,t)}catch(s){if(s.code!=="ENOENT")throw s}},f_=jD?(r,e,t,s)=>n=>{!n||n.code!=="EISDIR"?s(n):Ye.chown(r,e,t,s)}:(r,e,t,s)=>s,jc=jD?(r,e,t)=>{try{return zD(r,e,t)}catch(s){if(s.code!=="EISDIR")throw s;h_(r,e,t)}}:(r,e,t)=>zD(r,e,t),d_=process.version,UD=(r,e,t)=>Ye.readdir(r,e,t),m_=(r,e)=>Ye.readdirSync(r,e);/^v4\./.test(d_)&&(UD=(r,e,t)=>Ye.readdir(r,t));var Jo=(r,e,t,s)=>{Ye[l_](r,e,t,f_(r,e,t,n=>{s(n&&n.code!=="ENOENT"?n:null)}))},HD=(r,e,t,s,n)=>{if(typeof e=="string")return Ye.lstat(Vr.resolve(r,e),(a,o)=>{if(a)return n(a.code!=="ENOENT"?a:null);o.name=e,HD(r,o,t,s,n)});if(e.isDirectory())Uc(Vr.resolve(r,e.name),t,s,a=>{if(a)return n(a);let o=Vr.resolve(r,e.name);Jo(o,t,s,n)});else{let a=Vr.resolve(r,e.name);Jo(a,t,s,n)}},Uc=(r,e,t,s)=>{UD(r,{withFileTypes:!0},(n,a)=>{if(n){if(n.code==="ENOENT")return s();if(n.code!=="ENOTDIR"&&n.code!=="ENOTSUP")return s(n)}if(n||!a.length)return Jo(r,e,t,s);let o=a.length,h=null,d=f=>{if(!h){if(f)return s(h=f);if(--o===0)return Jo(r,e,t,s)}};a.forEach(f=>HD(r,f,e,t,d))})},p_=(r,e,t,s)=>{if(typeof e=="string")try{let n=Ye.lstatSync(Vr.resolve(r,e));n.name=e,e=n}catch(n){if(n.code==="ENOENT")return;throw n}e.isDirectory()&&VD(Vr.resolve(r,e.name),t,s),jc(Vr.resolve(r,e.name),t,s)},VD=(r,e,t)=>{let s;try{s=m_(r,{withFileTypes:!0})}catch(n){if(n.code==="ENOENT")return;if(n.code==="ENOTDIR"||n.code==="ENOTSUP")return jc(r,e,t);throw n}return s&&s.length&&s.forEach(n=>p_(r,n,e,t)),jc(r,e,t)};GD.exports=Uc;Uc.sync=VD});var XD=A((MF,Hc)=>{"use strict";var KD=WD(),Ke=v("fs"),ea=v("path"),ZD=YD(),it=ys(),ta=class extends Error{constructor(e,t){super("Cannot extract through symbolic link"),this.path=t,this.symlink=e}get name(){return"SylinkError"}},ra=class extends Error{constructor(e,t){super(t+": Cannot cd into '"+e+"'"),this.path=e,this.code=t}get name(){return"CwdError"}},sa=(r,e)=>r.get(it(e)),Gi=(r,e,t)=>r.set(it(e),t),D_=(r,e)=>{Ke.stat(r,(t,s)=>{(t||!s.isDirectory())&&(t=new ra(r,t&&t.code||"ENOTDIR")),e(t)})};Hc.exports=(r,e,t)=>{r=it(r);let s=e.umask,n=e.mode|448,a=(n&s)!==0,o=e.uid,h=e.gid,d=typeof o=="number"&&typeof h=="number"&&(o!==e.processUid||h!==e.processGid),f=e.preserve,p=e.unlink,D=e.cache,y=it(e.cwd),C=(S,F)=>{S?t(S):(Gi(D,r,!0),F&&d?ZD(F,o,h,$=>C($)):a?Ke.chmod(r,n,t):t())};if(D&&sa(D,r)===!0)return C();if(r===y)return D_(r,C);if(f)return KD(r,{mode:n}).then(S=>C(null,S),C);let _=it(ea.relative(y,r)).split("/");ia(y,_,n,D,p,y,null,C)};var ia=(r,e,t,s,n,a,o,h)=>{if(!e.length)return h(null,o);let d=e.shift(),f=it(ea.resolve(r+"/"+d));if(sa(s,f))return ia(f,e,t,s,n,a,o,h);Ke.mkdir(f,t,QD(f,e,t,s,n,a,o,h))},QD=(r,e,t,s,n,a,o,h)=>d=>{d?Ke.lstat(r,(f,p)=>{if(f)f.path=f.path&&it(f.path),h(f);else if(p.isDirectory())ia(r,e,t,s,n,a,o,h);else if(n)Ke.unlink(r,D=>{if(D)return h(D);Ke.mkdir(r,t,QD(r,e,t,s,n,a,o,h))});else{if(p.isSymbolicLink())return h(new ta(r,r+"/"+e.join("/")));h(d)}}):(o=o||r,ia(r,e,t,s,n,a,o,h))},g_=r=>{let e=!1,t="ENOTDIR";try{e=Ke.statSync(r).isDirectory()}catch(s){t=s.code}finally{if(!e)throw new ra(r,t)}};Hc.exports.sync=(r,e)=>{r=it(r);let t=e.umask,s=e.mode|448,n=(s&t)!==0,a=e.uid,o=e.gid,h=typeof a=="number"&&typeof o=="number"&&(a!==e.processUid||o!==e.processGid),d=e.preserve,f=e.unlink,p=e.cache,D=it(e.cwd),y=S=>{Gi(p,r,!0),S&&h&&ZD.sync(S,a,o),n&&Ke.chmodSync(r,s)};if(p&&sa(p,r)===!0)return y();if(r===D)return g_(D),y();if(d)return y(KD.sync(r,s));let g=it(ea.relative(D,r)).split("/"),_=null;for(let S=g.shift(),F=D;S&&(F+="/"+S);S=g.shift())if(F=it(ea.resolve(F)),!sa(p,F))try{Ke.mkdirSync(F,s),_=_||F,Gi(p,F,!0)}catch{let Y=Ke.lstatSync(F);if(Y.isDirectory()){Gi(p,F,!0);continue}else if(f){Ke.unlinkSync(F),Ke.mkdirSync(F,s),_=_||F,Gi(p,F,!0);continue}else if(Y.isSymbolicLink())return new ta(F,F+"/"+g.join("/"))}return y(_)}});var Gc=A((kF,JD)=>{var Vc=Object.create(null),{hasOwnProperty:b_}=Object.prototype;JD.exports=r=>(b_.call(Vc,r)||(Vc[r]=r.normalize("NFD")),Vc[r])});var sg=A((qF,rg)=>{var eg=v("assert"),y_=Gc(),E_=Cs(),{join:tg}=v("path"),__=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform,C_=__==="win32";rg.exports=()=>{let r=new Map,e=new Map,t=f=>f.split("/").slice(0,-1).reduce((D,y)=>(D.length&&(y=tg(D[D.length-1],y)),D.push(y||"/"),D),[]),s=new Set,n=f=>{let p=e.get(f);if(!p)throw new Error("function does not have any path reservations");return{paths:p.paths.map(D=>r.get(D)),dirs:[...p.dirs].map(D=>r.get(D))}},a=f=>{let{paths:p,dirs:D}=n(f);return p.every(y=>y[0]===f)&&D.every(y=>y[0]instanceof Set&&y[0].has(f))},o=f=>s.has(f)||!a(f)?!1:(s.add(f),f(()=>h(f)),!0),h=f=>{if(!s.has(f))return!1;let{paths:p,dirs:D}=e.get(f),y=new Set;return p.forEach(C=>{let g=r.get(C);eg.equal(g[0],f),g.length===1?r.delete(C):(g.shift(),typeof g[0]=="function"?y.add(g[0]):g[0].forEach(_=>y.add(_)))}),D.forEach(C=>{let g=r.get(C);eg(g[0]instanceof Set),g[0].size===1&&g.length===1?r.delete(C):g[0].size===1?(g.shift(),y.add(g[0])):g[0].delete(f)}),s.delete(f),y.forEach(C=>o(C)),!0};return{check:a,reserve:(f,p)=>{f=C_?["win32 parallelization disabled"]:f.map(y=>E_(tg(y_(y))).toLowerCase());let D=new Set(f.map(y=>t(y)).reduce((y,C)=>y.concat(C)));return e.set(p,{dirs:D,paths:f}),f.forEach(y=>{let C=r.get(y);C?C.push(p):r.set(y,[p])}),D.forEach(y=>{let C=r.get(y);C?C[C.length-1]instanceof Set?C[C.length-1].add(p):C.push(new Set([p])):r.set(y,[new Set([p])])}),o(p)}}}});var og=A((WF,ng)=>{var w_=process.env.__FAKE_PLATFORM__||process.platform,S_=w_==="win32",F_=global.__FAKE_TESTING_FS__||v("fs"),{O_CREAT:v_,O_TRUNC:R_,O_WRONLY:A_,UV_FS_O_FILEMAP:ig=0}=F_.constants,T_=S_&&!!ig,O_=512*1024,B_=ig|R_|v_|A_;ng.exports=T_?r=>r<O_?B_:"w":()=>"w"});var rh=A((zF,Eg)=>{"use strict";var x_=v("assert"),P_=Zo(),q=v("fs"),$_=xs(),Zt=v("path"),gg=XD(),ag=Zl(),L_=sg(),I_=Ql(),Me=ys(),N_=Cs(),M_=Gc(),ug=Symbol("onEntry"),Zc=Symbol("checkFs"),lg=Symbol("checkFs2"),aa=Symbol("pruneCache"),Qc=Symbol("isReusable"),Ze=Symbol("makeFs"),Xc=Symbol("file"),Jc=Symbol("directory"),ua=Symbol("link"),cg=Symbol("symlink"),hg=Symbol("hardlink"),fg=Symbol("unsupported"),dg=Symbol("checkPath"),Cr=Symbol("mkdir"),Ee=Symbol("onError"),na=Symbol("pending"),mg=Symbol("pend"),Ns=Symbol("unpend"),Yc=Symbol("ended"),Kc=Symbol("maybeClose"),eh=Symbol("skip"),Yi=Symbol("doChown"),Ki=Symbol("uid"),Zi=Symbol("gid"),Qi=Symbol("checkedCwd"),bg=v("crypto"),yg=og(),k_=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform,Xi=k_==="win32",q_=(r,e)=>{if(!Xi)return q.unlink(r,e);let t=r+".DELETE."+bg.randomBytes(16).toString("hex");q.rename(r,t,s=>{if(s)return e(s);q.unlink(t,e)})},W_=r=>{if(!Xi)return q.unlinkSync(r);let e=r+".DELETE."+bg.randomBytes(16).toString("hex");q.renameSync(r,e),q.unlinkSync(e)},pg=(r,e,t)=>r===r>>>0?r:e===e>>>0?e:t,Dg=r=>N_(Me(M_(r))).toLowerCase(),z_=(r,e)=>{e=Dg(e);for(let t of r.keys()){let s=Dg(t);(s===e||s.indexOf(e+"/")===0)&&r.delete(t)}},j_=r=>{for(let e of r.keys())r.delete(e)},Ji=class extends P_{constructor(e){if(e||(e={}),e.ondone=t=>{this[Yc]=!0,this[Kc]()},super(e),this[Qi]=!1,this.reservations=L_(),this.transform=typeof e.transform=="function"?e.transform:null,this.writable=!0,this.readable=!1,this[na]=0,this[Yc]=!1,this.dirCache=e.dirCache||new Map,typeof e.uid=="number"||typeof e.gid=="number"){if(typeof e.uid!="number"||typeof e.gid!="number")throw new TypeError("cannot set owner without number uid and gid");if(e.preserveOwner)throw new TypeError("cannot preserve owner in archive and also set owner explicitly");this.uid=e.uid,this.gid=e.gid,this.setOwner=!0}else this.uid=null,this.gid=null,this.setOwner=!1;e.preserveOwner===void 0&&typeof e.uid!="number"?this.preserveOwner=process.getuid&&process.getuid()===0:this.preserveOwner=!!e.preserveOwner,this.processUid=(this.preserveOwner||this.setOwner)&&process.getuid?process.getuid():null,this.processGid=(this.preserveOwner||this.setOwner)&&process.getgid?process.getgid():null,this.forceChown=e.forceChown===!0,this.win32=!!e.win32||Xi,this.newer=!!e.newer,this.keep=!!e.keep,this.noMtime=!!e.noMtime,this.preservePaths=!!e.preservePaths,this.unlink=!!e.unlink,this.cwd=Me(Zt.resolve(e.cwd||process.cwd())),this.strip=+e.strip||0,this.processUmask=e.noChmod?0:process.umask(),this.umask=typeof e.umask=="number"?e.umask:this.processUmask,this.dmode=e.dmode||511&~this.umask,this.fmode=e.fmode||438&~this.umask,this.on("entry",t=>this[ug](t))}warn(e,t,s={}){return(e==="TAR_BAD_ARCHIVE"||e==="TAR_ABORT")&&(s.recoverable=!1),super.warn(e,t,s)}[Kc](){this[Yc]&&this[na]===0&&(this.emit("prefinish"),this.emit("finish"),this.emit("end"))}[dg](e){if(this.strip){let t=Me(e.path).split("/");if(t.length<this.strip)return!1;if(e.path=t.slice(this.strip).join("/"),e.type==="Link"){let s=Me(e.linkpath).split("/");if(s.length>=this.strip)e.linkpath=s.slice(this.strip).join("/");else return!1}}if(!this.preservePaths){let t=Me(e.path),s=t.split("/");if(s.includes("..")||Xi&&/^[a-z]:\.\.$/i.test(s[0]))return this.warn("TAR_ENTRY_ERROR","path contains '..'",{entry:e,path:t}),!1;let[n,a]=I_(t);n&&(e.path=a,this.warn("TAR_ENTRY_INFO",`stripping ${n} from absolute path`,{entry:e,path:t}))}if(Zt.isAbsolute(e.path)?e.absolute=Me(Zt.resolve(e.path)):e.absolute=Me(Zt.resolve(this.cwd,e.path)),!this.preservePaths&&e.absolute.indexOf(this.cwd+"/")!==0&&e.absolute!==this.cwd)return this.warn("TAR_ENTRY_ERROR","path escaped extraction target",{entry:e,path:Me(e.path),resolvedPath:e.absolute,cwd:this.cwd}),!1;if(e.absolute===this.cwd&&e.type!=="Directory"&&e.type!=="GNUDumpDir")return!1;if(this.win32){let{root:t}=Zt.win32.parse(e.absolute);e.absolute=t+ag.encode(e.absolute.slice(t.length));let{root:s}=Zt.win32.parse(e.path);e.path=s+ag.encode(e.path.slice(s.length))}return!0}[ug](e){if(!this[dg](e))return e.resume();switch(x_.equal(typeof e.absolute,"string"),e.type){case"Directory":case"GNUDumpDir":e.mode&&(e.mode=e.mode|448);case"File":case"OldFile":case"ContiguousFile":case"Link":case"SymbolicLink":return this[Zc](e);case"CharacterDevice":case"BlockDevice":case"FIFO":default:return this[fg](e)}}[Ee](e,t){e.name==="CwdError"?this.emit("error",e):(this.warn("TAR_ENTRY_ERROR",e,{entry:t}),this[Ns](),t.resume())}[Cr](e,t,s){gg(Me(e),{uid:this.uid,gid:this.gid,processUid:this.processUid,processGid:this.processGid,umask:this.processUmask,preserve:this.preservePaths,unlink:this.unlink,cache:this.dirCache,cwd:this.cwd,mode:t,noChmod:this.noChmod},s)}[Yi](e){return this.forceChown||this.preserveOwner&&(typeof e.uid=="number"&&e.uid!==this.processUid||typeof e.gid=="number"&&e.gid!==this.processGid)||typeof this.uid=="number"&&this.uid!==this.processUid||typeof this.gid=="number"&&this.gid!==this.processGid}[Ki](e){return pg(this.uid,e.uid,this.processUid)}[Zi](e){return pg(this.gid,e.gid,this.processGid)}[Xc](e,t){let s=e.mode&4095||this.fmode,n=new $_.WriteStream(e.absolute,{flags:yg(e.size),mode:s,autoClose:!1});n.on("error",d=>{n.fd&&q.close(n.fd,()=>{}),n.write=()=>!0,this[Ee](d,e),t()});let a=1,o=d=>{if(d){n.fd&&q.close(n.fd,()=>{}),this[Ee](d,e),t();return}--a===0&&q.close(n.fd,f=>{f?this[Ee](f,e):this[Ns](),t()})};n.on("finish",d=>{let f=e.absolute,p=n.fd;if(e.mtime&&!this.noMtime){a++;let D=e.atime||new Date,y=e.mtime;q.futimes(p,D,y,C=>C?q.utimes(f,D,y,g=>o(g&&C)):o())}if(this[Yi](e)){a++;let D=this[Ki](e),y=this[Zi](e);q.fchown(p,D,y,C=>C?q.chown(f,D,y,g=>o(g&&C)):o())}o()});let h=this.transform&&this.transform(e)||e;h!==e&&(h.on("error",d=>{this[Ee](d,e),t()}),e.pipe(h)),h.pipe(n)}[Jc](e,t){let s=e.mode&4095||this.dmode;this[Cr](e.absolute,s,n=>{if(n){this[Ee](n,e),t();return}let a=1,o=h=>{--a===0&&(t(),this[Ns](),e.resume())};e.mtime&&!this.noMtime&&(a++,q.utimes(e.absolute,e.atime||new Date,e.mtime,o)),this[Yi](e)&&(a++,q.chown(e.absolute,this[Ki](e),this[Zi](e),o)),o()})}[fg](e){e.unsupported=!0,this.warn("TAR_ENTRY_UNSUPPORTED",`unsupported entry type: ${e.type}`,{entry:e}),e.resume()}[cg](e,t){this[ua](e,e.linkpath,"symlink",t)}[hg](e,t){let s=Me(Zt.resolve(this.cwd,e.linkpath));this[ua](e,s,"link",t)}[mg](){this[na]++}[Ns](){this[na]--,this[Kc]()}[eh](e){this[Ns](),e.resume()}[Qc](e,t){return e.type==="File"&&!this.unlink&&t.isFile()&&t.nlink<=1&&!Xi}[Zc](e){this[mg]();let t=[e.path];e.linkpath&&t.push(e.linkpath),this.reservations.reserve(t,s=>this[lg](e,s))}[aa](e){e.type==="SymbolicLink"?j_(this.dirCache):e.type!=="Directory"&&z_(this.dirCache,e.absolute)}[lg](e,t){this[aa](e);let s=h=>{this[aa](e),t(h)},n=()=>{this[Cr](this.cwd,this.dmode,h=>{if(h){this[Ee](h,e),s();return}this[Qi]=!0,a()})},a=()=>{if(e.absolute!==this.cwd){let h=Me(Zt.dirname(e.absolute));if(h!==this.cwd)return this[Cr](h,this.dmode,d=>{if(d){this[Ee](d,e),s();return}o()})}o()},o=()=>{q.lstat(e.absolute,(h,d)=>{if(d&&(this.keep||this.newer&&d.mtime>e.mtime)){this[eh](e),s();return}if(h||this[Qc](e,d))return this[Ze](null,e,s);if(d.isDirectory()){if(e.type==="Directory"){let f=!this.noChmod&&e.mode&&(d.mode&4095)!==e.mode,p=D=>this[Ze](D,e,s);return f?q.chmod(e.absolute,e.mode,p):p()}if(e.absolute!==this.cwd)return q.rmdir(e.absolute,f=>this[Ze](f,e,s))}if(e.absolute===this.cwd)return this[Ze](null,e,s);q_(e.absolute,f=>this[Ze](f,e,s))})};this[Qi]?a():n()}[Ze](e,t,s){if(e){this[Ee](e,t),s();return}switch(t.type){case"File":case"OldFile":case"ContiguousFile":return this[Xc](t,s);case"Link":return this[hg](t,s);case"SymbolicLink":return this[cg](t,s);case"Directory":case"GNUDumpDir":return this[Jc](t,s)}}[ua](e,t,s,n){q[s](t,e.absolute,a=>{a?this[Ee](a,e):(this[Ns](),e.resume()),n()})}},oa=r=>{try{return[null,r()]}catch(e){return[e,null]}},th=class extends Ji{[Ze](e,t){return super[Ze](e,t,()=>{})}[Zc](e){if(this[aa](e),!this[Qi]){let a=this[Cr](this.cwd,this.dmode);if(a)return this[Ee](a,e);this[Qi]=!0}if(e.absolute!==this.cwd){let a=Me(Zt.dirname(e.absolute));if(a!==this.cwd){let o=this[Cr](a,this.dmode);if(o)return this[Ee](o,e)}}let[t,s]=oa(()=>q.lstatSync(e.absolute));if(s&&(this.keep||this.newer&&s.mtime>e.mtime))return this[eh](e);if(t||this[Qc](e,s))return this[Ze](null,e);if(s.isDirectory()){if(e.type==="Directory"){let o=!this.noChmod&&e.mode&&(s.mode&4095)!==e.mode,[h]=o?oa(()=>{q.chmodSync(e.absolute,e.mode)}):[];return this[Ze](h,e)}let[a]=oa(()=>q.rmdirSync(e.absolute));this[Ze](a,e)}let[n]=e.absolute===this.cwd?[]:oa(()=>W_(e.absolute));this[Ze](n,e)}[Xc](e,t){let s=e.mode&4095||this.fmode,n=h=>{let d;try{q.closeSync(a)}catch(f){d=f}(h||d)&&this[Ee](h||d,e),t()},a;try{a=q.openSync(e.absolute,yg(e.size),s)}catch(h){return n(h)}let o=this.transform&&this.transform(e)||e;o!==e&&(o.on("error",h=>this[Ee](h,e)),e.pipe(o)),o.on("data",h=>{try{q.writeSync(a,h,0,h.length)}catch(d){n(d)}}),o.on("end",h=>{let d=null;if(e.mtime&&!this.noMtime){let f=e.atime||new Date,p=e.mtime;try{q.futimesSync(a,f,p)}catch(D){try{q.utimesSync(e.absolute,f,p)}catch{d=D}}}if(this[Yi](e)){let f=this[Ki](e),p=this[Zi](e);try{q.fchownSync(a,f,p)}catch(D){try{q.chownSync(e.absolute,f,p)}catch{d=d||D}}}n(d)})}[Jc](e,t){let s=e.mode&4095||this.dmode,n=this[Cr](e.absolute,s);if(n){this[Ee](n,e),t();return}if(e.mtime&&!this.noMtime)try{q.utimesSync(e.absolute,e.atime||new Date,e.mtime)}catch{}if(this[Yi](e))try{q.chownSync(e.absolute,this[Ki](e),this[Zi](e))}catch{}t(),e.resume()}[Cr](e,t){try{return gg.sync(Me(e),{uid:this.uid,gid:this.gid,processUid:this.processUid,processGid:this.processGid,umask:this.processUmask,preserve:this.preservePaths,unlink:this.unlink,cache:this.dirCache,cwd:this.cwd,mode:t})}catch(s){return s}}[ua](e,t,s,n){try{q[s+"Sync"](t,e.absolute),n(),e.resume()}catch(a){return this[Ee](a,e)}}};Ji.Sync=th;Eg.exports=Ji});var Fg=A((jF,Sg)=>{"use strict";var U_=ms(),la=rh(),Cg=v("fs"),wg=xs(),_g=v("path"),sh=Cs();Sg.exports=(r,e,t)=>{typeof r=="function"?(t=r,e=null,r={}):Array.isArray(r)&&(e=r,r={}),typeof e=="function"&&(t=e,e=null),e?e=Array.from(e):e=[];let s=U_(r);if(s.sync&&typeof t=="function")throw new TypeError("callback not supported for sync tar functions");if(!s.file&&typeof t=="function")throw new TypeError("callback only supported with file option");return e.length&&H_(s,e),s.file&&s.sync?V_(s):s.file?G_(s,t):s.sync?Y_(s):K_(s)};var H_=(r,e)=>{let t=new Map(e.map(a=>[sh(a),!0])),s=r.filter,n=(a,o)=>{let h=o||_g.parse(a).root||".",d=a===h?!1:t.has(a)?t.get(a):n(_g.dirname(a),h);return t.set(a,d),d};r.filter=s?(a,o)=>s(a,o)&&n(sh(a)):a=>n(sh(a))},V_=r=>{let e=new la.Sync(r),t=r.file,s=Cg.statSync(t),n=r.maxReadSize||16*1024*1024;new wg.ReadStreamSync(t,{readSize:n,size:s.size}).pipe(e)},G_=(r,e)=>{let t=new la(r),s=r.maxReadSize||16*1024*1024,n=r.file,a=new Promise((o,h)=>{t.on("error",h),t.on("close",o),Cg.stat(n,(d,f)=>{if(d)h(d);else{let p=new wg.ReadStream(n,{readSize:s,size:f.size});p.on("error",h),p.pipe(t)}})});return e?a.then(e,e):a},Y_=r=>new la.Sync(r),K_=r=>new la(r)});var vg=A(oe=>{"use strict";oe.c=oe.create=aD();oe.r=oe.replace=Mc();oe.t=oe.list=Qo();oe.u=oe.update=DD();oe.x=oe.extract=Fg();oe.Pack=Bo();oe.Unpack=rh();oe.Parse=Zo();oe.ReadEntry=mo();oe.WriteEntry=ac();oe.Header=_s();oe.Pax=Do();oe.types=jl()});var $g={};Yy($g,{toFormData:()=>Pg});function xg(r){let e=r.match(/\bfilename=("(.*?)"|([^()<>@,;:\\"/[\]?={}\s\t]+))($|;\s)/i);if(!e)return;let t=e[2]||e[3]||"",s=t.slice(t.lastIndexOf("\\")+1);return s=s.replace(/%22/g,'"'),s=s.replace(/&#(\d{4});/g,(n,a)=>String.fromCharCode(a)),s}async function Pg(r,e){if(!/multipart/i.test(e))throw new TypeError("Failed to fetch");let t=e.match(/boundary=(?:"([^"]+)"|([^;]+))/i);if(!t)throw new TypeError("no or bad content-type header, no multipart boundary");let s=new oC(t[1]||t[2]),n,a,o,h,d,f,p=[],D=new Yr,y=ke(F=>{o+=S.decode(F,{stream:!0})},"onPartData"),C=ke(F=>{p.push(F)},"appendToFile"),g=ke(()=>{let F=new Ms(p,f,{type:d});D.append(h,F)},"appendFileToFormData"),_=ke(()=>{D.append(h,o)},"appendEntryToFormData"),S=new TextDecoder("utf-8");S.decode(),s.onPartBegin=function(){s.onPartData=y,s.onPartEnd=_,n="",a="",o="",h="",d="",f=null,p.length=0},s.onHeaderField=function(F){n+=S.decode(F,{stream:!0})},s.onHeaderValue=function(F){a+=S.decode(F,{stream:!0})},s.onHeaderEnd=function(){if(a+=S.decode(),n=n.toLowerCase(),n==="content-disposition"){let F=a.match(/\bname=("([^"]*)"|([^()<>@,;:\\"/[\]?={}\s\t]+))/i);F&&(h=F[2]||F[3]||""),f=xg(a),f&&(s.onPartData=C,s.onPartEnd=g)}else n==="content-type"&&(d=a);a="",n=""};for await(let F of r)s.write(F);return s.end(),D}var eC,ke,_t,V,Og,Sr,ha,fa,tC,en,rC,sC,iC,nC,Gr,Bg,oC,Lg=Qd(()=>{da();eC=Object.defineProperty,ke=(r,e)=>eC(r,"name",{value:e,configurable:!0}),_t=0,V={START_BOUNDARY:_t++,HEADER_FIELD_START:_t++,HEADER_FIELD:_t++,HEADER_VALUE_START:_t++,HEADER_VALUE:_t++,HEADER_VALUE_ALMOST_DONE:_t++,HEADERS_ALMOST_DONE:_t++,PART_DATA_START:_t++,PART_DATA:_t++,END:_t++},Og=1,Sr={PART_BOUNDARY:Og,LAST_BOUNDARY:Og*=2},ha=10,fa=13,tC=32,en=45,rC=58,sC=97,iC=122,nC=ke(r=>r|32,"lower"),Gr=ke(()=>{},"noop"),Bg=class{constructor(e){this.index=0,this.flags=0,this.onHeaderEnd=Gr,this.onHeaderField=Gr,this.onHeadersEnd=Gr,this.onHeaderValue=Gr,this.onPartBegin=Gr,this.onPartData=Gr,this.onPartEnd=Gr,this.boundaryChars={},e=`\r
--`+e;let t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s),this.boundaryChars[t[s]]=!0;this.boundary=t,this.lookbehind=new Uint8Array(this.boundary.length+8),this.state=V.START_BOUNDARY}write(e){let t=0,s=e.length,n=this.index,{lookbehind:a,boundary:o,boundaryChars:h,index:d,state:f,flags:p}=this,D=this.boundary.length,y=D-1,C=e.length,g,_,S=ke(B=>{this[B+"Mark"]=t},"mark"),F=ke(B=>{delete this[B+"Mark"]},"clear"),$=ke((B,W,L,ae)=>{(W===void 0||W!==L)&&this[B](ae&&ae.subarray(W,L))},"callback"),Y=ke((B,W)=>{let L=B+"Mark";L in this&&(W?($(B,this[L],t,e),delete this[L]):($(B,this[L],e.length,e),this[L]=0))},"dataCallback");for(t=0;t<s;t++)switch(g=e[t],f){case V.START_BOUNDARY:if(d===o.length-2){if(g===en)p|=Sr.LAST_BOUNDARY;else if(g!==fa)return;d++;break}else if(d-1===o.length-2){if(p&Sr.LAST_BOUNDARY&&g===en)f=V.END,p=0;else if(!(p&Sr.LAST_BOUNDARY)&&g===ha)d=0,$("onPartBegin"),f=V.HEADER_FIELD_START;else return;break}g!==o[d+2]&&(d=-2),g===o[d+2]&&d++;break;case V.HEADER_FIELD_START:f=V.HEADER_FIELD,S("onHeaderField"),d=0;case V.HEADER_FIELD:if(g===fa){F("onHeaderField"),f=V.HEADERS_ALMOST_DONE;break}if(d++,g===en)break;if(g===rC){if(d===1)return;Y("onHeaderField",!0),f=V.HEADER_VALUE_START;break}if(_=nC(g),_<sC||_>iC)return;break;case V.HEADER_VALUE_START:if(g===tC)break;S("onHeaderValue"),f=V.HEADER_VALUE;case V.HEADER_VALUE:g===fa&&(Y("onHeaderValue",!0),$("onHeaderEnd"),f=V.HEADER_VALUE_ALMOST_DONE);break;case V.HEADER_VALUE_ALMOST_DONE:if(g!==ha)return;f=V.HEADER_FIELD_START;break;case V.HEADERS_ALMOST_DONE:if(g!==ha)return;$("onHeadersEnd"),f=V.PART_DATA_START;break;case V.PART_DATA_START:f=V.PART_DATA,S("onPartData");case V.PART_DATA:if(n=d,d===0){for(t+=y;t<C&&!(e[t]in h);)t+=D;t-=y,g=e[t]}if(d<o.length)o[d]===g?(d===0&&Y("onPartData",!0),d++):d=0;else if(d===o.length)d++,g===fa?p|=Sr.PART_BOUNDARY:g===en?p|=Sr.LAST_BOUNDARY:d=0;else if(d-1===o.length)if(p&Sr.PART_BOUNDARY){if(d=0,g===ha){p&=~Sr.PART_BOUNDARY,$("onPartEnd"),$("onPartBegin"),f=V.HEADER_FIELD_START;break}}else p&Sr.LAST_BOUNDARY&&g===en?($("onPartEnd"),f=V.END,p=0):d=0;if(d>0)a[d-1]=g;else if(n>0){let B=new Uint8Array(a.buffer,a.byteOffset,a.byteLength);$("onPartData",0,n,B),n=0,S("onPartData"),t--}break;case V.END:break;default:throw new Error(`Unexpected state entered: ${f}`)}Y("onHeaderField"),Y("onHeaderValue"),Y("onPartData"),this.index=d,this.state=f,this.flags=p}end(){if(this.state===V.HEADER_FIELD_START&&this.index===0||this.state===V.PART_DATA&&this.index===this.boundary.length)this.onPartEnd();else if(this.state!==V.END)throw new Error("MultipartParser.end(): stream ended unexpectedly")}};ke(Bg,"MultipartParser");oC=Bg;ke(xg,"_fileName");ke(Pg,"toFormData")});import un from"node:http";import uC from"node:https";import qs from"node:zlib";import St,{PassThrough as _a,pipeline as Ws}from"node:stream";import{Buffer as _e}from"node:buffer";import{types as Ca,promisify as lC,deprecate as wa}from"node:util";import{format as cC}from"node:url";import{isIP as hC}from"node:net";import{statSync as jg,createReadStream as fC,promises as dC}from"node:fs";import{basename as mC}from"node:path";function Ug(r){if(!/^data:/i.test(r))throw new TypeError('`uri` does not appear to be a Data URI (must begin with "data:")');r=r.replace(/\r?\n/g,"");let e=r.indexOf(",");if(e===-1||e<=4)throw new TypeError("malformed data: URI");let t=r.substring(5,e).split(";"),s="",n=!1,a=t[0]||"text/plain",o=a;for(let p=1;p<t.length;p++)t[p]==="base64"?n=!0:t[p]&&(o+=`;${t[p]}`,t[p].indexOf("charset=")===0&&(s=t[p].substring(8)));!t[0]&&!s.length&&(o+=";charset=US-ASCII",s="US-ASCII");let h=n?"base64":"ascii",d=unescape(r.substring(e+1)),f=Buffer.from(d,h);return f.type=a,f.typeFull=o,f.charset=s,f}function Hg(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function Vg(){return Ig||(Ig=1,function(r,e){(function(t,s){s(e)})(fh,function(t){let s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol:i=>`Symbol(${i})`;function n(){}l(n,"noop");function a(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof fh<"u")return fh}l(a,"getGlobals");let o=a();function h(i){return typeof i=="object"&&i!==null||typeof i=="function"}l(h,"typeIsObject");let d=n,f=Promise,p=Promise.prototype.then,D=Promise.resolve.bind(f),y=Promise.reject.bind(f);function C(i){return new f(i)}l(C,"newPromise");function g(i){return D(i)}l(g,"promiseResolvedWith");function _(i){return y(i)}l(_,"promiseRejectedWith");function S(i,u,c){return p.call(i,u,c)}l(S,"PerformPromiseThen");function F(i,u,c){S(S(i,u,c),void 0,d)}l(F,"uponPromise");function $(i,u){F(i,u)}l($,"uponFulfillment");function Y(i,u){F(i,void 0,u)}l(Y,"uponRejection");function B(i,u,c){return S(i,u,c)}l(B,"transformPromiseWith");function W(i){S(i,void 0,d)}l(W,"setPromiseIsHandledToTrue");let L=(()=>{let i=o&&o.queueMicrotask;if(typeof i=="function")return i;let u=g(void 0);return c=>S(u,c)})();function ae(i,u,c){if(typeof i!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(i,u,c)}l(ae,"reflectCall");function $e(i,u,c){try{return g(ae(i,u,c))}catch(m){return _(m)}}l($e,"promiseCall");let Dn=16384,rf=class{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(u){let c=this._back,m=c;c._elements.length===Dn-1&&(m={_elements:[],_next:void 0}),c._elements.push(u),m!==c&&(this._back=m,c._next=m),++this._size}shift(){let u=this._front,c=u,m=this._cursor,b=m+1,E=u._elements,w=E[m];return b===Dn&&(c=u._next,b=0),--this._size,this._cursor=b,u!==c&&(this._front=c),E[m]=void 0,w}forEach(u){let c=this._cursor,m=this._front,b=m._elements;for(;(c!==b.length||m._next!==void 0)&&!(c===b.length&&(m=m._next,b=m._elements,c=0,b.length===0));)u(b[c]),++c}peek(){let u=this._front,c=this._cursor;return u._elements[c]}};l(rf,"SimpleQueue");let Je=rf;function Ua(i,u){i._ownerReadableStream=u,u._reader=i,u._state==="readable"?bn(i):u._state==="closed"?sf(i):Ha(i,u._storedError)}l(Ua,"ReadableStreamReaderGenericInitialize");function gn(i,u){let c=i._ownerReadableStream;return Ue(c,u)}l(gn,"ReadableStreamReaderGenericCancel");function ht(i){i._ownerReadableStream._state==="readable"?yn(i,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):nf(i,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),i._ownerReadableStream._reader=void 0,i._ownerReadableStream=void 0}l(ht,"ReadableStreamReaderGenericRelease");function Tr(i){return new TypeError("Cannot "+i+" a stream using a released reader")}l(Tr,"readerLockException");function bn(i){i._closedPromise=C((u,c)=>{i._closedPromise_resolve=u,i._closedPromise_reject=c})}l(bn,"defaultReaderClosedPromiseInitialize");function Ha(i,u){bn(i),yn(i,u)}l(Ha,"defaultReaderClosedPromiseInitializeAsRejected");function sf(i){bn(i),Va(i)}l(sf,"defaultReaderClosedPromiseInitializeAsResolved");function yn(i,u){i._closedPromise_reject!==void 0&&(W(i._closedPromise),i._closedPromise_reject(u),i._closedPromise_resolve=void 0,i._closedPromise_reject=void 0)}l(yn,"defaultReaderClosedPromiseReject");function nf(i,u){Ha(i,u)}l(nf,"defaultReaderClosedPromiseResetToRejected");function Va(i){i._closedPromise_resolve!==void 0&&(i._closedPromise_resolve(void 0),i._closedPromise_resolve=void 0,i._closedPromise_reject=void 0)}l(Va,"defaultReaderClosedPromiseResolve");let of=s("[[AbortSteps]]"),af=s("[[ErrorSteps]]"),Ga=s("[[CancelSteps]]"),Ya=s("[[PullSteps]]"),uf=Number.isFinite||function(i){return typeof i=="number"&&isFinite(i)},ky=Math.trunc||function(i){return i<0?Math.ceil(i):Math.floor(i)};function lf(i){return typeof i=="object"||typeof i=="function"}l(lf,"isDictionary");function ft(i,u){if(i!==void 0&&!lf(i))throw new TypeError(`${u} is not an object.`)}l(ft,"assertDictionary");function ze(i,u){if(typeof i!="function")throw new TypeError(`${u} is not a function.`)}l(ze,"assertFunction");function cf(i){return typeof i=="object"&&i!==null||typeof i=="function"}l(cf,"isObject");function Ka(i,u){if(!cf(i))throw new TypeError(`${u} is not an object.`)}l(Ka,"assertObject");function dt(i,u,c){if(i===void 0)throw new TypeError(`Parameter ${u} is required in '${c}'.`)}l(dt,"assertRequiredArgument");function En(i,u,c){if(i===void 0)throw new TypeError(`${u} is required in '${c}'.`)}l(En,"assertRequiredField");function _n(i){return Number(i)}l(_n,"convertUnrestrictedDouble");function Za(i){return i===0?0:i}l(Za,"censorNegativeZero");function hf(i){return Za(ky(i))}l(hf,"integerPart");function Qa(i,u){let c=Number.MAX_SAFE_INTEGER,m=Number(i);if(m=Za(m),!uf(m))throw new TypeError(`${u} is not a finite number`);if(m=hf(m),m<0||m>c)throw new TypeError(`${u} is outside the accepted range of 0 to ${c}, inclusive`);return!uf(m)||m===0?0:m}l(Qa,"convertUnsignedLongLongWithEnforceRange");function Cn(i,u){if(!Tt(i))throw new TypeError(`${u} is not a ReadableStream.`)}l(Cn,"assertReadableStream");function Or(i){return new Qs(i)}l(Or,"AcquireReadableStreamDefaultReader");function Xa(i,u){i._reader._readRequests.push(u)}l(Xa,"ReadableStreamAddReadRequest");function wn(i,u,c){let m=i._reader._readRequests.shift();c?m._closeSteps():m._chunkSteps(u)}l(wn,"ReadableStreamFulfillReadRequest");function Zs(i){return i._reader._readRequests.length}l(Zs,"ReadableStreamGetNumReadRequests");function Ja(i){let u=i._reader;return!(u===void 0||!vt(u))}l(Ja,"ReadableStreamHasDefaultReader");let ff=class{constructor(u){if(dt(u,1,"ReadableStreamDefaultReader"),Cn(u,"First parameter"),Ot(u))throw new TypeError("This stream has already been locked for exclusive reading by another reader");Ua(this,u),this._readRequests=new Je}get closed(){return vt(this)?this._closedPromise:_(Xs("closed"))}cancel(u=void 0){return vt(this)?this._ownerReadableStream===void 0?_(Tr("cancel")):gn(this,u):_(Xs("cancel"))}read(){if(!vt(this))return _(Xs("read"));if(this._ownerReadableStream===void 0)return _(Tr("read from"));let u,c,m=C((b,E)=>{u=b,c=E});return es(this,{_chunkSteps:b=>u({value:b,done:!1}),_closeSteps:()=>u({value:void 0,done:!0}),_errorSteps:b=>c(b)}),m}releaseLock(){if(!vt(this))throw Xs("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");ht(this)}}};l(ff,"ReadableStreamDefaultReader");let Qs=ff;Object.defineProperties(Qs.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof s.toStringTag=="symbol"&&Object.defineProperty(Qs.prototype,s.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});function vt(i){return!h(i)||!Object.prototype.hasOwnProperty.call(i,"_readRequests")?!1:i instanceof Qs}l(vt,"IsReadableStreamDefaultReader");function es(i,u){let c=i._ownerReadableStream;c._disturbed=!0,c._state==="closed"?u._closeSteps():c._state==="errored"?u._errorSteps(c._storedError):c._readableStreamController[Ya](u)}l(es,"ReadableStreamDefaultReaderRead");function Xs(i){return new TypeError(`ReadableStreamDefaultReader.prototype.${i} can only be used on a ReadableStreamDefaultReader`)}l(Xs,"defaultReaderBrandCheckException");let df=Object.getPrototypeOf(Object.getPrototypeOf(async function*(){}).prototype),mf=class{constructor(u,c){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=u,this._preventCancel=c}next(){let u=l(()=>this._nextSteps(),"nextSteps");return this._ongoingPromise=this._ongoingPromise?B(this._ongoingPromise,u,u):u(),this._ongoingPromise}return(u){let c=l(()=>this._returnSteps(u),"returnSteps");return this._ongoingPromise?B(this._ongoingPromise,c,c):c()}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});let u=this._reader;if(u._ownerReadableStream===void 0)return _(Tr("iterate"));let c,m,b=C((E,w)=>{c=E,m=w});return es(u,{_chunkSteps:E=>{this._ongoingPromise=void 0,L(()=>c({value:E,done:!1}))},_closeSteps:()=>{this._ongoingPromise=void 0,this._isFinished=!0,ht(u),c({value:void 0,done:!0})},_errorSteps:E=>{this._ongoingPromise=void 0,this._isFinished=!0,ht(u),m(E)}}),b}_returnSteps(u){if(this._isFinished)return Promise.resolve({value:u,done:!0});this._isFinished=!0;let c=this._reader;if(c._ownerReadableStream===void 0)return _(Tr("finish iterating"));if(!this._preventCancel){let m=gn(c,u);return ht(c),B(m,()=>({value:u,done:!0}))}return ht(c),g({value:u,done:!0})}};l(mf,"ReadableStreamAsyncIteratorImpl");let pf=mf,Df={next(){return eu(this)?this._asyncIteratorImpl.next():_(tu("next"))},return(i){return eu(this)?this._asyncIteratorImpl.return(i):_(tu("return"))}};df!==void 0&&Object.setPrototypeOf(Df,df);function gf(i,u){let c=Or(i),m=new pf(c,u),b=Object.create(Df);return b._asyncIteratorImpl=m,b}l(gf,"AcquireReadableStreamAsyncIterator");function eu(i){if(!h(i)||!Object.prototype.hasOwnProperty.call(i,"_asyncIteratorImpl"))return!1;try{return i._asyncIteratorImpl instanceof pf}catch{return!1}}l(eu,"IsReadableStreamAsyncIterator");function tu(i){return new TypeError(`ReadableStreamAsyncIterator.${i} can only be used on a ReadableSteamAsyncIterator`)}l(tu,"streamAsyncIteratorBrandCheckException");let bf=Number.isNaN||function(i){return i!==i};function ts(i){return i.slice()}l(ts,"CreateArrayFromList");function ru(i,u,c,m,b){new Uint8Array(i).set(new Uint8Array(c,m,b),u)}l(ru,"CopyDataBlockBytes");function qy(i){return i}l(qy,"TransferArrayBuffer");function Js(i){return!1}l(Js,"IsDetachedBuffer");function su(i,u,c){if(i.slice)return i.slice(u,c);let m=c-u,b=new ArrayBuffer(m);return ru(b,0,i,u,m),b}l(su,"ArrayBufferSlice");function yf(i){return!(typeof i!="number"||bf(i)||i<0)}l(yf,"IsNonNegativeNumber");function iu(i){let u=su(i.buffer,i.byteOffset,i.byteOffset+i.byteLength);return new Uint8Array(u)}l(iu,"CloneAsUint8Array");function Sn(i){let u=i._queue.shift();return i._queueTotalSize-=u.size,i._queueTotalSize<0&&(i._queueTotalSize=0),u.value}l(Sn,"DequeueValue");function Fn(i,u,c){if(!yf(c)||c===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");i._queue.push({value:u,size:c}),i._queueTotalSize+=c}l(Fn,"EnqueueValueWithSize");function Ef(i){return i._queue.peek().value}l(Ef,"PeekQueueValue");function Rt(i){i._queue=new Je,i._queueTotalSize=0}l(Rt,"ResetQueue");let _f=class{constructor(){throw new TypeError("Illegal constructor")}get view(){if(!vn(this))throw On("view");return this._view}respond(u){if(!vn(this))throw On("respond");if(dt(u,1,"respond"),u=Qa(u,"First parameter"),this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");Js(this._view.buffer),ni(this._associatedReadableByteStreamController,u)}respondWithNewView(u){if(!vn(this))throw On("respondWithNewView");if(dt(u,1,"respondWithNewView"),!ArrayBuffer.isView(u))throw new TypeError("You can only respond with array buffer views");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");Js(u.buffer),oi(this._associatedReadableByteStreamController,u)}};l(_f,"ReadableStreamBYOBRequest");let ei=_f;Object.defineProperties(ei.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),typeof s.toStringTag=="symbol"&&Object.defineProperty(ei.prototype,s.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});let Cf=class{constructor(){throw new TypeError("Illegal constructor")}get byobRequest(){if(!er(this))throw is("byobRequest");return Tn(this)}get desiredSize(){if(!er(this))throw is("desiredSize");return fu(this)}close(){if(!er(this))throw is("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");let u=this._controlledReadableByteStream._state;if(u!=="readable")throw new TypeError(`The stream (in ${u} state) is not in the readable state and cannot be closed`);ss(this)}enqueue(u){if(!er(this))throw is("enqueue");if(dt(u,1,"enqueue"),!ArrayBuffer.isView(u))throw new TypeError("chunk must be an array buffer view");if(u.byteLength===0)throw new TypeError("chunk must have non-zero byteLength");if(u.buffer.byteLength===0)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");let c=this._controlledReadableByteStream._state;if(c!=="readable")throw new TypeError(`The stream (in ${c} state) is not in the readable state and cannot be enqueued to`);ii(this,u)}error(u=void 0){if(!er(this))throw is("error");je(this,u)}[Ga](u){nu(this),Rt(this);let c=this._cancelAlgorithm(u);return si(this),c}[Ya](u){let c=this._controlledReadableByteStream;if(this._queueTotalSize>0){let b=this._queue.shift();this._queueTotalSize-=b.byteLength,lu(this);let E=new Uint8Array(b.buffer,b.byteOffset,b.byteLength);u._chunkSteps(E);return}let m=this._autoAllocateChunkSize;if(m!==void 0){let b;try{b=new ArrayBuffer(m)}catch(w){u._errorSteps(w);return}let E={buffer:b,bufferByteLength:m,byteOffset:0,byteLength:m,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(E)}Xa(c,u),tr(this)}};l(Cf,"ReadableByteStreamController");let rs=Cf;Object.defineProperties(rs.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof s.toStringTag=="symbol"&&Object.defineProperty(rs.prototype,s.toStringTag,{value:"ReadableByteStreamController",configurable:!0});function er(i){return!h(i)||!Object.prototype.hasOwnProperty.call(i,"_controlledReadableByteStream")?!1:i instanceof rs}l(er,"IsReadableByteStreamController");function vn(i){return!h(i)||!Object.prototype.hasOwnProperty.call(i,"_associatedReadableByteStreamController")?!1:i instanceof ei}l(vn,"IsReadableStreamBYOBRequest");function tr(i){if(!vf(i))return;if(i._pulling){i._pullAgain=!0;return}i._pulling=!0;let u=i._pullAlgorithm();F(u,()=>{i._pulling=!1,i._pullAgain&&(i._pullAgain=!1,tr(i))},c=>{je(i,c)})}l(tr,"ReadableByteStreamControllerCallPullIfNeeded");function nu(i){An(i),i._pendingPullIntos=new Je}l(nu,"ReadableByteStreamControllerClearPendingPullIntos");function Rn(i,u){let c=!1;i._state==="closed"&&(c=!0);let m=ou(u);u.readerType==="default"?wn(i,m,c):Tf(i,m,c)}l(Rn,"ReadableByteStreamControllerCommitPullIntoDescriptor");function ou(i){let u=i.bytesFilled,c=i.elementSize;return new i.viewConstructor(i.buffer,i.byteOffset,u/c)}l(ou,"ReadableByteStreamControllerConvertPullIntoDescriptor");function ti(i,u,c,m){i._queue.push({buffer:u,byteOffset:c,byteLength:m}),i._queueTotalSize+=m}l(ti,"ReadableByteStreamControllerEnqueueChunkToQueue");function au(i,u){let c=u.elementSize,m=u.bytesFilled-u.bytesFilled%c,b=Math.min(i._queueTotalSize,u.byteLength-u.bytesFilled),E=u.bytesFilled+b,w=E-E%c,T=b,x=!1;w>m&&(T=w-u.bytesFilled,x=!0);let P=i._queue;for(;T>0;){let N=P.peek(),M=Math.min(T,N.byteLength),ie=u.byteOffset+u.bytesFilled;ru(u.buffer,ie,N.buffer,N.byteOffset,M),N.byteLength===M?P.shift():(N.byteOffset+=M,N.byteLength-=M),i._queueTotalSize-=M,uu(i,M,u),T-=M}return x}l(au,"ReadableByteStreamControllerFillPullIntoDescriptorFromQueue");function uu(i,u,c){c.bytesFilled+=u}l(uu,"ReadableByteStreamControllerFillHeadPullIntoDescriptor");function lu(i){i._queueTotalSize===0&&i._closeRequested?(si(i),hs(i._controlledReadableByteStream)):tr(i)}l(lu,"ReadableByteStreamControllerHandleQueueDrain");function An(i){i._byobRequest!==null&&(i._byobRequest._associatedReadableByteStreamController=void 0,i._byobRequest._view=null,i._byobRequest=null)}l(An,"ReadableByteStreamControllerInvalidateBYOBRequest");function cu(i){for(;i._pendingPullIntos.length>0;){if(i._queueTotalSize===0)return;let u=i._pendingPullIntos.peek();au(i,u)&&(ri(i),Rn(i._controlledReadableByteStream,u))}}l(cu,"ReadableByteStreamControllerProcessPullIntoDescriptorsUsingQueue");function wf(i,u,c){let m=i._controlledReadableByteStream,b=1;u.constructor!==DataView&&(b=u.constructor.BYTES_PER_ELEMENT);let E=u.constructor,w=u.buffer,T={buffer:w,bufferByteLength:w.byteLength,byteOffset:u.byteOffset,byteLength:u.byteLength,bytesFilled:0,elementSize:b,viewConstructor:E,readerType:"byob"};if(i._pendingPullIntos.length>0){i._pendingPullIntos.push(T),pu(m,c);return}if(m._state==="closed"){let x=new E(T.buffer,T.byteOffset,0);c._closeSteps(x);return}if(i._queueTotalSize>0){if(au(i,T)){let x=ou(T);lu(i),c._chunkSteps(x);return}if(i._closeRequested){let x=new TypeError("Insufficient bytes to fill elements in the given buffer");je(i,x),c._errorSteps(x);return}}i._pendingPullIntos.push(T),pu(m,c),tr(i)}l(wf,"ReadableByteStreamControllerPullInto");function Sf(i,u){let c=i._controlledReadableByteStream;if(Bn(c))for(;Du(c)>0;){let m=ri(i);Rn(c,m)}}l(Sf,"ReadableByteStreamControllerRespondInClosedState");function Ff(i,u,c){if(uu(i,u,c),c.bytesFilled<c.elementSize)return;ri(i);let m=c.bytesFilled%c.elementSize;if(m>0){let b=c.byteOffset+c.bytesFilled,E=su(c.buffer,b-m,b);ti(i,E,0,E.byteLength)}c.bytesFilled-=m,Rn(i._controlledReadableByteStream,c),cu(i)}l(Ff,"ReadableByteStreamControllerRespondInReadableState");function hu(i,u){let c=i._pendingPullIntos.peek();An(i),i._controlledReadableByteStream._state==="closed"?Sf(i):Ff(i,u,c),tr(i)}l(hu,"ReadableByteStreamControllerRespondInternal");function ri(i){return i._pendingPullIntos.shift()}l(ri,"ReadableByteStreamControllerShiftPendingPullInto");function vf(i){let u=i._controlledReadableByteStream;return u._state!=="readable"||i._closeRequested||!i._started?!1:!!(Ja(u)&&Zs(u)>0||Bn(u)&&Du(u)>0||fu(i)>0)}l(vf,"ReadableByteStreamControllerShouldCallPull");function si(i){i._pullAlgorithm=void 0,i._cancelAlgorithm=void 0}l(si,"ReadableByteStreamControllerClearAlgorithms");function ss(i){let u=i._controlledReadableByteStream;if(!(i._closeRequested||u._state!=="readable")){if(i._queueTotalSize>0){i._closeRequested=!0;return}if(i._pendingPullIntos.length>0&&i._pendingPullIntos.peek().bytesFilled>0){let c=new TypeError("Insufficient bytes to fill elements in the given buffer");throw je(i,c),c}si(i),hs(u)}}l(ss,"ReadableByteStreamControllerClose");function ii(i,u){let c=i._controlledReadableByteStream;if(i._closeRequested||c._state!=="readable")return;let m=u.buffer,b=u.byteOffset,E=u.byteLength,w=m;if(i._pendingPullIntos.length>0){let T=i._pendingPullIntos.peek();Js(T.buffer),T.buffer=T.buffer}if(An(i),Ja(c))if(Zs(c)===0)ti(i,w,b,E);else{i._pendingPullIntos.length>0&&ri(i);let T=new Uint8Array(w,b,E);wn(c,T,!1)}else Bn(c)?(ti(i,w,b,E),cu(i)):ti(i,w,b,E);tr(i)}l(ii,"ReadableByteStreamControllerEnqueue");function je(i,u){let c=i._controlledReadableByteStream;c._state==="readable"&&(nu(i),Rt(i),si(i),Mu(c,u))}l(je,"ReadableByteStreamControllerError");function Tn(i){if(i._byobRequest===null&&i._pendingPullIntos.length>0){let u=i._pendingPullIntos.peek(),c=new Uint8Array(u.buffer,u.byteOffset+u.bytesFilled,u.byteLength-u.bytesFilled),m=Object.create(ei.prototype);Af(m,i,c),i._byobRequest=m}return i._byobRequest}l(Tn,"ReadableByteStreamControllerGetBYOBRequest");function fu(i){let u=i._controlledReadableByteStream._state;return u==="errored"?null:u==="closed"?0:i._strategyHWM-i._queueTotalSize}l(fu,"ReadableByteStreamControllerGetDesiredSize");function ni(i,u){let c=i._pendingPullIntos.peek();if(i._controlledReadableByteStream._state==="closed"){if(u!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(u===0)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(c.bytesFilled+u>c.byteLength)throw new RangeError("bytesWritten out of range")}c.buffer=c.buffer,hu(i,u)}l(ni,"ReadableByteStreamControllerRespond");function oi(i,u){let c=i._pendingPullIntos.peek();if(i._controlledReadableByteStream._state==="closed"){if(u.byteLength!==0)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(u.byteLength===0)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(c.byteOffset+c.bytesFilled!==u.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(c.bufferByteLength!==u.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(c.bytesFilled+u.byteLength>c.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");let m=u.byteLength;c.buffer=u.buffer,hu(i,m)}l(oi,"ReadableByteStreamControllerRespondWithNewView");function du(i,u,c,m,b,E,w){u._controlledReadableByteStream=i,u._pullAgain=!1,u._pulling=!1,u._byobRequest=null,u._queue=u._queueTotalSize=void 0,Rt(u),u._closeRequested=!1,u._started=!1,u._strategyHWM=E,u._pullAlgorithm=m,u._cancelAlgorithm=b,u._autoAllocateChunkSize=w,u._pendingPullIntos=new Je,i._readableStreamController=u;let T=c();F(g(T),()=>{u._started=!0,tr(u)},x=>{je(u,x)})}l(du,"SetUpReadableByteStreamController");function Rf(i,u,c){let m=Object.create(rs.prototype),b=l(()=>{},"startAlgorithm"),E=l(()=>g(void 0),"pullAlgorithm"),w=l(()=>g(void 0),"cancelAlgorithm");u.start!==void 0&&(b=l(()=>u.start(m),"startAlgorithm")),u.pull!==void 0&&(E=l(()=>u.pull(m),"pullAlgorithm")),u.cancel!==void 0&&(w=l(x=>u.cancel(x),"cancelAlgorithm"));let T=u.autoAllocateChunkSize;if(T===0)throw new TypeError("autoAllocateChunkSize must be greater than 0");du(i,m,b,E,w,c,T)}l(Rf,"SetUpReadableByteStreamControllerFromUnderlyingSource");function Af(i,u,c){i._associatedReadableByteStreamController=u,i._view=c}l(Af,"SetUpReadableStreamBYOBRequest");function On(i){return new TypeError(`ReadableStreamBYOBRequest.prototype.${i} can only be used on a ReadableStreamBYOBRequest`)}l(On,"byobRequestBrandCheckException");function is(i){return new TypeError(`ReadableByteStreamController.prototype.${i} can only be used on a ReadableByteStreamController`)}l(is,"byteStreamControllerBrandCheckException");function mu(i){return new ai(i)}l(mu,"AcquireReadableStreamBYOBReader");function pu(i,u){i._reader._readIntoRequests.push(u)}l(pu,"ReadableStreamAddReadIntoRequest");function Tf(i,u,c){let m=i._reader._readIntoRequests.shift();c?m._closeSteps(u):m._chunkSteps(u)}l(Tf,"ReadableStreamFulfillReadIntoRequest");function Du(i){return i._reader._readIntoRequests.length}l(Du,"ReadableStreamGetNumReadIntoRequests");function Bn(i){let u=i._reader;return!(u===void 0||!rr(u))}l(Bn,"ReadableStreamHasBYOBReader");let Of=class{constructor(u){if(dt(u,1,"ReadableStreamBYOBReader"),Cn(u,"First parameter"),Ot(u))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!er(u._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");Ua(this,u),this._readIntoRequests=new Je}get closed(){return rr(this)?this._closedPromise:_(ui("closed"))}cancel(u=void 0){return rr(this)?this._ownerReadableStream===void 0?_(Tr("cancel")):gn(this,u):_(ui("cancel"))}read(u){if(!rr(this))return _(ui("read"));if(!ArrayBuffer.isView(u))return _(new TypeError("view must be an array buffer view"));if(u.byteLength===0)return _(new TypeError("view must have non-zero byteLength"));if(u.buffer.byteLength===0)return _(new TypeError("view's buffer must have non-zero byteLength"));if(Js(u.buffer),this._ownerReadableStream===void 0)return _(Tr("read from"));let c,m,b=C((E,w)=>{c=E,m=w});return gu(this,u,{_chunkSteps:E=>c({value:E,done:!1}),_closeSteps:E=>c({value:E,done:!0}),_errorSteps:E=>m(E)}),b}releaseLock(){if(!rr(this))throw ui("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");ht(this)}}};l(Of,"ReadableStreamBYOBReader");let ai=Of;Object.defineProperties(ai.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof s.toStringTag=="symbol"&&Object.defineProperty(ai.prototype,s.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});function rr(i){return!h(i)||!Object.prototype.hasOwnProperty.call(i,"_readIntoRequests")?!1:i instanceof ai}l(rr,"IsReadableStreamBYOBReader");function gu(i,u,c){let m=i._ownerReadableStream;m._disturbed=!0,m._state==="errored"?c._errorSteps(m._storedError):wf(m._readableStreamController,u,c)}l(gu,"ReadableStreamBYOBReaderRead");function ui(i){return new TypeError(`ReadableStreamBYOBReader.prototype.${i} can only be used on a ReadableStreamBYOBReader`)}l(ui,"byobReaderBrandCheckException");function ns(i,u){let{highWaterMark:c}=i;if(c===void 0)return u;if(bf(c)||c<0)throw new RangeError("Invalid highWaterMark");return c}l(ns,"ExtractHighWaterMark");function li(i){let{size:u}=i;return u||(()=>1)}l(li,"ExtractSizeAlgorithm");function ci(i,u){ft(i,u);let c=i?.highWaterMark,m=i?.size;return{highWaterMark:c===void 0?void 0:_n(c),size:m===void 0?void 0:Bf(m,`${u} has member 'size' that`)}}l(ci,"convertQueuingStrategy");function Bf(i,u){return ze(i,u),c=>_n(i(c))}l(Bf,"convertQueuingStrategySize");function xf(i,u){ft(i,u);let c=i?.abort,m=i?.close,b=i?.start,E=i?.type,w=i?.write;return{abort:c===void 0?void 0:Pf(c,i,`${u} has member 'abort' that`),close:m===void 0?void 0:$f(m,i,`${u} has member 'close' that`),start:b===void 0?void 0:Lf(b,i,`${u} has member 'start' that`),write:w===void 0?void 0:If(w,i,`${u} has member 'write' that`),type:E}}l(xf,"convertUnderlyingSink");function Pf(i,u,c){return ze(i,c),m=>$e(i,u,[m])}l(Pf,"convertUnderlyingSinkAbortCallback");function $f(i,u,c){return ze(i,c),()=>$e(i,u,[])}l($f,"convertUnderlyingSinkCloseCallback");function Lf(i,u,c){return ze(i,c),m=>ae(i,u,[m])}l(Lf,"convertUnderlyingSinkStartCallback");function If(i,u,c){return ze(i,c),(m,b)=>$e(i,u,[m,b])}l(If,"convertUnderlyingSinkWriteCallback");function bu(i,u){if(!Br(i))throw new TypeError(`${u} is not a WritableStream.`)}l(bu,"assertWritableStream");function Nf(i){if(typeof i!="object"||i===null)return!1;try{return typeof i.aborted=="boolean"}catch{return!1}}l(Nf,"isAbortSignal");let Wy=typeof AbortController=="function";function Mf(){if(Wy)return new AbortController}l(Mf,"createAbortController");let kf=class{constructor(u={},c={}){u===void 0?u=null:Ka(u,"First parameter");let m=ci(c,"Second parameter"),b=xf(u,"First parameter");if(Eu(this),b.type!==void 0)throw new RangeError("Invalid type is specified");let E=li(m),w=ns(m,1);rd(this,b,w,E)}get locked(){if(!Br(this))throw gi("locked");return xr(this)}abort(u=void 0){return Br(this)?xr(this)?_(new TypeError("Cannot abort a stream that already has a writer")):fi(this,u):_(gi("abort"))}close(){return Br(this)?xr(this)?_(new TypeError("Cannot close a stream that already has a writer")):et(this)?_(new TypeError("Cannot close an already-closing stream")):_u(this):_(gi("close"))}getWriter(){if(!Br(this))throw gi("getWriter");return yu(this)}};l(kf,"WritableStream");let hi=kf;Object.defineProperties(hi.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),typeof s.toStringTag=="symbol"&&Object.defineProperty(hi.prototype,s.toStringTag,{value:"WritableStream",configurable:!0});function yu(i){return new mi(i)}l(yu,"AcquireWritableStreamDefaultWriter");function qf(i,u,c,m,b=1,E=()=>1){let w=Object.create(hi.prototype);Eu(w);let T=Object.create(os.prototype);return vu(w,T,i,u,c,m,b,E),w}l(qf,"CreateWritableStream");function Eu(i){i._state="writable",i._storedError=void 0,i._writer=void 0,i._writableStreamController=void 0,i._writeRequests=new Je,i._inFlightWriteRequest=void 0,i._closeRequest=void 0,i._inFlightCloseRequest=void 0,i._pendingAbortRequest=void 0,i._backpressure=!1}l(Eu,"InitializeWritableStream");function Br(i){return!h(i)||!Object.prototype.hasOwnProperty.call(i,"_writableStreamController")?!1:i instanceof hi}l(Br,"IsWritableStream");function xr(i){return i._writer!==void 0}l(xr,"IsWritableStreamLocked");function fi(i,u){var c;if(i._state==="closed"||i._state==="errored")return g(void 0);i._writableStreamController._abortReason=u,(c=i._writableStreamController._abortController)===null||c===void 0||c.abort();let m=i._state;if(m==="closed"||m==="errored")return g(void 0);if(i._pendingAbortRequest!==void 0)return i._pendingAbortRequest._promise;let b=!1;m==="erroring"&&(b=!0,u=void 0);let E=C((w,T)=>{i._pendingAbortRequest={_promise:void 0,_resolve:w,_reject:T,_reason:u,_wasAlreadyErroring:b}});return i._pendingAbortRequest._promise=E,b||Pn(i,u),E}l(fi,"WritableStreamAbort");function _u(i){let u=i._state;if(u==="closed"||u==="errored")return _(new TypeError(`The stream (in ${u} state) is not in the writable state and cannot be closed`));let c=C((b,E)=>{let w={_resolve:b,_reject:E};i._closeRequest=w}),m=i._writer;return m!==void 0&&i._backpressure&&u==="writable"&&zn(m),sd(i._writableStreamController),c}l(_u,"WritableStreamClose");function Wf(i){return C((u,c)=>{let m={_resolve:u,_reject:c};i._writeRequests.push(m)})}l(Wf,"WritableStreamAddWriteRequest");function xn(i,u){if(i._state==="writable"){Pn(i,u);return}$n(i)}l(xn,"WritableStreamDealWithRejection");function Pn(i,u){let c=i._writableStreamController;i._state="erroring",i._storedError=u;let m=i._writer;m!==void 0&&wu(m,u),!Vf(i)&&c._started&&$n(i)}l(Pn,"WritableStreamStartErroring");function $n(i){i._state="errored",i._writableStreamController[af]();let u=i._storedError;if(i._writeRequests.forEach(b=>{b._reject(u)}),i._writeRequests=new Je,i._pendingAbortRequest===void 0){di(i);return}let c=i._pendingAbortRequest;if(i._pendingAbortRequest=void 0,c._wasAlreadyErroring){c._reject(u),di(i);return}let m=i._writableStreamController[of](c._reason);F(m,()=>{c._resolve(),di(i)},b=>{c._reject(b),di(i)})}l($n,"WritableStreamFinishErroring");function zf(i){i._inFlightWriteRequest._resolve(void 0),i._inFlightWriteRequest=void 0}l(zf,"WritableStreamFinishInFlightWrite");function jf(i,u){i._inFlightWriteRequest._reject(u),i._inFlightWriteRequest=void 0,xn(i,u)}l(jf,"WritableStreamFinishInFlightWriteWithError");function Uf(i){i._inFlightCloseRequest._resolve(void 0),i._inFlightCloseRequest=void 0,i._state==="erroring"&&(i._storedError=void 0,i._pendingAbortRequest!==void 0&&(i._pendingAbortRequest._resolve(),i._pendingAbortRequest=void 0)),i._state="closed";let u=i._writer;u!==void 0&&Ou(u)}l(Uf,"WritableStreamFinishInFlightClose");function Hf(i,u){i._inFlightCloseRequest._reject(u),i._inFlightCloseRequest=void 0,i._pendingAbortRequest!==void 0&&(i._pendingAbortRequest._reject(u),i._pendingAbortRequest=void 0),xn(i,u)}l(Hf,"WritableStreamFinishInFlightCloseWithError");function et(i){return!(i._closeRequest===void 0&&i._inFlightCloseRequest===void 0)}l(et,"WritableStreamCloseQueuedOrInFlight");function Vf(i){return!(i._inFlightWriteRequest===void 0&&i._inFlightCloseRequest===void 0)}l(Vf,"WritableStreamHasOperationMarkedInFlight");function Gf(i){i._inFlightCloseRequest=i._closeRequest,i._closeRequest=void 0}l(Gf,"WritableStreamMarkCloseRequestInFlight");function Yf(i){i._inFlightWriteRequest=i._writeRequests.shift()}l(Yf,"WritableStreamMarkFirstWriteRequestInFlight");function di(i){i._closeRequest!==void 0&&(i._closeRequest._reject(i._storedError),i._closeRequest=void 0);let u=i._writer;u!==void 0&&qn(u,i._storedError)}l(di,"WritableStreamRejectCloseAndClosedPromiseIfNeeded");function Ln(i,u){let c=i._writer;c!==void 0&&u!==i._backpressure&&(u?cd(c):zn(c)),i._backpressure=u}l(Ln,"WritableStreamUpdateBackpressure");let Kf=class{constructor(u){if(dt(u,1,"WritableStreamDefaultWriter"),bu(u,"First parameter"),xr(u))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=u,u._writer=this;let c=u._state;if(c==="writable")!et(u)&&u._backpressure?yi(this):Bu(this),bi(this);else if(c==="erroring")Wn(this,u._storedError),bi(this);else if(c==="closed")Bu(this),ud(this);else{let m=u._storedError;Wn(this,m),Tu(this,m)}}get closed(){return sr(this)?this._closedPromise:_(ir("closed"))}get desiredSize(){if(!sr(this))throw ir("desiredSize");if(this._ownerWritableStream===void 0)throw as("desiredSize");return Jf(this)}get ready(){return sr(this)?this._readyPromise:_(ir("ready"))}abort(u=void 0){return sr(this)?this._ownerWritableStream===void 0?_(as("abort")):Zf(this,u):_(ir("abort"))}close(){if(!sr(this))return _(ir("close"));let u=this._ownerWritableStream;return u===void 0?_(as("close")):et(u)?_(new TypeError("Cannot close an already-closing stream")):Cu(this)}releaseLock(){if(!sr(this))throw ir("releaseLock");this._ownerWritableStream!==void 0&&Su(this)}write(u=void 0){return sr(this)?this._ownerWritableStream===void 0?_(as("write to")):Fu(this,u):_(ir("write"))}};l(Kf,"WritableStreamDefaultWriter");let mi=Kf;Object.defineProperties(mi.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),typeof s.toStringTag=="symbol"&&Object.defineProperty(mi.prototype,s.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});function sr(i){return!h(i)||!Object.prototype.hasOwnProperty.call(i,"_ownerWritableStream")?!1:i instanceof mi}l(sr,"IsWritableStreamDefaultWriter");function Zf(i,u){let c=i._ownerWritableStream;return fi(c,u)}l(Zf,"WritableStreamDefaultWriterAbort");function Cu(i){let u=i._ownerWritableStream;return _u(u)}l(Cu,"WritableStreamDefaultWriterClose");function Qf(i){let u=i._ownerWritableStream,c=u._state;return et(u)||c==="closed"?g(void 0):c==="errored"?_(u._storedError):Cu(i)}l(Qf,"WritableStreamDefaultWriterCloseWithErrorPropagation");function Xf(i,u){i._closedPromiseState==="pending"?qn(i,u):ld(i,u)}l(Xf,"WritableStreamDefaultWriterEnsureClosedPromiseRejected");function wu(i,u){i._readyPromiseState==="pending"?xu(i,u):hd(i,u)}l(wu,"WritableStreamDefaultWriterEnsureReadyPromiseRejected");function Jf(i){let u=i._ownerWritableStream,c=u._state;return c==="errored"||c==="erroring"?null:c==="closed"?0:Ru(u._writableStreamController)}l(Jf,"WritableStreamDefaultWriterGetDesiredSize");function Su(i){let u=i._ownerWritableStream,c=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");wu(i,c),Xf(i,c),u._writer=void 0,i._ownerWritableStream=void 0}l(Su,"WritableStreamDefaultWriterRelease");function Fu(i,u){let c=i._ownerWritableStream,m=c._writableStreamController,b=id(m,u);if(c!==i._ownerWritableStream)return _(as("write to"));let E=c._state;if(E==="errored")return _(c._storedError);if(et(c)||E==="closed")return _(new TypeError("The stream is closing or closed and cannot be written to"));if(E==="erroring")return _(c._storedError);let w=Wf(c);return nd(m,u,b),w}l(Fu,"WritableStreamDefaultWriterWrite");let ed={},td=class{constructor(){throw new TypeError("Illegal constructor")}get abortReason(){if(!In(this))throw kn("abortReason");return this._abortReason}get signal(){if(!In(this))throw kn("signal");if(this._abortController===void 0)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal}error(u=void 0){if(!In(this))throw kn("error");this._controlledWritableStream._state==="writable"&&Au(this,u)}[of](u){let c=this._abortAlgorithm(u);return pi(this),c}[af](){Rt(this)}};l(td,"WritableStreamDefaultController");let os=td;Object.defineProperties(os.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),typeof s.toStringTag=="symbol"&&Object.defineProperty(os.prototype,s.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});function In(i){return!h(i)||!Object.prototype.hasOwnProperty.call(i,"_controlledWritableStream")?!1:i instanceof os}l(In,"IsWritableStreamDefaultController");function vu(i,u,c,m,b,E,w,T){u._controlledWritableStream=i,i._writableStreamController=u,u._queue=void 0,u._queueTotalSize=void 0,Rt(u),u._abortReason=void 0,u._abortController=Mf(),u._started=!1,u._strategySizeAlgorithm=T,u._strategyHWM=w,u._writeAlgorithm=m,u._closeAlgorithm=b,u._abortAlgorithm=E;let x=Mn(u);Ln(i,x);let P=c(),N=g(P);F(N,()=>{u._started=!0,Di(u)},M=>{u._started=!0,xn(i,M)})}l(vu,"SetUpWritableStreamDefaultController");function rd(i,u,c,m){let b=Object.create(os.prototype),E=l(()=>{},"startAlgorithm"),w=l(()=>g(void 0),"writeAlgorithm"),T=l(()=>g(void 0),"closeAlgorithm"),x=l(()=>g(void 0),"abortAlgorithm");u.start!==void 0&&(E=l(()=>u.start(b),"startAlgorithm")),u.write!==void 0&&(w=l(P=>u.write(P,b),"writeAlgorithm")),u.close!==void 0&&(T=l(()=>u.close(),"closeAlgorithm")),u.abort!==void 0&&(x=l(P=>u.abort(P),"abortAlgorithm")),vu(i,b,E,w,T,x,c,m)}l(rd,"SetUpWritableStreamDefaultControllerFromUnderlyingSink");function pi(i){i._writeAlgorithm=void 0,i._closeAlgorithm=void 0,i._abortAlgorithm=void 0,i._strategySizeAlgorithm=void 0}l(pi,"WritableStreamDefaultControllerClearAlgorithms");function sd(i){Fn(i,ed,0),Di(i)}l(sd,"WritableStreamDefaultControllerClose");function id(i,u){try{return i._strategySizeAlgorithm(u)}catch(c){return Nn(i,c),1}}l(id,"WritableStreamDefaultControllerGetChunkSize");function Ru(i){return i._strategyHWM-i._queueTotalSize}l(Ru,"WritableStreamDefaultControllerGetDesiredSize");function nd(i,u,c){try{Fn(i,u,c)}catch(b){Nn(i,b);return}let m=i._controlledWritableStream;if(!et(m)&&m._state==="writable"){let b=Mn(i);Ln(m,b)}Di(i)}l(nd,"WritableStreamDefaultControllerWrite");function Di(i){let u=i._controlledWritableStream;if(!i._started||u._inFlightWriteRequest!==void 0)return;if(u._state==="erroring"){$n(u);return}if(i._queue.length===0)return;let c=Ef(i);c===ed?od(i):ad(i,c)}l(Di,"WritableStreamDefaultControllerAdvanceQueueIfNeeded");function Nn(i,u){i._controlledWritableStream._state==="writable"&&Au(i,u)}l(Nn,"WritableStreamDefaultControllerErrorIfNeeded");function od(i){let u=i._controlledWritableStream;Gf(u),Sn(i);let c=i._closeAlgorithm();pi(i),F(c,()=>{Uf(u)},m=>{Hf(u,m)})}l(od,"WritableStreamDefaultControllerProcessClose");function ad(i,u){let c=i._controlledWritableStream;Yf(c);let m=i._writeAlgorithm(u);F(m,()=>{zf(c);let b=c._state;if(Sn(i),!et(c)&&b==="writable"){let E=Mn(i);Ln(c,E)}Di(i)},b=>{c._state==="writable"&&pi(i),jf(c,b)})}l(ad,"WritableStreamDefaultControllerProcessWrite");function Mn(i){return Ru(i)<=0}l(Mn,"WritableStreamDefaultControllerGetBackpressure");function Au(i,u){let c=i._controlledWritableStream;pi(i),Pn(c,u)}l(Au,"WritableStreamDefaultControllerError");function gi(i){return new TypeError(`WritableStream.prototype.${i} can only be used on a WritableStream`)}l(gi,"streamBrandCheckException$2");function kn(i){return new TypeError(`WritableStreamDefaultController.prototype.${i} can only be used on a WritableStreamDefaultController`)}l(kn,"defaultControllerBrandCheckException$2");function ir(i){return new TypeError(`WritableStreamDefaultWriter.prototype.${i} can only be used on a WritableStreamDefaultWriter`)}l(ir,"defaultWriterBrandCheckException");function as(i){return new TypeError("Cannot "+i+" a stream using a released writer")}l(as,"defaultWriterLockException");function bi(i){i._closedPromise=C((u,c)=>{i._closedPromise_resolve=u,i._closedPromise_reject=c,i._closedPromiseState="pending"})}l(bi,"defaultWriterClosedPromiseInitialize");function Tu(i,u){bi(i),qn(i,u)}l(Tu,"defaultWriterClosedPromiseInitializeAsRejected");function ud(i){bi(i),Ou(i)}l(ud,"defaultWriterClosedPromiseInitializeAsResolved");function qn(i,u){i._closedPromise_reject!==void 0&&(W(i._closedPromise),i._closedPromise_reject(u),i._closedPromise_resolve=void 0,i._closedPromise_reject=void 0,i._closedPromiseState="rejected")}l(qn,"defaultWriterClosedPromiseReject");function ld(i,u){Tu(i,u)}l(ld,"defaultWriterClosedPromiseResetToRejected");function Ou(i){i._closedPromise_resolve!==void 0&&(i._closedPromise_resolve(void 0),i._closedPromise_resolve=void 0,i._closedPromise_reject=void 0,i._closedPromiseState="resolved")}l(Ou,"defaultWriterClosedPromiseResolve");function yi(i){i._readyPromise=C((u,c)=>{i._readyPromise_resolve=u,i._readyPromise_reject=c}),i._readyPromiseState="pending"}l(yi,"defaultWriterReadyPromiseInitialize");function Wn(i,u){yi(i),xu(i,u)}l(Wn,"defaultWriterReadyPromiseInitializeAsRejected");function Bu(i){yi(i),zn(i)}l(Bu,"defaultWriterReadyPromiseInitializeAsResolved");function xu(i,u){i._readyPromise_reject!==void 0&&(W(i._readyPromise),i._readyPromise_reject(u),i._readyPromise_resolve=void 0,i._readyPromise_reject=void 0,i._readyPromiseState="rejected")}l(xu,"defaultWriterReadyPromiseReject");function cd(i){yi(i)}l(cd,"defaultWriterReadyPromiseReset");function hd(i,u){Wn(i,u)}l(hd,"defaultWriterReadyPromiseResetToRejected");function zn(i){i._readyPromise_resolve!==void 0&&(i._readyPromise_resolve(void 0),i._readyPromise_resolve=void 0,i._readyPromise_reject=void 0,i._readyPromiseState="fulfilled")}l(zn,"defaultWriterReadyPromiseResolve");let fd=typeof DOMException<"u"?DOMException:void 0;function dd(i){if(!(typeof i=="function"||typeof i=="object"))return!1;try{return new i,!0}catch{return!1}}l(dd,"isDOMExceptionConstructor");function md(){let i=l(function(u,c){this.message=u||"",this.name=c||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)},"DOMException");return i.prototype=Object.create(Error.prototype),Object.defineProperty(i.prototype,"constructor",{value:i,writable:!0,configurable:!0}),i}l(md,"createDOMExceptionPolyfill");let zy=dd(fd)?fd:md();function Pu(i,u,c,m,b,E){let w=Or(i),T=yu(u);i._disturbed=!0;let x=!1,P=g(void 0);return C((N,M)=>{let ie;if(E!==void 0){if(ie=l(()=>{let O=new zy("Aborted","AbortError"),I=[];m||I.push(()=>u._state==="writable"?fi(u,O):g(void 0)),b||I.push(()=>i._state==="readable"?Ue(i,O):g(void 0)),Ce(()=>Promise.all(I.map(z=>z())),!0,O)},"abortAlgorithm"),E.aborted){ie();return}E.addEventListener("abort",ie)}function ve(){return C((O,I)=>{function z(we){we?O():S(Bt(),z,I)}l(z,"next"),z(!1)})}l(ve,"pipeLoop");function Bt(){return x?g(!0):S(T._readyPromise,()=>C((O,I)=>{es(w,{_chunkSteps:z=>{P=S(Fu(T,z),void 0,n),O(!1)},_closeSteps:()=>O(!0),_errorSteps:I})}))}if(l(Bt,"pipeStep"),He(i,w._closedPromise,O=>{m?Re(!0,O):Ce(()=>fi(u,O),!0,O)}),He(u,T._closedPromise,O=>{b?Re(!0,O):Ce(()=>Ue(i,O),!0,O)}),ne(i,w._closedPromise,()=>{c?Re():Ce(()=>Qf(T))}),et(u)||u._state==="closed"){let O=new TypeError("the destination writable stream closed before all data could be piped to it");b?Re(!0,O):Ce(()=>Ue(i,O),!0,O)}W(ve());function tt(){let O=P;return S(P,()=>O!==P?tt():void 0)}l(tt,"waitForWritesToFinish");function He(O,I,z){O._state==="errored"?z(O._storedError):Y(I,z)}l(He,"isOrBecomesErrored");function ne(O,I,z){O._state==="closed"?z():$(I,z)}l(ne,"isOrBecomesClosed");function Ce(O,I,z){if(x)return;x=!0,u._state==="writable"&&!et(u)?$(tt(),we):we();function we(){F(O(),()=>xt(I,z),ar=>xt(!0,ar))}l(we,"doTheRest")}l(Ce,"shutdownWithAction");function Re(O,I){x||(x=!0,u._state==="writable"&&!et(u)?$(tt(),()=>xt(O,I)):xt(O,I))}l(Re,"shutdown");function xt(O,I){Su(T),ht(w),E!==void 0&&E.removeEventListener("abort",ie),O?M(I):N(void 0)}l(xt,"finalize")})}l(Pu,"ReadableStreamPipeTo");let pd=class{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!Ei(this))throw wi("desiredSize");return jn(this)}close(){if(!Ei(this))throw wi("close");if(!Pr(this))throw new TypeError("The stream is not in a state that permits close");cs(this)}enqueue(u=void 0){if(!Ei(this))throw wi("enqueue");if(!Pr(this))throw new TypeError("The stream is not in a state that permits enqueue");return Ci(this,u)}error(u=void 0){if(!Ei(this))throw wi("error");At(this,u)}[Ga](u){Rt(this);let c=this._cancelAlgorithm(u);return _i(this),c}[Ya](u){let c=this._controlledReadableStream;if(this._queue.length>0){let m=Sn(this);this._closeRequested&&this._queue.length===0?(_i(this),hs(c)):ls(this),u._chunkSteps(m)}else Xa(c,u),ls(this)}};l(pd,"ReadableStreamDefaultController");let us=pd;Object.defineProperties(us.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof s.toStringTag=="symbol"&&Object.defineProperty(us.prototype,s.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});function Ei(i){return!h(i)||!Object.prototype.hasOwnProperty.call(i,"_controlledReadableStream")?!1:i instanceof us}l(Ei,"IsReadableStreamDefaultController");function ls(i){if(!$u(i))return;if(i._pulling){i._pullAgain=!0;return}i._pulling=!0;let u=i._pullAlgorithm();F(u,()=>{i._pulling=!1,i._pullAgain&&(i._pullAgain=!1,ls(i))},c=>{At(i,c)})}l(ls,"ReadableStreamDefaultControllerCallPullIfNeeded");function $u(i){let u=i._controlledReadableStream;return!Pr(i)||!i._started?!1:!!(Ot(u)&&Zs(u)>0||jn(i)>0)}l($u,"ReadableStreamDefaultControllerShouldCallPull");function _i(i){i._pullAlgorithm=void 0,i._cancelAlgorithm=void 0,i._strategySizeAlgorithm=void 0}l(_i,"ReadableStreamDefaultControllerClearAlgorithms");function cs(i){if(!Pr(i))return;let u=i._controlledReadableStream;i._closeRequested=!0,i._queue.length===0&&(_i(i),hs(u))}l(cs,"ReadableStreamDefaultControllerClose");function Ci(i,u){if(!Pr(i))return;let c=i._controlledReadableStream;if(Ot(c)&&Zs(c)>0)wn(c,u,!1);else{let m;try{m=i._strategySizeAlgorithm(u)}catch(b){throw At(i,b),b}try{Fn(i,u,m)}catch(b){throw At(i,b),b}}ls(i)}l(Ci,"ReadableStreamDefaultControllerEnqueue");function At(i,u){let c=i._controlledReadableStream;c._state==="readable"&&(Rt(i),_i(i),Mu(c,u))}l(At,"ReadableStreamDefaultControllerError");function jn(i){let u=i._controlledReadableStream._state;return u==="errored"?null:u==="closed"?0:i._strategyHWM-i._queueTotalSize}l(jn,"ReadableStreamDefaultControllerGetDesiredSize");function Dd(i){return!$u(i)}l(Dd,"ReadableStreamDefaultControllerHasBackpressure");function Pr(i){let u=i._controlledReadableStream._state;return!i._closeRequested&&u==="readable"}l(Pr,"ReadableStreamDefaultControllerCanCloseOrEnqueue");function Lu(i,u,c,m,b,E,w){u._controlledReadableStream=i,u._queue=void 0,u._queueTotalSize=void 0,Rt(u),u._started=!1,u._closeRequested=!1,u._pullAgain=!1,u._pulling=!1,u._strategySizeAlgorithm=w,u._strategyHWM=E,u._pullAlgorithm=m,u._cancelAlgorithm=b,i._readableStreamController=u;let T=c();F(g(T),()=>{u._started=!0,ls(u)},x=>{At(u,x)})}l(Lu,"SetUpReadableStreamDefaultController");function gd(i,u,c,m){let b=Object.create(us.prototype),E=l(()=>{},"startAlgorithm"),w=l(()=>g(void 0),"pullAlgorithm"),T=l(()=>g(void 0),"cancelAlgorithm");u.start!==void 0&&(E=l(()=>u.start(b),"startAlgorithm")),u.pull!==void 0&&(w=l(()=>u.pull(b),"pullAlgorithm")),u.cancel!==void 0&&(T=l(x=>u.cancel(x),"cancelAlgorithm")),Lu(i,b,E,w,T,c,m)}l(gd,"SetUpReadableStreamDefaultControllerFromUnderlyingSource");function wi(i){return new TypeError(`ReadableStreamDefaultController.prototype.${i} can only be used on a ReadableStreamDefaultController`)}l(wi,"defaultControllerBrandCheckException$1");function bd(i,u){return er(i._readableStreamController)?Ed(i):yd(i)}l(bd,"ReadableStreamTee");function yd(i,u){let c=Or(i),m=!1,b=!1,E=!1,w=!1,T,x,P,N,M,ie=C(ne=>{M=ne});function ve(){return m?(b=!0,g(void 0)):(m=!0,es(c,{_chunkSteps:ne=>{L(()=>{b=!1;let Ce=ne,Re=ne;E||Ci(P._readableStreamController,Ce),w||Ci(N._readableStreamController,Re),m=!1,b&&ve()})},_closeSteps:()=>{m=!1,E||cs(P._readableStreamController),w||cs(N._readableStreamController),(!E||!w)&&M(void 0)},_errorSteps:()=>{m=!1}}),g(void 0))}l(ve,"pullAlgorithm");function Bt(ne){if(E=!0,T=ne,w){let Ce=ts([T,x]),Re=Ue(i,Ce);M(Re)}return ie}l(Bt,"cancel1Algorithm");function tt(ne){if(w=!0,x=ne,E){let Ce=ts([T,x]),Re=Ue(i,Ce);M(Re)}return ie}l(tt,"cancel2Algorithm");function He(){}return l(He,"startAlgorithm"),P=Un(He,ve,Bt),N=Un(He,ve,tt),Y(c._closedPromise,ne=>{At(P._readableStreamController,ne),At(N._readableStreamController,ne),(!E||!w)&&M(void 0)}),[P,N]}l(yd,"ReadableStreamDefaultTee");function Ed(i){let u=Or(i),c=!1,m=!1,b=!1,E=!1,w=!1,T,x,P,N,M,ie=C(O=>{M=O});function ve(O){Y(O._closedPromise,I=>{O===u&&(je(P._readableStreamController,I),je(N._readableStreamController,I),(!E||!w)&&M(void 0))})}l(ve,"forwardReaderError");function Bt(){rr(u)&&(ht(u),u=Or(i),ve(u)),es(u,{_chunkSteps:O=>{L(()=>{m=!1,b=!1;let I=O,z=O;if(!E&&!w)try{z=iu(O)}catch(we){je(P._readableStreamController,we),je(N._readableStreamController,we),M(Ue(i,we));return}E||ii(P._readableStreamController,I),w||ii(N._readableStreamController,z),c=!1,m?He():b&&ne()})},_closeSteps:()=>{c=!1,E||ss(P._readableStreamController),w||ss(N._readableStreamController),P._readableStreamController._pendingPullIntos.length>0&&ni(P._readableStreamController,0),N._readableStreamController._pendingPullIntos.length>0&&ni(N._readableStreamController,0),(!E||!w)&&M(void 0)},_errorSteps:()=>{c=!1}})}l(Bt,"pullWithDefaultReader");function tt(O,I){vt(u)&&(ht(u),u=mu(i),ve(u));let z=I?N:P,we=I?P:N;gu(u,O,{_chunkSteps:ar=>{L(()=>{m=!1,b=!1;let fs=I?w:E;if(I?E:w)fs||oi(z._readableStreamController,ar);else{let ds;try{ds=iu(ar)}catch(Ku){je(z._readableStreamController,Ku),je(we._readableStreamController,Ku),M(Ue(i,Ku));return}fs||oi(z._readableStreamController,ar),ii(we._readableStreamController,ds)}c=!1,m?He():b&&ne()})},_closeSteps:ar=>{c=!1;let fs=I?w:E,ds=I?E:w;fs||ss(z._readableStreamController),ds||ss(we._readableStreamController),ar!==void 0&&(fs||oi(z._readableStreamController,ar),!ds&&we._readableStreamController._pendingPullIntos.length>0&&ni(we._readableStreamController,0)),(!fs||!ds)&&M(void 0)},_errorSteps:()=>{c=!1}})}l(tt,"pullWithBYOBReader");function He(){if(c)return m=!0,g(void 0);c=!0;let O=Tn(P._readableStreamController);return O===null?Bt():tt(O._view,!1),g(void 0)}l(He,"pull1Algorithm");function ne(){if(c)return b=!0,g(void 0);c=!0;let O=Tn(N._readableStreamController);return O===null?Bt():tt(O._view,!0),g(void 0)}l(ne,"pull2Algorithm");function Ce(O){if(E=!0,T=O,w){let I=ts([T,x]),z=Ue(i,I);M(z)}return ie}l(Ce,"cancel1Algorithm");function Re(O){if(w=!0,x=O,E){let I=ts([T,x]),z=Ue(i,I);M(z)}return ie}l(Re,"cancel2Algorithm");function xt(){}return l(xt,"startAlgorithm"),P=Nu(xt,He,Ce),N=Nu(xt,ne,Re),ve(u),[P,N]}l(Ed,"ReadableByteStreamTee");function _d(i,u){ft(i,u);let c=i,m=c?.autoAllocateChunkSize,b=c?.cancel,E=c?.pull,w=c?.start,T=c?.type;return{autoAllocateChunkSize:m===void 0?void 0:Qa(m,`${u} has member 'autoAllocateChunkSize' that`),cancel:b===void 0?void 0:Cd(b,c,`${u} has member 'cancel' that`),pull:E===void 0?void 0:wd(E,c,`${u} has member 'pull' that`),start:w===void 0?void 0:Sd(w,c,`${u} has member 'start' that`),type:T===void 0?void 0:Fd(T,`${u} has member 'type' that`)}}l(_d,"convertUnderlyingDefaultOrByteSource");function Cd(i,u,c){return ze(i,c),m=>$e(i,u,[m])}l(Cd,"convertUnderlyingSourceCancelCallback");function wd(i,u,c){return ze(i,c),m=>$e(i,u,[m])}l(wd,"convertUnderlyingSourcePullCallback");function Sd(i,u,c){return ze(i,c),m=>ae(i,u,[m])}l(Sd,"convertUnderlyingSourceStartCallback");function Fd(i,u){if(i=`${i}`,i!=="bytes")throw new TypeError(`${u} '${i}' is not a valid enumeration value for ReadableStreamType`);return i}l(Fd,"convertReadableStreamType");function vd(i,u){ft(i,u);let c=i?.mode;return{mode:c===void 0?void 0:Rd(c,`${u} has member 'mode' that`)}}l(vd,"convertReaderOptions");function Rd(i,u){if(i=`${i}`,i!=="byob")throw new TypeError(`${u} '${i}' is not a valid enumeration value for ReadableStreamReaderMode`);return i}l(Rd,"convertReadableStreamReaderMode");function Ad(i,u){return ft(i,u),{preventCancel:!!i?.preventCancel}}l(Ad,"convertIteratorOptions");function Iu(i,u){ft(i,u);let c=i?.preventAbort,m=i?.preventCancel,b=i?.preventClose,E=i?.signal;return E!==void 0&&Td(E,`${u} has member 'signal' that`),{preventAbort:!!c,preventCancel:!!m,preventClose:!!b,signal:E}}l(Iu,"convertPipeOptions");function Td(i,u){if(!Nf(i))throw new TypeError(`${u} is not an AbortSignal.`)}l(Td,"assertAbortSignal");function Od(i,u){ft(i,u);let c=i?.readable;En(c,"readable","ReadableWritablePair"),Cn(c,`${u} has member 'readable' that`);let m=i?.writable;return En(m,"writable","ReadableWritablePair"),bu(m,`${u} has member 'writable' that`),{readable:c,writable:m}}l(Od,"convertReadableWritablePair");let Bd=class{constructor(u={},c={}){u===void 0?u=null:Ka(u,"First parameter");let m=ci(c,"Second parameter"),b=_d(u,"First parameter");if(Hn(this),b.type==="bytes"){if(m.size!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");let E=ns(m,0);Rf(this,b,E)}else{let E=li(m),w=ns(m,1);gd(this,b,w,E)}}get locked(){if(!Tt(this))throw or("locked");return Ot(this)}cancel(u=void 0){return Tt(this)?Ot(this)?_(new TypeError("Cannot cancel a stream that already has a reader")):Ue(this,u):_(or("cancel"))}getReader(u=void 0){if(!Tt(this))throw or("getReader");return vd(u,"First parameter").mode===void 0?Or(this):mu(this)}pipeThrough(u,c={}){if(!Tt(this))throw or("pipeThrough");dt(u,1,"pipeThrough");let m=Od(u,"First parameter"),b=Iu(c,"Second parameter");if(Ot(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(xr(m.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");let E=Pu(this,m.writable,b.preventClose,b.preventAbort,b.preventCancel,b.signal);return W(E),m.readable}pipeTo(u,c={}){if(!Tt(this))return _(or("pipeTo"));if(u===void 0)return _("Parameter 1 is required in 'pipeTo'.");if(!Br(u))return _(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));let m;try{m=Iu(c,"Second parameter")}catch(b){return _(b)}return Ot(this)?_(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):xr(u)?_(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Pu(this,u,m.preventClose,m.preventAbort,m.preventCancel,m.signal)}tee(){if(!Tt(this))throw or("tee");let u=bd(this);return ts(u)}values(u=void 0){if(!Tt(this))throw or("values");let c=Ad(u,"First parameter");return gf(this,c.preventCancel)}};l(Bd,"ReadableStream");let nr=Bd;Object.defineProperties(nr.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),typeof s.toStringTag=="symbol"&&Object.defineProperty(nr.prototype,s.toStringTag,{value:"ReadableStream",configurable:!0}),typeof s.asyncIterator=="symbol"&&Object.defineProperty(nr.prototype,s.asyncIterator,{value:nr.prototype.values,writable:!0,configurable:!0});function Un(i,u,c,m=1,b=()=>1){let E=Object.create(nr.prototype);Hn(E);let w=Object.create(us.prototype);return Lu(E,w,i,u,c,m,b),E}l(Un,"CreateReadableStream");function Nu(i,u,c){let m=Object.create(nr.prototype);Hn(m);let b=Object.create(rs.prototype);return du(m,b,i,u,c,0,void 0),m}l(Nu,"CreateReadableByteStream");function Hn(i){i._state="readable",i._reader=void 0,i._storedError=void 0,i._disturbed=!1}l(Hn,"InitializeReadableStream");function Tt(i){return!h(i)||!Object.prototype.hasOwnProperty.call(i,"_readableStreamController")?!1:i instanceof nr}l(Tt,"IsReadableStream");function Ot(i){return i._reader!==void 0}l(Ot,"IsReadableStreamLocked");function Ue(i,u){if(i._disturbed=!0,i._state==="closed")return g(void 0);if(i._state==="errored")return _(i._storedError);hs(i);let c=i._reader;c!==void 0&&rr(c)&&(c._readIntoRequests.forEach(b=>{b._closeSteps(void 0)}),c._readIntoRequests=new Je);let m=i._readableStreamController[Ga](u);return B(m,n)}l(Ue,"ReadableStreamCancel");function hs(i){i._state="closed";let u=i._reader;u!==void 0&&(Va(u),vt(u)&&(u._readRequests.forEach(c=>{c._closeSteps()}),u._readRequests=new Je))}l(hs,"ReadableStreamClose");function Mu(i,u){i._state="errored",i._storedError=u;let c=i._reader;c!==void 0&&(yn(c,u),vt(c)?(c._readRequests.forEach(m=>{m._errorSteps(u)}),c._readRequests=new Je):(c._readIntoRequests.forEach(m=>{m._errorSteps(u)}),c._readIntoRequests=new Je))}l(Mu,"ReadableStreamError");function or(i){return new TypeError(`ReadableStream.prototype.${i} can only be used on a ReadableStream`)}l(or,"streamBrandCheckException$1");function ku(i,u){ft(i,u);let c=i?.highWaterMark;return En(c,"highWaterMark","QueuingStrategyInit"),{highWaterMark:_n(c)}}l(ku,"convertQueuingStrategyInit");let xd=l(i=>i.byteLength,"byteLengthSizeFunction");try{Object.defineProperty(xd,"name",{value:"size",configurable:!0})}catch{}let Pd=class{constructor(u){dt(u,1,"ByteLengthQueuingStrategy"),u=ku(u,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=u.highWaterMark}get highWaterMark(){if(!Wu(this))throw qu("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!Wu(this))throw qu("size");return xd}};l(Pd,"ByteLengthQueuingStrategy");let Vn=Pd;Object.defineProperties(Vn.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof s.toStringTag=="symbol"&&Object.defineProperty(Vn.prototype,s.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});function qu(i){return new TypeError(`ByteLengthQueuingStrategy.prototype.${i} can only be used on a ByteLengthQueuingStrategy`)}l(qu,"byteLengthBrandCheckException");function Wu(i){return!h(i)||!Object.prototype.hasOwnProperty.call(i,"_byteLengthQueuingStrategyHighWaterMark")?!1:i instanceof Vn}l(Wu,"IsByteLengthQueuingStrategy");let $d=l(()=>1,"countSizeFunction");try{Object.defineProperty($d,"name",{value:"size",configurable:!0})}catch{}let Ld=class{constructor(u){dt(u,1,"CountQueuingStrategy"),u=ku(u,"First parameter"),this._countQueuingStrategyHighWaterMark=u.highWaterMark}get highWaterMark(){if(!ju(this))throw zu("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!ju(this))throw zu("size");return $d}};l(Ld,"CountQueuingStrategy");let Gn=Ld;Object.defineProperties(Gn.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof s.toStringTag=="symbol"&&Object.defineProperty(Gn.prototype,s.toStringTag,{value:"CountQueuingStrategy",configurable:!0});function zu(i){return new TypeError(`CountQueuingStrategy.prototype.${i} can only be used on a CountQueuingStrategy`)}l(zu,"countBrandCheckException");function ju(i){return!h(i)||!Object.prototype.hasOwnProperty.call(i,"_countQueuingStrategyHighWaterMark")?!1:i instanceof Gn}l(ju,"IsCountQueuingStrategy");function Id(i,u){ft(i,u);let c=i?.flush,m=i?.readableType,b=i?.start,E=i?.transform,w=i?.writableType;return{flush:c===void 0?void 0:Nd(c,i,`${u} has member 'flush' that`),readableType:m,start:b===void 0?void 0:Md(b,i,`${u} has member 'start' that`),transform:E===void 0?void 0:kd(E,i,`${u} has member 'transform' that`),writableType:w}}l(Id,"convertTransformer");function Nd(i,u,c){return ze(i,c),m=>$e(i,u,[m])}l(Nd,"convertTransformerFlushCallback");function Md(i,u,c){return ze(i,c),m=>ae(i,u,[m])}l(Md,"convertTransformerStartCallback");function kd(i,u,c){return ze(i,c),(m,b)=>$e(i,u,[m,b])}l(kd,"convertTransformerTransformCallback");let qd=class{constructor(u={},c={},m={}){u===void 0&&(u=null);let b=ci(c,"Second parameter"),E=ci(m,"Third parameter"),w=Id(u,"First parameter");if(w.readableType!==void 0)throw new RangeError("Invalid readableType specified");if(w.writableType!==void 0)throw new RangeError("Invalid writableType specified");let T=ns(E,0),x=li(E),P=ns(b,1),N=li(b),M,ie=C(ve=>{M=ve});Wd(this,ie,P,N,T,x),Ud(this,w),w.start!==void 0?M(w.start(this._transformStreamController)):M(void 0)}get readable(){if(!Uu(this))throw Yu("readable");return this._readable}get writable(){if(!Uu(this))throw Yu("writable");return this._writable}};l(qd,"TransformStream");let Yn=qd;Object.defineProperties(Yn.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),typeof s.toStringTag=="symbol"&&Object.defineProperty(Yn.prototype,s.toStringTag,{value:"TransformStream",configurable:!0});function Wd(i,u,c,m,b,E){function w(){return u}l(w,"startAlgorithm");function T(ie){return Gd(i,ie)}l(T,"writeAlgorithm");function x(ie){return Yd(i,ie)}l(x,"abortAlgorithm");function P(){return Kd(i)}l(P,"closeAlgorithm"),i._writable=qf(w,T,P,x,c,m);function N(){return Zd(i)}l(N,"pullAlgorithm");function M(ie){return Fi(i,ie),g(void 0)}l(M,"cancelAlgorithm"),i._readable=Un(w,N,M,b,E),i._backpressure=void 0,i._backpressureChangePromise=void 0,i._backpressureChangePromise_resolve=void 0,vi(i,!0),i._transformStreamController=void 0}l(Wd,"InitializeTransformStream");function Uu(i){return!h(i)||!Object.prototype.hasOwnProperty.call(i,"_transformStreamController")?!1:i instanceof Yn}l(Uu,"IsTransformStream");function Si(i,u){At(i._readable._readableStreamController,u),Fi(i,u)}l(Si,"TransformStreamError");function Fi(i,u){Hu(i._transformStreamController),Nn(i._writable._writableStreamController,u),i._backpressure&&vi(i,!1)}l(Fi,"TransformStreamErrorWritableAndUnblockWrite");function vi(i,u){i._backpressureChangePromise!==void 0&&i._backpressureChangePromise_resolve(),i._backpressureChangePromise=C(c=>{i._backpressureChangePromise_resolve=c}),i._backpressure=u}l(vi,"TransformStreamSetBackpressure");let zd=class{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!Ai(this))throw Ti("desiredSize");let u=this._controlledTransformStream._readable._readableStreamController;return jn(u)}enqueue(u=void 0){if(!Ai(this))throw Ti("enqueue");Vu(this,u)}error(u=void 0){if(!Ai(this))throw Ti("error");Hd(this,u)}terminate(){if(!Ai(this))throw Ti("terminate");Vd(this)}};l(zd,"TransformStreamDefaultController");let Ri=zd;Object.defineProperties(Ri.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof s.toStringTag=="symbol"&&Object.defineProperty(Ri.prototype,s.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});function Ai(i){return!h(i)||!Object.prototype.hasOwnProperty.call(i,"_controlledTransformStream")?!1:i instanceof Ri}l(Ai,"IsTransformStreamDefaultController");function jd(i,u,c,m){u._controlledTransformStream=i,i._transformStreamController=u,u._transformAlgorithm=c,u._flushAlgorithm=m}l(jd,"SetUpTransformStreamDefaultController");function Ud(i,u){let c=Object.create(Ri.prototype),m=l(E=>{try{return Vu(c,E),g(void 0)}catch(w){return _(w)}},"transformAlgorithm"),b=l(()=>g(void 0),"flushAlgorithm");u.transform!==void 0&&(m=l(E=>u.transform(E,c),"transformAlgorithm")),u.flush!==void 0&&(b=l(()=>u.flush(c),"flushAlgorithm")),jd(i,c,m,b)}l(Ud,"SetUpTransformStreamDefaultControllerFromTransformer");function Hu(i){i._transformAlgorithm=void 0,i._flushAlgorithm=void 0}l(Hu,"TransformStreamDefaultControllerClearAlgorithms");function Vu(i,u){let c=i._controlledTransformStream,m=c._readable._readableStreamController;if(!Pr(m))throw new TypeError("Readable side is not in a state that permits enqueue");try{Ci(m,u)}catch(b){throw Fi(c,b),c._readable._storedError}Dd(m)!==c._backpressure&&vi(c,!0)}l(Vu,"TransformStreamDefaultControllerEnqueue");function Hd(i,u){Si(i._controlledTransformStream,u)}l(Hd,"TransformStreamDefaultControllerError");function Gu(i,u){let c=i._transformAlgorithm(u);return B(c,void 0,m=>{throw Si(i._controlledTransformStream,m),m})}l(Gu,"TransformStreamDefaultControllerPerformTransform");function Vd(i){let u=i._controlledTransformStream,c=u._readable._readableStreamController;cs(c);let m=new TypeError("TransformStream terminated");Fi(u,m)}l(Vd,"TransformStreamDefaultControllerTerminate");function Gd(i,u){let c=i._transformStreamController;if(i._backpressure){let m=i._backpressureChangePromise;return B(m,()=>{let b=i._writable;if(b._state==="erroring")throw b._storedError;return Gu(c,u)})}return Gu(c,u)}l(Gd,"TransformStreamDefaultSinkWriteAlgorithm");function Yd(i,u){return Si(i,u),g(void 0)}l(Yd,"TransformStreamDefaultSinkAbortAlgorithm");function Kd(i){let u=i._readable,c=i._transformStreamController,m=c._flushAlgorithm();return Hu(c),B(m,()=>{if(u._state==="errored")throw u._storedError;cs(u._readableStreamController)},b=>{throw Si(i,b),u._storedError})}l(Kd,"TransformStreamDefaultSinkCloseAlgorithm");function Zd(i){return vi(i,!1),i._backpressureChangePromise}l(Zd,"TransformStreamDefaultSourcePullAlgorithm");function Ti(i){return new TypeError(`TransformStreamDefaultController.prototype.${i} can only be used on a TransformStreamDefaultController`)}l(Ti,"defaultControllerBrandCheckException");function Yu(i){return new TypeError(`TransformStream.prototype.${i} can only be used on a TransformStream`)}l(Yu,"streamBrandCheckException"),t.ByteLengthQueuingStrategy=Vn,t.CountQueuingStrategy=Gn,t.ReadableByteStreamController=rs,t.ReadableStream=nr,t.ReadableStreamBYOBReader=ai,t.ReadableStreamBYOBRequest=ei,t.ReadableStreamDefaultController=us,t.ReadableStreamDefaultReader=Qs,t.TransformStream=Yn,t.TransformStreamDefaultController=Ri,t.WritableStream=hi,t.WritableStreamDefaultController=os,t.WritableStreamDefaultWriter=mi,Object.defineProperty(t,"__esModule",{value:!0})})}(dh,dh.exports)),dh.exports}async function*ga(r,e=!0){for(let t of r)if("stream"in t)yield*t.stream();else if(ArrayBuffer.isView(t))if(e){let s=t.byteOffset,n=t.byteOffset+t.byteLength;for(;s!==n;){let a=Math.min(n-s,Ng),o=t.buffer.slice(s,s+a);s+=o.byteLength,yield new Uint8Array(o)}}else yield t;else{let s=0,n=t;for(;s!==n.size;){let a=await n.slice(s,Math.min(n.size,s+Ng)).arrayBuffer();s+=a.byteLength,yield new Uint8Array(a)}}}function Yg(r,e=Xr){var t=`${Mg()}${Mg()}`.replace(/\./g,"").slice(-28).padStart(32,"-"),s=[],n=`--${t}\r
Content-Disposition: form-data; name="`;return r.forEach((a,o)=>typeof a=="string"?s.push(n+mh(o)+`"\r
\r
${a.replace(/\r(?!\n)|(?<!\r)\n/g,`\r
`)}\r
`):s.push(n+mh(o)+`"; filename="${mh(a.name,1)}"\r
Content-Type: ${a.type||"application/octet-stream"}\r
\r
`,a,`\r
`)),s.push(`--${t}--`),new e(s,{type:"multipart/form-data; boundary="+t})}async function ba(r){if(r[xe].disturbed)throw new TypeError(`body used already for: ${r.url}`);if(r[xe].disturbed=!0,r[xe].error)throw r[xe].error;let{body:e}=r;if(e===null)return _e.alloc(0);if(!(e instanceof St))return _e.alloc(0);let t=[],s=0;try{for await(let n of e){if(r.size>0&&s+n.length>r.size){let a=new ut(`content size at ${r.url} over limit: ${r.size}`,"max-size");throw e.destroy(a),a}s+=n.length,t.push(n)}}catch(n){throw n instanceof Ta?n:new ut(`Invalid response body while trying to fetch ${r.url}: ${n.message}`,"system",n)}if(e.readableEnded===!0||e._readableState.ended===!0)try{return t.every(n=>typeof n=="string")?_e.from(t.join("")):_e.concat(t,s)}catch(n){throw new ut(`Could not create Buffer from response body for ${r.url}: ${n.message}`,"system",n)}else throw new ut(`Premature close of server response while trying to fetch ${r.url}`)}function rb(r=[]){return new Xt(r.reduce((e,t,s,n)=>(s%2===0&&e.push(n.slice(s,s+2)),e),[]).filter(([e,t])=>{try{return ya(e),ph(e,String(t)),!0}catch{return!1}}))}function Dh(r,e=!1){return r==null||(r=new URL(r),/^(about|blob|data):$/.test(r.protocol))?"no-referrer":(r.username="",r.password="",r.hash="",e&&(r.pathname="",r.search=""),r)}function nb(r){if(!ib.has(r))throw new TypeError(`Invalid referrerPolicy: ${r}`);return r}function ob(r){if(/^(http|ws)s:$/.test(r.protocol))return!0;let e=r.host.replace(/(^\[)|(]$)/g,""),t=hC(e);return t===4&&/^127\./.test(e)||t===6&&/^(((0+:){7})|(::(0+:){0,6}))0*1$/.test(e)?!0:r.host==="localhost"||r.host.endsWith(".localhost")?!1:r.protocol==="file:"}function Zr(r){return/^about:(blank|srcdoc)$/.test(r)||r.protocol==="data:"||/^(blob|filesystem):$/.test(r.protocol)?!0:ob(r)}function ab(r,{referrerURLCallback:e,referrerOriginCallback:t}={}){if(r.referrer==="no-referrer"||r.referrerPolicy==="")return null;let s=r.referrerPolicy;if(r.referrer==="about:client")return"no-referrer";let n=r.referrer,a=Dh(n),o=Dh(n,!0);a.toString().length>4096&&(a=o),e&&(a=e(a)),t&&(o=t(o));let h=new URL(r.url);switch(s){case"no-referrer":return"no-referrer";case"origin":return o;case"unsafe-url":return a;case"strict-origin":return Zr(a)&&!Zr(h)?"no-referrer":o.toString();case"strict-origin-when-cross-origin":return a.origin===h.origin?a:Zr(a)&&!Zr(h)?"no-referrer":o;case"same-origin":return a.origin===h.origin?a:"no-referrer";case"origin-when-cross-origin":return a.origin===h.origin?a:o;case"no-referrer-when-downgrade":return Zr(a)&&!Zr(h)?"no-referrer":a;default:throw new TypeError(`Invalid referrerPolicy: ${s}`)}}function ub(r){let e=(r.get("referrer-policy")||"").split(/[,\s]+/),t="";for(let s of e)s&&ib.has(s)&&(t=s);return t}async function vh(r,e){return new Promise((t,s)=>{let n=new ln(r,e),{parsedURL:a,options:o}=PC(n);if(!qC.has(a.protocol))throw new TypeError(`node-fetch cannot load ${r}. URL scheme "${a.protocol.replace(/:$/,"")}" is not supported.`);if(a.protocol==="data:"){let g=Ug(n.url),_=new Ct(g,{headers:{"Content-Type":g.typeFull}});t(_);return}let h=(a.protocol==="https:"?uC:un).request,{signal:d}=n,f=null,p=l(()=>{let g=new fb("The operation was aborted.");s(g),n.body&&n.body instanceof St.Readable&&n.body.destroy(g),!(!f||!f.body)&&f.body.emit("error",g)},"abort");if(d&&d.aborted){p();return}let D=l(()=>{p(),C()},"abortAndFinalize"),y=h(a.toString(),o);d&&d.addEventListener("abort",D);let C=l(()=>{y.abort(),d&&d.removeEventListener("abort",D)},"finalize");y.on("error",g=>{s(new ut(`request to ${n.url} failed, reason: ${g.message}`,"system",g)),C()}),bb(y,g=>{f&&f.body&&f.body.destroy(g)}),process.version<"v14"&&y.on("socket",g=>{let _;g.prependListener("end",()=>{_=g._eventsCount}),g.prependListener("close",S=>{if(f&&_<g._eventsCount&&!S){let F=new Error("Premature close");F.code="ERR_STREAM_PREMATURE_CLOSE",f.body.emit("error",F)}})}),y.on("response",g=>{y.setTimeout(0);let _=rb(g.rawHeaders);if(Sh(g.statusCode)){let B=_.get("Location"),W=null;try{W=B===null?null:new URL(B,n.url)}catch{if(n.redirect!=="manual"){s(new ut(`uri requested responds with an invalid redirect URL: ${B}`,"invalid-redirect")),C();return}}switch(n.redirect){case"error":s(new ut(`uri requested responds with a redirect, redirect mode is set to error: ${n.url}`,"no-redirect")),C();return;case"manual":break;case"follow":{if(W===null)break;if(n.counter>=n.follow){s(new ut(`maximum redirect reached at: ${n.url}`,"max-redirect")),C();return}let L={headers:new Xt(n.headers),follow:n.follow,counter:n.counter+1,agent:n.agent,compress:n.compress,method:n.method,body:wh(n),signal:n.signal,size:n.size,referrer:n.referrer,referrerPolicy:n.referrerPolicy};if(!wC(n.url,W)||!SC(n.url,W))for(let $e of["authorization","www-authenticate","cookie","cookie2"])L.headers.delete($e);if(g.statusCode!==303&&n.body&&e.body instanceof St.Readable){s(new ut("Cannot follow redirect with body being a readable stream","unsupported-redirect")),C();return}(g.statusCode===303||(g.statusCode===301||g.statusCode===302)&&n.method==="POST")&&(L.method="GET",L.body=void 0,L.headers.delete("content-length"));let ae=ub(_);ae&&(L.referrerPolicy=ae),t(vh(new ln(W,L))),C();return}default:return s(new TypeError(`Redirect option '${n.redirect}' is not a valid value of RequestRedirect`))}}d&&g.once("end",()=>{d.removeEventListener("abort",D)});let S=Ws(g,new _a,B=>{B&&s(B)});process.version<"v12.10"&&g.on("aborted",D);let F={url:n.url,status:g.statusCode,statusText:g.statusMessage,headers:_,size:n.size,counter:n.counter,highWaterMark:n.highWaterMark},$=_.get("Content-Encoding");if(!n.compress||n.method==="HEAD"||$===null||g.statusCode===204||g.statusCode===304){f=new Ct(S,F),t(f);return}let Y={flush:qs.Z_SYNC_FLUSH,finishFlush:qs.Z_SYNC_FLUSH};if($==="gzip"||$==="x-gzip"){S=Ws(S,qs.createGunzip(Y),B=>{B&&s(B)}),f=new Ct(S,F),t(f);return}if($==="deflate"||$==="x-deflate"){let B=Ws(g,new _a,W=>{W&&s(W)});B.once("data",W=>{(W[0]&15)===8?S=Ws(S,qs.createInflate(),L=>{L&&s(L)}):S=Ws(S,qs.createInflateRaw(),L=>{L&&s(L)}),f=new Ct(S,F),t(f)}),B.once("end",()=>{f||(f=new Ct(S,F),t(f))});return}if($==="br"){S=Ws(S,qs.createBrotliDecompress(),B=>{B&&s(B)}),f=new Ct(S,F),t(f);return}f=new Ct(S,F),t(f)}),AC(y,n).catch(s)})}function bb(r,e){let t=_e.from(`0\r
\r
`),s=!1,n=!1,a;r.on("response",o=>{let{headers:h}=o;s=h["transfer-encoding"]==="chunked"&&!h["content-length"]}),r.on("socket",o=>{let h=l(()=>{if(s&&!n){let f=new Error("Premature close");f.code="ERR_STREAM_PREMATURE_CLOSE",e(f)}},"onSocketClose"),d=l(f=>{n=_e.compare(f.slice(-5),t)===0,!n&&a&&(n=_e.compare(a.slice(-3),t.slice(0,3))===0&&_e.compare(f.slice(-2),t.slice(3))===0),a=f},"onData");o.prependListener("close",h),o.on("data",d),r.on("close",()=>{o.removeListener("close",h),o.removeListener("data",d)})})}function G(r){let e=yb.get(r);return console.assert(e!=null,"'this' is expected an Event object, but got",r),e}function bh(r){if(r.passiveListener!=null){typeof console<"u"&&typeof console.error=="function"&&console.error("Unable to preventDefault inside passive event listener invocation.",r.passiveListener);return}r.event.cancelable&&(r.canceled=!0,typeof r.event.preventDefault=="function"&&r.event.preventDefault())}function Qr(r,e){yb.set(this,{eventTarget:r,event:e,eventPhase:2,currentTarget:r,canceled:!1,stopped:!1,immediateStopped:!1,passiveListener:null,timeStamp:e.timeStamp||Date.now()}),Object.defineProperty(this,"isTrusted",{value:!1,enumerable:!0});let t=Object.keys(e);for(let s=0;s<t.length;++s){let n=t[s];n in this||Object.defineProperty(this,n,Rh(n))}}function Rh(r){return{get(){return G(this).event[r]},set(e){G(this).event[r]=e},configurable:!0,enumerable:!0}}function Eb(r){return{value(){let e=G(this).event;return e[r].apply(e,arguments)},configurable:!0,enumerable:!0}}function _b(r,e){let t=Object.keys(e);if(t.length===0)return r;function s(n,a){r.call(this,n,a)}l(s,"CustomEvent"),s.prototype=Object.create(r.prototype,{constructor:{value:s,configurable:!0,writable:!0}});for(let n=0;n<t.length;++n){let a=t[n];if(!(a in r.prototype)){let o=typeof Object.getOwnPropertyDescriptor(e,a).value=="function";Object.defineProperty(s.prototype,a,o?Eb(a):Rh(a))}}return s}function Ah(r){if(r==null||r===Object.prototype)return Qr;let e=gh.get(r);return e==null&&(e=_b(Ah(Object.getPrototypeOf(r)),r),gh.set(r,e)),e}function Cb(r,e){let t=Ah(Object.getPrototypeOf(e));return new t(r,e)}function wb(r){return G(r).immediateStopped}function Sb(r,e){G(r).eventPhase=e}function Fb(r,e){G(r).currentTarget=e}function yh(r,e){G(r).passiveListener=e}function an(r){return r!==null&&typeof r=="object"}function Us(r){let e=vb.get(r);if(e==null)throw new TypeError("'this' is expected an EventTarget object, but got another value.");return e}function Rb(r){return{get(){let e=Us(this).get(r);for(;e!=null;){if(e.listenerType===Ea)return e.listener;e=e.next}return null},set(e){typeof e!="function"&&!an(e)&&(e=null);let t=Us(this),s=null,n=t.get(r);for(;n!=null;)n.listenerType===Ea?s!==null?s.next=n.next:n.next!==null?t.set(r,n.next):t.delete(r):s=n,n=n.next;if(e!==null){let a={listener:e,listenerType:Ea,passive:!1,once:!1,next:null};s===null?t.set(r,a):s.next=a}},configurable:!0,enumerable:!0}}function Th(r,e){Object.defineProperty(r,`on${e}`,Rb(e))}function Eh(r){function e(){wt.call(this)}l(e,"CustomEventTarget"),e.prototype=Object.create(wt.prototype,{constructor:{value:e,configurable:!0,writable:!0}});for(let t=0;t<r.length;++t)Th(e.prototype,r[t]);return e}function wt(){if(this instanceof wt){vb.set(this,new Map);return}if(arguments.length===1&&Array.isArray(arguments[0]))return Eh(arguments[0]);if(arguments.length>0){let r=new Array(arguments.length);for(let e=0;e<arguments.length;++e)r[e]=arguments[e];return Eh(r)}throw new TypeError("Cannot call a class as a function")}function Tb(){let r=Object.create(va.prototype);return wt.call(r),Ra.set(r,!1),r}function Ob(r){Ra.get(r)===!1&&(Ra.set(r,!0),r.dispatchEvent({type:"abort"}))}function _h(r){let e=Bb.get(r);if(e==null)throw new TypeError(`Expected 'this' to be an 'AbortController' object, but got ${r===null?"null":typeof r}`);return e}function Ch(){!globalThis.process?.versions?.node&&!globalThis.process?.env.DISABLE_NODE_FETCH_NATIVE_WARN&&console.warn("[node-fetch-native] Node.js compatible build of `node-fetch-native` is being used in a non-Node.js environment. Please make sure you are using proper export conditions or report this issue to https://github.com/unjs/node-fetch-native. You can set `process.env.DISABLE_NODE_FETCH_NATIVE_WARN` to disable this warning.")}var aC,l,zg,X,Qt,at,Fr,ma,ks,uh,tn,pa,Da,lh,nt,ch,zs,js,hh,fh,dh,Ig,pC,Ng,Gg,DC,Xr,gC,bC,Ms,nn,yC,EC,Mg,_C,kg,mh,Kr,Yr,Kg,Ta,Zg,ut,Sa,Qg,Fa,CC,wC,SC,FC,xe,Xg,on,wh,vC,Jg,RC,AC,ya,ph,eb,Xt,TC,Sh,ot,sb,Ct,OC,ib,BC,fe,rn,xC,lb,ln,PC,hb,fb,$C,LC,Fh,IC,NC,MC,kC,db,mb,pb,gb,qC,yb,gh,vb,qg,Wg,Ea,Ab,va,Ra,Aa,Bb,WC,zC,xb,da=Qd(()=>{aC=Object.defineProperty,l=(r,e)=>aC(r,"name",{value:e,configurable:!0}),zg=(r,e,t)=>{if(!e.has(r))throw TypeError("Cannot "+t)},X=(r,e,t)=>(zg(r,e,"read from private field"),t?t.call(r):e.get(r)),Qt=(r,e,t)=>{if(e.has(r))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(r):e.set(r,t)},at=(r,e,t,s)=>(zg(r,e,"write to private field"),s?s.call(r,t):e.set(r,t),t);l(Ug,"dataUriToBuffer");fh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};l(Hg,"getDefaultExportFromCjs");dh={exports:{}};l(Vg,"requirePonyfill_es2018");pC=65536;if(!globalThis.ReadableStream)try{let r=v("node:process"),{emitWarning:e}=r;try{r.emitWarning=()=>{},Object.assign(globalThis,v("node:stream/web")),r.emitWarning=e}catch(t){throw r.emitWarning=e,t}}catch{Object.assign(globalThis,Vg())}try{let{Blob:r}=v("buffer");r&&!r.prototype.stream&&(r.prototype.stream=l(function(e){let t=0,s=this;return new ReadableStream({type:"bytes",async pull(n){let a=await s.slice(t,Math.min(s.size,t+pC)).arrayBuffer();t+=a.byteLength,n.enqueue(new Uint8Array(a)),t===s.size&&n.close()}})},"name"))}catch{}Ng=65536;l(ga,"toIterator");Gg=(tn=class{constructor(r=[],e={}){if(Qt(this,Fr,[]),Qt(this,ma,""),Qt(this,ks,0),Qt(this,uh,"transparent"),typeof r!="object"||r===null)throw new TypeError("Failed to construct 'Blob': The provided value cannot be converted to a sequence.");if(typeof r[Symbol.iterator]!="function")throw new TypeError("Failed to construct 'Blob': The object must have a callable @@iterator property.");if(typeof e!="object"&&typeof e!="function")throw new TypeError("Failed to construct 'Blob': parameter 2 cannot convert to dictionary.");e===null&&(e={});let t=new TextEncoder;for(let n of r){let a;ArrayBuffer.isView(n)?a=new Uint8Array(n.buffer.slice(n.byteOffset,n.byteOffset+n.byteLength)):n instanceof ArrayBuffer?a=new Uint8Array(n.slice(0)):n instanceof tn?a=n:a=t.encode(`${n}`),at(this,ks,X(this,ks)+(ArrayBuffer.isView(a)?a.byteLength:a.size)),X(this,Fr).push(a)}at(this,uh,`${e.endings===void 0?"transparent":e.endings}`);let s=e.type===void 0?"":String(e.type);at(this,ma,/^[\x20-\x7E]*$/.test(s)?s:"")}get size(){return X(this,ks)}get type(){return X(this,ma)}async text(){let r=new TextDecoder,e="";for await(let t of ga(X(this,Fr),!1))e+=r.decode(t,{stream:!0});return e+=r.decode(),e}async arrayBuffer(){let r=new Uint8Array(this.size),e=0;for await(let t of ga(X(this,Fr),!1))r.set(t,e),e+=t.length;return r.buffer}stream(){let r=ga(X(this,Fr),!0);return new globalThis.ReadableStream({type:"bytes",async pull(e){let t=await r.next();t.done?e.close():e.enqueue(t.value)},async cancel(){await r.return()}})}slice(r=0,e=this.size,t=""){let{size:s}=this,n=r<0?Math.max(s+r,0):Math.min(r,s),a=e<0?Math.max(s+e,0):Math.min(e,s),o=Math.max(a-n,0),h=X(this,Fr),d=[],f=0;for(let D of h){if(f>=o)break;let y=ArrayBuffer.isView(D)?D.byteLength:D.size;if(n&&y<=n)n-=y,a-=y;else{let C;ArrayBuffer.isView(D)?(C=D.subarray(n,Math.min(y,a)),f+=C.byteLength):(C=D.slice(n,Math.min(y,a)),f+=C.size),a-=y,d.push(C),n=0}}let p=new tn([],{type:String(t).toLowerCase()});return at(p,ks,o),at(p,Fr,d),p}get[Symbol.toStringTag](){return"Blob"}static[Symbol.hasInstance](r){return r&&typeof r=="object"&&typeof r.constructor=="function"&&(typeof r.stream=="function"||typeof r.arrayBuffer=="function")&&/^(Blob|File)$/.test(r[Symbol.toStringTag])}},Fr=new WeakMap,ma=new WeakMap,ks=new WeakMap,uh=new WeakMap,l(tn,"Blob"),tn);Object.defineProperties(Gg.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}});DC=Gg,Xr=DC,gC=(lh=class extends Xr{constructor(r,e,t={}){if(arguments.length<2)throw new TypeError(`Failed to construct 'File': 2 arguments required, but only ${arguments.length} present.`);super(r,t),Qt(this,pa,0),Qt(this,Da,""),t===null&&(t={});let s=t.lastModified===void 0?Date.now():Number(t.lastModified);Number.isNaN(s)||at(this,pa,s),at(this,Da,String(e))}get name(){return X(this,Da)}get lastModified(){return X(this,pa)}get[Symbol.toStringTag](){return"File"}static[Symbol.hasInstance](r){return!!r&&r instanceof Xr&&/^(File)$/.test(r[Symbol.toStringTag])}},pa=new WeakMap,Da=new WeakMap,l(lh,"File"),lh),bC=gC,Ms=bC;({toStringTag:nn,iterator:yC,hasInstance:EC}=Symbol),Mg=Math.random,_C="append,set,get,getAll,delete,keys,values,entries,forEach,constructor".split(","),kg=l((r,e,t)=>(r+="",/^(Blob|File)$/.test(e&&e[nn])?[(t=t!==void 0?t+"":e[nn]=="File"?e.name:"blob",r),e.name!==t||e[nn]=="blob"?new Ms([e],t,e):e]:[r,e+""]),"f"),mh=l((r,e)=>(e?r:r.replace(/\r?\n|\r/g,`\r
`)).replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22"),"e$1"),Kr=l((r,e,t)=>{if(e.length<t)throw new TypeError(`Failed to execute '${r}' on 'FormData': ${t} arguments required, but only ${e.length} present.`)},"x"),Yr=(ch=class{constructor(...r){if(Qt(this,nt,[]),r.length)throw new TypeError("Failed to construct 'FormData': parameter 1 is not of type 'HTMLFormElement'.")}get[nn](){return"FormData"}[yC](){return this.entries()}static[EC](r){return r&&typeof r=="object"&&r[nn]==="FormData"&&!_C.some(e=>typeof r[e]!="function")}append(...r){Kr("append",arguments,2),X(this,nt).push(kg(...r))}delete(r){Kr("delete",arguments,1),r+="",at(this,nt,X(this,nt).filter(([e])=>e!==r))}get(r){Kr("get",arguments,1),r+="";for(var e=X(this,nt),t=e.length,s=0;s<t;s++)if(e[s][0]===r)return e[s][1];return null}getAll(r,e){return Kr("getAll",arguments,1),e=[],r+="",X(this,nt).forEach(t=>t[0]===r&&e.push(t[1])),e}has(r){return Kr("has",arguments,1),r+="",X(this,nt).some(e=>e[0]===r)}forEach(r,e){Kr("forEach",arguments,1);for(var[t,s]of this)r.call(e,s,t,this)}set(...r){Kr("set",arguments,2);var e=[],t=!0;r=kg(...r),X(this,nt).forEach(s=>{s[0]===r[0]?t&&(t=!e.push(r)):e.push(s)}),t&&e.push(r),at(this,nt,e)}*entries(){yield*X(this,nt)}*keys(){for(var[r]of this)yield r}*values(){for(var[,r]of this)yield r}},nt=new WeakMap,l(ch,"FormData"),ch);l(Yg,"formDataToBlob");Kg=class extends Error{constructor(e,t){super(e),Error.captureStackTrace(this,this.constructor),this.type=t}get name(){return this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}};l(Kg,"FetchBaseError");Ta=Kg,Zg=class extends Ta{constructor(e,t,s){super(e,t),s&&(this.code=this.errno=s.code,this.erroredSysCall=s.syscall)}};l(Zg,"FetchError");ut=Zg,Sa=Symbol.toStringTag,Qg=l(r=>typeof r=="object"&&typeof r.append=="function"&&typeof r.delete=="function"&&typeof r.get=="function"&&typeof r.getAll=="function"&&typeof r.has=="function"&&typeof r.set=="function"&&typeof r.sort=="function"&&r[Sa]==="URLSearchParams","isURLSearchParameters"),Fa=l(r=>r&&typeof r=="object"&&typeof r.arrayBuffer=="function"&&typeof r.type=="string"&&typeof r.stream=="function"&&typeof r.constructor=="function"&&/^(Blob|File)$/.test(r[Sa]),"isBlob"),CC=l(r=>typeof r=="object"&&(r[Sa]==="AbortSignal"||r[Sa]==="EventTarget"),"isAbortSignal"),wC=l((r,e)=>{let t=new URL(e).hostname,s=new URL(r).hostname;return t===s||t.endsWith(`.${s}`)},"isDomainOrSubdomain"),SC=l((r,e)=>{let t=new URL(e).protocol,s=new URL(r).protocol;return t===s},"isSameProtocol"),FC=lC(St.pipeline),xe=Symbol("Body internals"),Xg=class{constructor(e,{size:t=0}={}){let s=null;e===null?e=null:Qg(e)?e=_e.from(e.toString()):Fa(e)||_e.isBuffer(e)||(Ca.isAnyArrayBuffer(e)?e=_e.from(e):ArrayBuffer.isView(e)?e=_e.from(e.buffer,e.byteOffset,e.byteLength):e instanceof St||(e instanceof Yr?(e=Yg(e),s=e.type.split("=")[1]):e=_e.from(String(e))));let n=e;_e.isBuffer(e)?n=St.Readable.from(e):Fa(e)&&(n=St.Readable.from(e.stream())),this[xe]={body:e,stream:n,boundary:s,disturbed:!1,error:null},this.size=t,e instanceof St&&e.on("error",a=>{let o=a instanceof Ta?a:new ut(`Invalid response body while trying to fetch ${this.url}: ${a.message}`,"system",a);this[xe].error=o})}get body(){return this[xe].stream}get bodyUsed(){return this[xe].disturbed}async arrayBuffer(){let{buffer:e,byteOffset:t,byteLength:s}=await ba(this);return e.slice(t,t+s)}async formData(){let e=this.headers.get("content-type");if(e.startsWith("application/x-www-form-urlencoded")){let s=new Yr,n=new URLSearchParams(await this.text());for(let[a,o]of n)s.append(a,o);return s}let{toFormData:t}=await Promise.resolve().then(()=>(Lg(),$g));return t(this.body,e)}async blob(){let e=this.headers&&this.headers.get("content-type")||this[xe].body&&this[xe].body.type||"",t=await this.arrayBuffer();return new Xr([t],{type:e})}async json(){let e=await this.text();return JSON.parse(e)}async text(){let e=await ba(this);return new TextDecoder().decode(e)}buffer(){return ba(this)}};l(Xg,"Body");on=Xg;on.prototype.buffer=wa(on.prototype.buffer,"Please use 'response.arrayBuffer()' instead of 'response.buffer()'","node-fetch#buffer"),Object.defineProperties(on.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0},data:{get:wa(()=>{},"data doesn't exist, use json(), text(), arrayBuffer(), or body instead","https://github.com/node-fetch/node-fetch/issues/1000 (response)")}});l(ba,"consumeBody");wh=l((r,e)=>{let t,s,{body:n}=r[xe];if(r.bodyUsed)throw new Error("cannot clone body after it is used");return n instanceof St&&typeof n.getBoundary!="function"&&(t=new _a({highWaterMark:e}),s=new _a({highWaterMark:e}),n.pipe(t),n.pipe(s),r[xe].stream=t,n=s),n},"clone"),vC=wa(r=>r.getBoundary(),"form-data doesn't follow the spec and requires special treatment. Use alternative package","https://github.com/node-fetch/node-fetch/issues/1167"),Jg=l((r,e)=>r===null?null:typeof r=="string"?"text/plain;charset=UTF-8":Qg(r)?"application/x-www-form-urlencoded;charset=UTF-8":Fa(r)?r.type||null:_e.isBuffer(r)||Ca.isAnyArrayBuffer(r)||ArrayBuffer.isView(r)?null:r instanceof Yr?`multipart/form-data; boundary=${e[xe].boundary}`:r&&typeof r.getBoundary=="function"?`multipart/form-data;boundary=${vC(r)}`:r instanceof St?null:"text/plain;charset=UTF-8","extractContentType"),RC=l(r=>{let{body:e}=r[xe];return e===null?0:Fa(e)?e.size:_e.isBuffer(e)?e.length:e&&typeof e.getLengthSync=="function"&&e.hasKnownLength&&e.hasKnownLength()?e.getLengthSync():null},"getTotalBytes"),AC=l(async(r,{body:e})=>{e===null?r.end():await FC(e,r)},"writeToStream"),ya=typeof un.validateHeaderName=="function"?un.validateHeaderName:r=>{if(!/^[\^`\-\w!#$%&'*+.|~]+$/.test(r)){let e=new TypeError(`Header name must be a valid HTTP token [${r}]`);throw Object.defineProperty(e,"code",{value:"ERR_INVALID_HTTP_TOKEN"}),e}},ph=typeof un.validateHeaderValue=="function"?un.validateHeaderValue:(r,e)=>{if(/[^\t\u0020-\u007E\u0080-\u00FF]/.test(e)){let t=new TypeError(`Invalid character in header content ["${r}"]`);throw Object.defineProperty(t,"code",{value:"ERR_INVALID_CHAR"}),t}},eb=class tb extends URLSearchParams{constructor(e){let t=[];if(e instanceof tb){let s=e.raw();for(let[n,a]of Object.entries(s))t.push(...a.map(o=>[n,o]))}else if(e!=null)if(typeof e=="object"&&!Ca.isBoxedPrimitive(e)){let s=e[Symbol.iterator];if(s==null)t.push(...Object.entries(e));else{if(typeof s!="function")throw new TypeError("Header pairs must be iterable");t=[...e].map(n=>{if(typeof n!="object"||Ca.isBoxedPrimitive(n))throw new TypeError("Each header pair must be an iterable object");return[...n]}).map(n=>{if(n.length!==2)throw new TypeError("Each header pair must be a name/value tuple");return[...n]})}}else throw new TypeError("Failed to construct 'Headers': The provided value is not of type '(sequence<sequence<ByteString>> or record<ByteString, ByteString>)");return t=t.length>0?t.map(([s,n])=>(ya(s),ph(s,String(n)),[String(s).toLowerCase(),String(n)])):void 0,super(t),new Proxy(this,{get(s,n,a){switch(n){case"append":case"set":return(o,h)=>(ya(o),ph(o,String(h)),URLSearchParams.prototype[n].call(s,String(o).toLowerCase(),String(h)));case"delete":case"has":case"getAll":return o=>(ya(o),URLSearchParams.prototype[n].call(s,String(o).toLowerCase()));case"keys":return()=>(s.sort(),new Set(URLSearchParams.prototype.keys.call(s)).keys());default:return Reflect.get(s,n,a)}}})}get[Symbol.toStringTag](){return this.constructor.name}toString(){return Object.prototype.toString.call(this)}get(e){let t=this.getAll(e);if(t.length===0)return null;let s=t.join(", ");return/^content-encoding$/i.test(e)&&(s=s.toLowerCase()),s}forEach(e,t=void 0){for(let s of this.keys())Reflect.apply(e,t,[this.get(s),s,this])}*values(){for(let e of this.keys())yield this.get(e)}*entries(){for(let e of this.keys())yield[e,this.get(e)]}[Symbol.iterator](){return this.entries()}raw(){return[...this.keys()].reduce((e,t)=>(e[t]=this.getAll(t),e),{})}[Symbol.for("nodejs.util.inspect.custom")](){return[...this.keys()].reduce((e,t)=>{let s=this.getAll(t);return t==="host"?e[t]=s[0]:e[t]=s.length>1?s:s[0],e},{})}};l(eb,"Headers");Xt=eb;Object.defineProperties(Xt.prototype,["get","entries","forEach","values"].reduce((r,e)=>(r[e]={enumerable:!0},r),{}));l(rb,"fromRawHeaders");TC=new Set([301,302,303,307,308]),Sh=l(r=>TC.has(r),"isRedirect"),ot=Symbol("Response internals"),sb=class sn extends on{constructor(e=null,t={}){super(e,t);let s=t.status!=null?t.status:200,n=new Xt(t.headers);if(e!==null&&!n.has("Content-Type")){let a=Jg(e,this);a&&n.append("Content-Type",a)}this[ot]={type:"default",url:t.url,status:s,statusText:t.statusText||"",headers:n,counter:t.counter,highWaterMark:t.highWaterMark}}get type(){return this[ot].type}get url(){return this[ot].url||""}get status(){return this[ot].status}get ok(){return this[ot].status>=200&&this[ot].status<300}get redirected(){return this[ot].counter>0}get statusText(){return this[ot].statusText}get headers(){return this[ot].headers}get highWaterMark(){return this[ot].highWaterMark}clone(){return new sn(wh(this,this.highWaterMark),{type:this.type,url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected,size:this.size,highWaterMark:this.highWaterMark})}static redirect(e,t=302){if(!Sh(t))throw new RangeError('Failed to execute "redirect" on "response": Invalid status code');return new sn(null,{headers:{location:new URL(e).toString()},status:t})}static error(){let e=new sn(null,{status:0,statusText:""});return e[ot].type="error",e}static json(e=void 0,t={}){let s=JSON.stringify(e);if(s===void 0)throw new TypeError("data is not JSON serializable");let n=new Xt(t&&t.headers);return n.has("content-type")||n.set("content-type","application/json"),new sn(s,{...t,headers:n})}get[Symbol.toStringTag](){return"Response"}};l(sb,"Response");Ct=sb;Object.defineProperties(Ct.prototype,{type:{enumerable:!0},url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});OC=l(r=>{if(r.search)return r.search;let e=r.href.length-1,t=r.hash||(r.href[e]==="#"?"#":"");return r.href[e-t.length]==="?"?"?":""},"getSearch");l(Dh,"stripURLForUseAsAReferrer");ib=new Set(["","no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"]),BC="strict-origin-when-cross-origin";l(nb,"validateReferrerPolicy");l(ob,"isOriginPotentiallyTrustworthy");l(Zr,"isUrlPotentiallyTrustworthy");l(ab,"determineRequestsReferrer");l(ub,"parseReferrerPolicyFromHeader");fe=Symbol("Request internals"),rn=l(r=>typeof r=="object"&&typeof r[fe]=="object","isRequest"),xC=wa(()=>{},".data is not a valid RequestInit property, use .body instead","https://github.com/node-fetch/node-fetch/issues/1000 (request)"),lb=class cb extends on{constructor(e,t={}){let s;if(rn(e)?s=new URL(e.url):(s=new URL(e),e={}),s.username!==""||s.password!=="")throw new TypeError(`${s} is an url with embedded credentials.`);let n=t.method||e.method||"GET";if(/^(delete|get|head|options|post|put)$/i.test(n)&&(n=n.toUpperCase()),!rn(t)&&"data"in t&&xC(),(t.body!=null||rn(e)&&e.body!==null)&&(n==="GET"||n==="HEAD"))throw new TypeError("Request with GET/HEAD method cannot have body");let a=t.body?t.body:rn(e)&&e.body!==null?wh(e):null;super(a,{size:t.size||e.size||0});let o=new Xt(t.headers||e.headers||{});if(a!==null&&!o.has("Content-Type")){let f=Jg(a,this);f&&o.set("Content-Type",f)}let h=rn(e)?e.signal:null;if("signal"in t&&(h=t.signal),h!=null&&!CC(h))throw new TypeError("Expected signal to be an instanceof AbortSignal or EventTarget");let d=t.referrer==null?e.referrer:t.referrer;if(d==="")d="no-referrer";else if(d){let f=new URL(d);d=/^about:(\/\/)?client$/.test(f)?"client":f}else d=void 0;this[fe]={method:n,redirect:t.redirect||e.redirect||"follow",headers:o,parsedURL:s,signal:h,referrer:d},this.follow=t.follow===void 0?e.follow===void 0?20:e.follow:t.follow,this.compress=t.compress===void 0?e.compress===void 0?!0:e.compress:t.compress,this.counter=t.counter||e.counter||0,this.agent=t.agent||e.agent,this.highWaterMark=t.highWaterMark||e.highWaterMark||16384,this.insecureHTTPParser=t.insecureHTTPParser||e.insecureHTTPParser||!1,this.referrerPolicy=t.referrerPolicy||e.referrerPolicy||""}get method(){return this[fe].method}get url(){return cC(this[fe].parsedURL)}get headers(){return this[fe].headers}get redirect(){return this[fe].redirect}get signal(){return this[fe].signal}get referrer(){if(this[fe].referrer==="no-referrer")return"";if(this[fe].referrer==="client")return"about:client";if(this[fe].referrer)return this[fe].referrer.toString()}get referrerPolicy(){return this[fe].referrerPolicy}set referrerPolicy(e){this[fe].referrerPolicy=nb(e)}clone(){return new cb(this)}get[Symbol.toStringTag](){return"Request"}};l(lb,"Request");ln=lb;Object.defineProperties(ln.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0},referrer:{enumerable:!0},referrerPolicy:{enumerable:!0}});PC=l(r=>{let{parsedURL:e}=r[fe],t=new Xt(r[fe].headers);t.has("Accept")||t.set("Accept","*/*");let s=null;if(r.body===null&&/^(post|put)$/i.test(r.method)&&(s="0"),r.body!==null){let h=RC(r);typeof h=="number"&&!Number.isNaN(h)&&(s=String(h))}s&&t.set("Content-Length",s),r.referrerPolicy===""&&(r.referrerPolicy=BC),r.referrer&&r.referrer!=="no-referrer"?r[fe].referrer=ab(r):r[fe].referrer="no-referrer",r[fe].referrer instanceof URL&&t.set("Referer",r.referrer),t.has("User-Agent")||t.set("User-Agent","node-fetch"),r.compress&&!t.has("Accept-Encoding")&&t.set("Accept-Encoding","gzip, deflate, br");let{agent:n}=r;typeof n=="function"&&(n=n(e));let a=OC(e),o={path:e.pathname+a,method:r.method,headers:t[Symbol.for("nodejs.util.inspect.custom")](),insecureHTTPParser:r.insecureHTTPParser,agent:n};return{parsedURL:e,options:o}},"getNodeRequestOptions"),hb=class extends Ta{constructor(e,t="aborted"){super(e,t)}};l(hb,"AbortError");fb=hb;if(!globalThis.DOMException)try{let{MessageChannel:r}=v("worker_threads"),e=new r().port1,t=new ArrayBuffer;e.postMessage(t,[t,t])}catch(r){r.constructor.name==="DOMException"&&(globalThis.DOMException=r.constructor)}$C=globalThis.DOMException,LC=Hg($C),{stat:Fh}=dC,IC=l((r,e)=>db(jg(r),r,e),"blobFromSync"),NC=l((r,e)=>Fh(r).then(t=>db(t,r,e)),"blobFrom"),MC=l((r,e)=>Fh(r).then(t=>mb(t,r,e)),"fileFrom"),kC=l((r,e)=>mb(jg(r),r,e),"fileFromSync"),db=l((r,e,t="")=>new Xr([new gb({path:e,size:r.size,lastModified:r.mtimeMs,start:0})],{type:t}),"fromBlob"),mb=l((r,e,t="")=>new Ms([new gb({path:e,size:r.size,lastModified:r.mtimeMs,start:0})],mC(e),{type:t,lastModified:r.mtimeMs}),"fromFile"),pb=class Db{constructor(e){Qt(this,zs,void 0),Qt(this,js,void 0),at(this,zs,e.path),at(this,js,e.start),this.size=e.size,this.lastModified=e.lastModified}slice(e,t){return new Db({path:X(this,zs),lastModified:this.lastModified,size:t-e,start:X(this,js)+e})}async*stream(){let{mtimeMs:e}=await Fh(X(this,zs));if(e>this.lastModified)throw new LC("The requested file could not be read, typically due to permission problems that have occurred after a reference to a file was acquired.","NotReadableError");yield*fC(X(this,zs),{start:X(this,js),end:X(this,js)+this.size-1})}get[Symbol.toStringTag](){return"Blob"}};zs=new WeakMap,js=new WeakMap,l(pb,"BlobDataItem");gb=pb,qC=new Set(["data:","http:","https:"]);l(vh,"fetch$1");l(bb,"fixResponseChunkedTransferBadEnding");yb=new WeakMap,gh=new WeakMap;l(G,"pd");l(bh,"setCancelFlag");l(Qr,"Event"),Qr.prototype={get type(){return G(this).event.type},get target(){return G(this).eventTarget},get currentTarget(){return G(this).currentTarget},composedPath(){let r=G(this).currentTarget;return r==null?[]:[r]},get NONE(){return 0},get CAPTURING_PHASE(){return 1},get AT_TARGET(){return 2},get BUBBLING_PHASE(){return 3},get eventPhase(){return G(this).eventPhase},stopPropagation(){let r=G(this);r.stopped=!0,typeof r.event.stopPropagation=="function"&&r.event.stopPropagation()},stopImmediatePropagation(){let r=G(this);r.stopped=!0,r.immediateStopped=!0,typeof r.event.stopImmediatePropagation=="function"&&r.event.stopImmediatePropagation()},get bubbles(){return!!G(this).event.bubbles},get cancelable(){return!!G(this).event.cancelable},preventDefault(){bh(G(this))},get defaultPrevented(){return G(this).canceled},get composed(){return!!G(this).event.composed},get timeStamp(){return G(this).timeStamp},get srcElement(){return G(this).eventTarget},get cancelBubble(){return G(this).stopped},set cancelBubble(r){if(!r)return;let e=G(this);e.stopped=!0,typeof e.event.cancelBubble=="boolean"&&(e.event.cancelBubble=!0)},get returnValue(){return!G(this).canceled},set returnValue(r){r||bh(G(this))},initEvent(){}},Object.defineProperty(Qr.prototype,"constructor",{value:Qr,configurable:!0,writable:!0}),typeof window<"u"&&typeof window.Event<"u"&&(Object.setPrototypeOf(Qr.prototype,window.Event.prototype),gh.set(window.Event.prototype,Qr));l(Rh,"defineRedirectDescriptor");l(Eb,"defineCallDescriptor");l(_b,"defineWrapper");l(Ah,"getWrapper");l(Cb,"wrapEvent");l(wb,"isStopped");l(Sb,"setEventPhase");l(Fb,"setCurrentTarget");l(yh,"setPassiveListener");vb=new WeakMap,qg=1,Wg=2,Ea=3;l(an,"isObject");l(Us,"getListeners");l(Rb,"defineEventAttributeDescriptor");l(Th,"defineEventAttribute");l(Eh,"defineCustomEventTarget");l(wt,"EventTarget"),wt.prototype={addEventListener(r,e,t){if(e==null)return;if(typeof e!="function"&&!an(e))throw new TypeError("'listener' should be a function or an object.");let s=Us(this),n=an(t),a=(n?t.capture:t)?qg:Wg,o={listener:e,listenerType:a,passive:n&&!!t.passive,once:n&&!!t.once,next:null},h=s.get(r);if(h===void 0){s.set(r,o);return}let d=null;for(;h!=null;){if(h.listener===e&&h.listenerType===a)return;d=h,h=h.next}d.next=o},removeEventListener(r,e,t){if(e==null)return;let s=Us(this),n=(an(t)?t.capture:t)?qg:Wg,a=null,o=s.get(r);for(;o!=null;){if(o.listener===e&&o.listenerType===n){a!==null?a.next=o.next:o.next!==null?s.set(r,o.next):s.delete(r);return}a=o,o=o.next}},dispatchEvent(r){if(r==null||typeof r.type!="string")throw new TypeError('"event.type" should be a string.');let e=Us(this),t=r.type,s=e.get(t);if(s==null)return!0;let n=Cb(this,r),a=null;for(;s!=null;){if(s.once?a!==null?a.next=s.next:s.next!==null?e.set(t,s.next):e.delete(t):a=s,yh(n,s.passive?s.listener:null),typeof s.listener=="function")try{s.listener.call(this,n)}catch(o){typeof console<"u"&&typeof console.error=="function"&&console.error(o)}else s.listenerType!==Ea&&typeof s.listener.handleEvent=="function"&&s.listener.handleEvent(n);if(wb(n))break;s=s.next}return yh(n,null),Sb(n,0),Fb(n,null),!n.defaultPrevented}},Object.defineProperty(wt.prototype,"constructor",{value:wt,configurable:!0,writable:!0}),typeof window<"u"&&typeof window.EventTarget<"u"&&Object.setPrototypeOf(wt.prototype,window.EventTarget.prototype);Ab=class extends wt{constructor(){throw super(),new TypeError("AbortSignal cannot be constructed directly")}get aborted(){let e=Ra.get(this);if(typeof e!="boolean")throw new TypeError(`Expected 'this' to be an 'AbortSignal' object, but got ${this===null?"null":typeof this}`);return e}};l(Ab,"AbortSignal");va=Ab;Th(va.prototype,"abort");l(Tb,"createAbortSignal");l(Ob,"abortSignal");Ra=new WeakMap;Object.defineProperties(va.prototype,{aborted:{enumerable:!0}}),typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(va.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortSignal"});Aa=(hh=class{constructor(){Bb.set(this,Tb())}get signal(){return _h(this)}abort(){Ob(_h(this))}},l(hh,"AbortController"),hh),Bb=new WeakMap;l(_h,"getSignal"),Object.defineProperties(Aa.prototype,{signal:{enumerable:!0},abort:{enumerable:!0}}),typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Aa.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortController"});WC=Object.defineProperty,zC=l((r,e)=>WC(r,"name",{value:e,configurable:!0}),"e"),xb=vh;Ch();l(Ch,"s"),zC(Ch,"checkNodeEnvironment")});var Ib=A((e2,Lb)=>{var Hs=1e3,Vs=Hs*60,Gs=Vs*60,Jr=Gs*24,VC=Jr*7,GC=Jr*365.25;Lb.exports=function(r,e){e=e||{};var t=typeof r;if(t==="string"&&r.length>0)return YC(r);if(t==="number"&&isFinite(r))return e.long?ZC(r):KC(r);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(r))};function YC(r){if(r=String(r),!(r.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(r);if(e){var t=parseFloat(e[1]),s=(e[2]||"ms").toLowerCase();switch(s){case"years":case"year":case"yrs":case"yr":case"y":return t*GC;case"weeks":case"week":case"w":return t*VC;case"days":case"day":case"d":return t*Jr;case"hours":case"hour":case"hrs":case"hr":case"h":return t*Gs;case"minutes":case"minute":case"mins":case"min":case"m":return t*Vs;case"seconds":case"second":case"secs":case"sec":case"s":return t*Hs;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return t;default:return}}}}function KC(r){var e=Math.abs(r);return e>=Jr?Math.round(r/Jr)+"d":e>=Gs?Math.round(r/Gs)+"h":e>=Vs?Math.round(r/Vs)+"m":e>=Hs?Math.round(r/Hs)+"s":r+"ms"}function ZC(r){var e=Math.abs(r);return e>=Jr?Oa(r,e,Jr,"day"):e>=Gs?Oa(r,e,Gs,"hour"):e>=Vs?Oa(r,e,Vs,"minute"):e>=Hs?Oa(r,e,Hs,"second"):r+" ms"}function Oa(r,e,t,s){var n=e>=t*1.5;return Math.round(r/t)+" "+s+(n?"s":"")}});var Bh=A((t2,Nb)=>{function QC(r){t.debug=t,t.default=t,t.coerce=d,t.disable=a,t.enable=n,t.enabled=o,t.humanize=Ib(),t.destroy=f,Object.keys(r).forEach(p=>{t[p]=r[p]}),t.names=[],t.skips=[],t.formatters={};function e(p){let D=0;for(let y=0;y<p.length;y++)D=(D<<5)-D+p.charCodeAt(y),D|=0;return t.colors[Math.abs(D)%t.colors.length]}t.selectColor=e;function t(p){let D,y=null,C,g;function _(...S){if(!_.enabled)return;let F=_,$=Number(new Date),Y=$-(D||$);F.diff=Y,F.prev=D,F.curr=$,D=$,S[0]=t.coerce(S[0]),typeof S[0]!="string"&&S.unshift("%O");let B=0;S[0]=S[0].replace(/%([a-zA-Z%])/g,(L,ae)=>{if(L==="%%")return"%";B++;let $e=t.formatters[ae];if(typeof $e=="function"){let Dn=S[B];L=$e.call(F,Dn),S.splice(B,1),B--}return L}),t.formatArgs.call(F,S),(F.log||t.log).apply(F,S)}return _.namespace=p,_.useColors=t.useColors(),_.color=t.selectColor(p),_.extend=s,_.destroy=t.destroy,Object.defineProperty(_,"enabled",{enumerable:!0,configurable:!1,get:()=>y!==null?y:(C!==t.namespaces&&(C=t.namespaces,g=t.enabled(p)),g),set:S=>{y=S}}),typeof t.init=="function"&&t.init(_),_}function s(p,D){let y=t(this.namespace+(typeof D>"u"?":":D)+p);return y.log=this.log,y}function n(p){t.save(p),t.namespaces=p,t.names=[],t.skips=[];let D,y=(typeof p=="string"?p:"").split(/[\s,]+/),C=y.length;for(D=0;D<C;D++)y[D]&&(p=y[D].replace(/\*/g,".*?"),p[0]==="-"?t.skips.push(new RegExp("^"+p.slice(1)+"$")):t.names.push(new RegExp("^"+p+"$")))}function a(){let p=[...t.names.map(h),...t.skips.map(h).map(D=>"-"+D)].join(",");return t.enable(""),p}function o(p){if(p[p.length-1]==="*")return!0;let D,y;for(D=0,y=t.skips.length;D<y;D++)if(t.skips[D].test(p))return!1;for(D=0,y=t.names.length;D<y;D++)if(t.names[D].test(p))return!0;return!1}function h(p){return p.toString().substring(2,p.toString().length-2).replace(/\.\*\?$/,"*")}function d(p){return p instanceof Error?p.stack||p.message:p}function f(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return t.enable(t.load()),t}Nb.exports=QC});var Mb=A((qe,Ba)=>{qe.formatArgs=JC;qe.save=ew;qe.load=tw;qe.useColors=XC;qe.storage=rw();qe.destroy=(()=>{let r=!1;return()=>{r||(r=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();qe.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function XC(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function JC(r){if(r[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+r[0]+(this.useColors?"%c ":" ")+"+"+Ba.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;r.splice(1,0,e,"color: inherit");let t=0,s=0;r[0].replace(/%[a-zA-Z%]/g,n=>{n!=="%%"&&(t++,n==="%c"&&(s=t))}),r.splice(s,0,e)}qe.log=console.debug||console.log||(()=>{});function ew(r){try{r?qe.storage.setItem("debug",r):qe.storage.removeItem("debug")}catch{}}function tw(){let r;try{r=qe.storage.getItem("debug")}catch{}return!r&&typeof process<"u"&&"env"in process&&(r=process.env.DEBUG),r}function rw(){try{return localStorage}catch{}}Ba.exports=Bh()(qe);var{formatters:sw}=Ba.exports;sw.j=function(r){try{return JSON.stringify(r)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var qb=A((r2,kb)=>{"use strict";kb.exports=(r,e=process.argv)=>{let t=r.startsWith("-")?"":r.length===1?"-":"--",s=e.indexOf(t+r),n=e.indexOf("--");return s!==-1&&(n===-1||s<n)}});var jb=A((s2,zb)=>{"use strict";var iw=v("os"),Wb=v("tty"),Qe=qb(),{env:de}=process,Rr;Qe("no-color")||Qe("no-colors")||Qe("color=false")||Qe("color=never")?Rr=0:(Qe("color")||Qe("colors")||Qe("color=true")||Qe("color=always"))&&(Rr=1);"FORCE_COLOR"in de&&(de.FORCE_COLOR==="true"?Rr=1:de.FORCE_COLOR==="false"?Rr=0:Rr=de.FORCE_COLOR.length===0?1:Math.min(parseInt(de.FORCE_COLOR,10),3));function xh(r){return r===0?!1:{level:r,hasBasic:!0,has256:r>=2,has16m:r>=3}}function Ph(r,e){if(Rr===0)return 0;if(Qe("color=16m")||Qe("color=full")||Qe("color=truecolor"))return 3;if(Qe("color=256"))return 2;if(r&&!e&&Rr===void 0)return 0;let t=Rr||0;if(de.TERM==="dumb")return t;if(process.platform==="win32"){let s=iw.release().split(".");return Number(s[0])>=10&&Number(s[2])>=10586?Number(s[2])>=14931?3:2:1}if("CI"in de)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(s=>s in de)||de.CI_NAME==="codeship"?1:t;if("TEAMCITY_VERSION"in de)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(de.TEAMCITY_VERSION)?1:0;if(de.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in de){let s=parseInt((de.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(de.TERM_PROGRAM){case"iTerm.app":return s>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(de.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(de.TERM)||"COLORTERM"in de?1:t}function nw(r){let e=Ph(r,r&&r.isTTY);return xh(e)}zb.exports={supportsColor:nw,stdout:xh(Ph(!0,Wb.isatty(1))),stderr:xh(Ph(!0,Wb.isatty(2)))}});var Hb=A((pe,Pa)=>{var ow=v("tty"),xa=v("util");pe.init=dw;pe.log=cw;pe.formatArgs=uw;pe.save=hw;pe.load=fw;pe.useColors=aw;pe.destroy=xa.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");pe.colors=[6,2,3,4,5,1];try{let r=jb();r&&(r.stderr||r).level>=2&&(pe.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}pe.inspectOpts=Object.keys(process.env).filter(r=>/^debug_/i.test(r)).reduce((r,e)=>{let t=e.substring(6).toLowerCase().replace(/_([a-z])/g,(n,a)=>a.toUpperCase()),s=process.env[e];return/^(yes|on|true|enabled)$/i.test(s)?s=!0:/^(no|off|false|disabled)$/i.test(s)?s=!1:s==="null"?s=null:s=Number(s),r[t]=s,r},{});function aw(){return"colors"in pe.inspectOpts?!!pe.inspectOpts.colors:ow.isatty(process.stderr.fd)}function uw(r){let{namespace:e,useColors:t}=this;if(t){let s=this.color,n="\x1B[3"+(s<8?s:"8;5;"+s),a=`  ${n};1m${e} \x1B[0m`;r[0]=a+r[0].split(`
`).join(`
`+a),r.push(n+"m+"+Pa.exports.humanize(this.diff)+"\x1B[0m")}else r[0]=lw()+e+" "+r[0]}function lw(){return pe.inspectOpts.hideDate?"":new Date().toISOString()+" "}function cw(...r){return process.stderr.write(xa.format(...r)+`
`)}function hw(r){r?process.env.DEBUG=r:delete process.env.DEBUG}function fw(){return process.env.DEBUG}function dw(r){r.inspectOpts={};let e=Object.keys(pe.inspectOpts);for(let t=0;t<e.length;t++)r.inspectOpts[e[t]]=pe.inspectOpts[e[t]]}Pa.exports=Bh()(pe);var{formatters:Ub}=Pa.exports;Ub.o=function(r){return this.inspectOpts.colors=this.useColors,xa.inspect(r,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};Ub.O=function(r){return this.inspectOpts.colors=this.useColors,xa.inspect(r,this.inspectOpts)}});var Lh=A((i2,$h)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?$h.exports=Mb():$h.exports=Hb()});var Yb=A(Pe=>{"use strict";var mw=Pe&&Pe.__createBinding||(Object.create?function(r,e,t,s){s===void 0&&(s=t);var n=Object.getOwnPropertyDescriptor(e,t);(!n||("get"in n?!e.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,s,n)}:function(r,e,t,s){s===void 0&&(s=t),r[s]=e[t]}),pw=Pe&&Pe.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Vb=Pe&&Pe.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&mw(e,r,t);return pw(e,r),e};Object.defineProperty(Pe,"__esModule",{value:!0});Pe.req=Pe.json=Pe.toBuffer=void 0;var Dw=Vb(v("http")),gw=Vb(v("https"));async function Gb(r){let e=0,t=[];for await(let s of r)e+=s.length,t.push(s);return Buffer.concat(t,e)}Pe.toBuffer=Gb;async function bw(r){let t=(await Gb(r)).toString("utf8");try{return JSON.parse(t)}catch(s){let n=s;throw n.message+=` (input: ${t})`,n}}Pe.json=bw;function yw(r,e={}){let s=((typeof r=="string"?r:r.href).startsWith("https:")?gw:Dw).request(r,e),n=new Promise((a,o)=>{s.once("response",a).once("error",o).end()});return s.then=n.then.bind(n),s}Pe.req=yw});var Qb=A(We=>{"use strict";var Zb=We&&We.__createBinding||(Object.create?function(r,e,t,s){s===void 0&&(s=t);var n=Object.getOwnPropertyDescriptor(e,t);(!n||("get"in n?!e.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,s,n)}:function(r,e,t,s){s===void 0&&(s=t),r[s]=e[t]}),Ew=We&&We.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),_w=We&&We.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Zb(e,r,t);return Ew(e,r),e},Cw=We&&We.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Zb(e,r,t)};Object.defineProperty(We,"__esModule",{value:!0});We.Agent=void 0;var Kb=_w(v("http"));Cw(Yb(),We);var Ft=Symbol("AgentBaseInternalState"),Ih=class extends Kb.Agent{constructor(e){super(e),this[Ft]={}}isSecureEndpoint(e){if(e){if(typeof e.secureEndpoint=="boolean")return e.secureEndpoint;if(typeof e.protocol=="string")return e.protocol==="https:"}let{stack:t}=new Error;return typeof t!="string"?!1:t.split(`
`).some(s=>s.indexOf("(https.js:")!==-1||s.indexOf("node:https:")!==-1)}createSocket(e,t,s){let n={...t,secureEndpoint:this.isSecureEndpoint(t)};Promise.resolve().then(()=>this.connect(e,n)).then(a=>{if(a instanceof Kb.Agent)return a.addRequest(e,n);this[Ft].currentSocket=a,super.createSocket(e,t,s)},s)}createConnection(){let e=this[Ft].currentSocket;if(this[Ft].currentSocket=void 0,!e)throw new Error("No socket was returned in the `connect()` function");return e}get defaultPort(){return this[Ft].defaultPort??(this.protocol==="https:"?443:80)}set defaultPort(e){this[Ft]&&(this[Ft].defaultPort=e)}get protocol(){return this[Ft].protocol??(this.isSecureEndpoint()?"https:":"http:")}set protocol(e){this[Ft]&&(this[Ft].protocol=e)}};We.Agent=Ih});var Xb=A(Ys=>{"use strict";var ww=Ys&&Ys.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ys,"__esModule",{value:!0});Ys.parseProxyResponse=void 0;var Sw=ww(Lh()),$a=(0,Sw.default)("https-proxy-agent:parse-proxy-response");function Fw(r){return new Promise((e,t)=>{let s=0,n=[];function a(){let p=r.read();p?f(p):r.once("readable",a)}function o(){r.removeListener("end",h),r.removeListener("error",d),r.removeListener("readable",a)}function h(){o(),$a("onend"),t(new Error("Proxy connection ended before receiving CONNECT response"))}function d(p){o(),$a("onerror %o",p),t(p)}function f(p){n.push(p),s+=p.length;let D=Buffer.concat(n,s),y=D.indexOf(`\r
\r
`);if(y===-1){$a("have not received end of HTTP headers yet..."),a();return}let C=D.slice(0,y).toString("ascii").split(`\r
`),g=C.shift();if(!g)return r.destroy(),t(new Error("No header received from proxy CONNECT response"));let _=g.split(" "),S=+_[1],F=_.slice(2).join(" "),$={};for(let Y of C){if(!Y)continue;let B=Y.indexOf(":");if(B===-1)return r.destroy(),t(new Error(`Invalid header from proxy CONNECT response: "${Y}"`));let W=Y.slice(0,B).toLowerCase(),L=Y.slice(B+1).trimStart(),ae=$[W];typeof ae=="string"?$[W]=[ae,L]:Array.isArray(ae)?ae.push(L):$[W]=L}$a("got proxy server response: %o %o",g,$),o(),e({connect:{statusCode:S,statusText:F,headers:$},buffered:D})}r.on("error",d),r.on("end",h),a()})}Ys.parseProxyResponse=Fw});var sy=A(Xe=>{"use strict";var vw=Xe&&Xe.__createBinding||(Object.create?function(r,e,t,s){s===void 0&&(s=t);var n=Object.getOwnPropertyDescriptor(e,t);(!n||("get"in n?!e.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,s,n)}:function(r,e,t,s){s===void 0&&(s=t),r[s]=e[t]}),Rw=Xe&&Xe.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),ty=Xe&&Xe.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&vw(e,r,t);return Rw(e,r),e},ry=Xe&&Xe.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Xe,"__esModule",{value:!0});Xe.HttpsProxyAgent=void 0;var cn=ty(v("net")),Jb=ty(v("tls")),Aw=ry(v("assert")),Tw=ry(Lh()),Ow=Qb(),Bw=Xb(),hn=(0,Tw.default)("https-proxy-agent"),La=class extends Ow.Agent{constructor(e,t){super(t),this.options={path:void 0},this.proxy=typeof e=="string"?new URL(e):e,this.proxyHeaders=t?.headers??{},hn("Creating new HttpsProxyAgent instance: %o",this.proxy.href);let s=(this.proxy.hostname||this.proxy.host).replace(/^\[|\]$/g,""),n=this.proxy.port?parseInt(this.proxy.port,10):this.proxy.protocol==="https:"?443:80;this.connectOpts={ALPNProtocols:["http/1.1"],...t?ey(t,"headers"):null,host:s,port:n}}async connect(e,t){let{proxy:s}=this;if(!t.host)throw new TypeError('No "host" provided');let n;if(s.protocol==="https:"){hn("Creating `tls.Socket`: %o",this.connectOpts);let y=this.connectOpts.servername||this.connectOpts.host;n=Jb.connect({...this.connectOpts,servername:y&&cn.isIP(y)?void 0:y})}else hn("Creating `net.Socket`: %o",this.connectOpts),n=cn.connect(this.connectOpts);let a=typeof this.proxyHeaders=="function"?this.proxyHeaders():{...this.proxyHeaders},o=cn.isIPv6(t.host)?`[${t.host}]`:t.host,h=`CONNECT ${o}:${t.port} HTTP/1.1\r
`;if(s.username||s.password){let y=`${decodeURIComponent(s.username)}:${decodeURIComponent(s.password)}`;a["Proxy-Authorization"]=`Basic ${Buffer.from(y).toString("base64")}`}a.Host=`${o}:${t.port}`,a["Proxy-Connection"]||(a["Proxy-Connection"]=this.keepAlive?"Keep-Alive":"close");for(let y of Object.keys(a))h+=`${y}: ${a[y]}\r
`;let d=(0,Bw.parseProxyResponse)(n);n.write(`${h}\r
`);let{connect:f,buffered:p}=await d;if(e.emit("proxyConnect",f),this.emit("proxyConnect",f,e),f.statusCode===200){if(e.once("socket",xw),t.secureEndpoint){hn("Upgrading socket connection to TLS");let y=t.servername||t.host;return Jb.connect({...ey(t,"host","path","port"),socket:n,servername:cn.isIP(y)?void 0:y})}return n}n.destroy();let D=new cn.Socket({writable:!1});return D.readable=!0,e.once("socket",y=>{hn("Replaying proxy buffer for failed request"),(0,Aw.default)(y.listenerCount("data")>0),y.push(p),y.push(null)}),D}};La.protocols=["http","https"];Xe.HttpsProxyAgent=La;function xw(r){r.resume()}function ey(r,...e){let t={},s;for(s in r)e.includes(s)||(t[s]=r[s]);return t}});var qh=A((b2,ly)=>{"use strict";var Mh="\x1B",J=`${Mh}[`,Qw="\x07",kh={to(r,e){return e?`${J}${e+1};${r+1}H`:`${J}${r+1}G`},move(r,e){let t="";return r<0?t+=`${J}${-r}D`:r>0&&(t+=`${J}${r}C`),e<0?t+=`${J}${-e}A`:e>0&&(t+=`${J}${e}B`),t},up:(r=1)=>`${J}${r}A`,down:(r=1)=>`${J}${r}B`,forward:(r=1)=>`${J}${r}C`,backward:(r=1)=>`${J}${r}D`,nextLine:(r=1)=>`${J}E`.repeat(r),prevLine:(r=1)=>`${J}F`.repeat(r),left:`${J}G`,hide:`${J}?25l`,show:`${J}?25h`,save:`${Mh}7`,restore:`${Mh}8`},Xw={up:(r=1)=>`${J}S`.repeat(r),down:(r=1)=>`${J}T`.repeat(r)},Jw={screen:`${J}2J`,up:(r=1)=>`${J}1J`.repeat(r),down:(r=1)=>`${J}J`.repeat(r),line:`${J}2K`,lineEnd:`${J}K`,lineStart:`${J}1K`,lines(r){let e="";for(let t=0;t<r;t++)e+=this.line+(t<r-1?kh.up():"");return r&&(e+=kh.left),e}};ly.exports={cursor:kh,scroll:Xw,erase:Jw,beep:Qw}});var zh=A((y2,Wh)=>{var eS=v("tty"),tS=!("NO_COLOR"in process.env||process.argv.includes("--no-color"))&&("FORCE_COLOR"in process.env||process.argv.includes("--color")||process.platform==="win32"||eS.isatty(1)&&process.env.TERM!=="dumb"||"CI"in process.env),Z=(r,e,t=r)=>s=>{let n=""+s,a=n.indexOf(e,r.length);return~a?r+cy(n,e,t,a)+e:r+n+e},cy=(r,e,t,s)=>{let n=r.substring(0,s)+t,a=r.substring(s+e.length),o=a.indexOf(e);return~o?n+cy(a,e,t,o):n+a},hy=(r=tS)=>({isColorSupported:r,reset:r?e=>`\x1B[0m${e}\x1B[0m`:String,bold:r?Z("\x1B[1m","\x1B[22m","\x1B[22m\x1B[1m"):String,dim:r?Z("\x1B[2m","\x1B[22m","\x1B[22m\x1B[2m"):String,italic:r?Z("\x1B[3m","\x1B[23m"):String,underline:r?Z("\x1B[4m","\x1B[24m"):String,inverse:r?Z("\x1B[7m","\x1B[27m"):String,hidden:r?Z("\x1B[8m","\x1B[28m"):String,strikethrough:r?Z("\x1B[9m","\x1B[29m"):String,black:r?Z("\x1B[30m","\x1B[39m"):String,red:r?Z("\x1B[31m","\x1B[39m"):String,green:r?Z("\x1B[32m","\x1B[39m"):String,yellow:r?Z("\x1B[33m","\x1B[39m"):String,blue:r?Z("\x1B[34m","\x1B[39m"):String,magenta:r?Z("\x1B[35m","\x1B[39m"):String,cyan:r?Z("\x1B[36m","\x1B[39m"):String,white:r?Z("\x1B[37m","\x1B[39m"):String,gray:r?Z("\x1B[90m","\x1B[39m"):String,bgBlack:r?Z("\x1B[40m","\x1B[49m"):String,bgRed:r?Z("\x1B[41m","\x1B[49m"):String,bgGreen:r?Z("\x1B[42m","\x1B[49m"):String,bgYellow:r?Z("\x1B[43m","\x1B[49m"):String,bgBlue:r?Z("\x1B[44m","\x1B[49m"):String,bgMagenta:r?Z("\x1B[45m","\x1B[49m"):String,bgCyan:r?Z("\x1B[46m","\x1B[49m"):String,bgWhite:r?Z("\x1B[47m","\x1B[49m"):String});Wh.exports=hy();Wh.exports.createColors=hy});var fm=$r(hm(),1),{program:dm,createCommand:NS,createArgument:MS,createOption:kS,CommanderError:qS,InvalidArgumentError:WS,InvalidOptionArgumentError:zS,Command:jS,Argument:US,Option:HS,Help:VS}=fm.default;var mm="cloudflare-community/cloudspark",cl={js:{name:"js",displayName:"JavaScript",description:"Plain JavaScript"},ts:{name:"ts",displayName:"TypeScript",description:"TypeScript with types set up for Cloudflare Workers"},rs:{name:"rs",displayName:"Rust",description:"Rust, running using the workers.rs project"}},hl=[{name:"hello-world",displayName:"Hello World",description:"A simple Hello World script for getting started with Cloudflare Workers",languages:[cl.ts,cl.js,cl.rs]}];var oy=$r(vg(),1);import{readFile as Pw,writeFile as $w,rm as Lw,mkdir as iy}from"node:fs/promises";import{existsSync as fn,createWriteStream as Iw,readdirSync as Nw}from"node:fs";function Rg(r=""){return!r||!r.includes("\\")?r:r.replace(/\\/g,"/")}var Z_=/^[/\\](?![/\\])|^[/\\]{2}(?!\.)|^[A-Za-z]:[/\\]/,Q_=/^[A-Za-z]:$/;function X_(){return typeof process<"u"?process.cwd().replace(/\\/g,"/"):"/"}var wr=function(...r){r=r.map(s=>Rg(s));let e="",t=!1;for(let s=r.length-1;s>=-1&&!t;s--){let n=s>=0?r[s]:X_();!n||n.length===0||(e=`${n}/${e}`,t=ca(n))}return e=Ag(e,!t),t&&!ca(e)?`/${e}`:e.length>0?e:"."};function Ag(r,e){let t="",s=0,n=-1,a=0,o=null;for(let h=0;h<=r.length;++h){if(h<r.length)o=r[h];else{if(o==="/")break;o="/"}if(o==="/"){if(!(n===h-1||a===1))if(a===2){if(t.length<2||s!==2||t[t.length-1]!=="."||t[t.length-2]!=="."){if(t.length>2){let d=t.lastIndexOf("/");d===-1?(t="",s=0):(t=t.slice(0,d),s=t.length-1-t.lastIndexOf("/")),n=h,a=0;continue}else if(t.length>0){t="",s=0,n=h,a=0;continue}}e&&(t+=t.length>0?"/..":"..",s=2)}else t.length>0?t+=`/${r.slice(n+1,h)}`:t=r.slice(n+1,h),s=h-n-1;n=h,a=0}else o==="."&&a!==-1?++a:a=-1}return t}var ca=function(r){return Z_.test(r)};var ih=function(r){let e=Rg(r).replace(/\/$/,"").split("/").slice(0,-1);return e.length===1&&Q_.test(e[0])&&(e[0]+="/"),e.join("/")||(ca(r)?"/":".")};function oh(r,e,t=".",s){if(!nh(e))return oh(r,{},t,s);let n=Object.assign({},e);for(let a in r){if(a==="__proto__"||a==="constructor")continue;let o=r[a];o!=null&&(s&&s(n,a,o,t)||(Array.isArray(o)&&Array.isArray(n[a])?n[a]=[...o,...n[a]]:nh(o)&&nh(n[a])?n[a]=oh(o,n[a],(t?`${t}.`:"")+a.toString(),s):n[a]=o))}return n}function nh(r){if(r===null||typeof r!="object")return!1;let e=Object.getPrototypeOf(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)}function ah(r){return(...e)=>e.reduce((t,s)=>oh(t,s,"",r),{})}var Tg=ah(),iv=ah((r,e,t)=>{if(r[e]!==void 0&&typeof t=="function")return r[e]=t(r[e]),!0}),nv=ah((r,e,t)=>{if(Array.isArray(r[e])&&typeof t=="function")return r[e]=t(r[e]),!0});import{pipeline as Mw}from"node:stream";import{homedir as kw}from"node:os";import{promisify as qw}from"node:util";da();da();var jC=Object.defineProperty,Pb=(r,e)=>jC(r,"name",{value:e,configurable:!0}),UC=Object.defineProperty,HC=Pb((r,e)=>UC(r,"name",{value:e,configurable:!0}),"e"),vr=!!globalThis.process?.env?.FORCE_NODE_FETCH;function Oh(){return!vr&&globalThis.fetch?globalThis.fetch:xb}Pb(Oh,"p"),HC(Oh,"_getFetch");var $b=Oh(),Hv=!vr&&globalThis.Blob||Xr,Vv=!vr&&globalThis.File||Ms,Gv=!vr&&globalThis.FormData||Yr,Yv=!vr&&globalThis.Headers||Xt,Kv=!vr&&globalThis.Request||ln,Zv=!vr&&globalThis.Response||Ct,Qv=!vr&&globalThis.AbortController||Aa;async function Ww(r,e,t={}){let s=e+".json",n=JSON.parse(await Pw(s,"utf8").catch(()=>"{}")),o=(await Nh(r,{method:"HEAD",headers:t.headers}).catch(()=>{}))?.headers.get("etag");if(n.etag===o&&fn(e))return;typeof o=="string"&&(n.etag=o);let h=await Nh(r,{headers:t.headers});if(h.status>=400)throw new Error(`Failed to download ${r}: ${h.status} ${h.statusText}`);let d=Iw(e);await qw(Mw)(h.body,d),await $w(s,JSON.stringify(n),"utf8")}var zw=/^(?<repo>[\w.-]+\/[\w.-]+)(?<subdir>[^#]+)?(?<ref>#[\w./-]+)?/;function Na(r){let e=r.match(zw)?.groups||{};return{repo:e.repo,subdir:e.subdir||"/",ref:e.ref?e.ref.slice(1):"main"}}function Ia(...r){process.env.DEBUG&&console.debug("[giget]",...r)}async function Nh(r,e={}){if(!e.agent){let t=process.env.HTTPS_PROXY||process.env.https_proxy||process.env.HTTP_PROXY||process.env.http_proxy;if(t){let s=await Promise.resolve().then(()=>$r(sy(),1)).then(n=>n.HttpsProxyAgent||n.default);e.agent=new s(t)}}return await $b(r,{...e,headers:ay(e.headers)})}function jw(){return process.env.XDG_CACHE_HOME?wr(process.env.XDG_CACHE_HOME,"giget"):wr(kw(),".cache/giget")}function ay(r={}){let e={};for(let[t,s]of Object.entries(r))s&&(e[t.toLowerCase()]=s);return e}var ny=(r,e)=>{let t=Na(r),s=process.env.GIGET_GITHUB_URL||"https://api.github.com";return{name:t.repo.replace("/","-"),version:t.ref,subdir:t.subdir,headers:{Authorization:e.auth?`Bearer ${e.auth}`:void 0,Accept:"application/vnd.github+json","X-GitHub-Api-Version":"2022-11-28"},url:`${s.replace("api.github.com","github.com")}/${t.repo}/tree/${t.ref}${t.subdir}`,tar:`${s}/repos/${t.repo}/tarball/${t.ref}`}},Uw=(r,e)=>{let t=Na(r),s=process.env.GIGET_GITLAB_URL||"https://gitlab.com";return{name:t.repo.replace("/","-"),version:t.ref,subdir:t.subdir,headers:{authorization:e.auth?`Bearer ${e.auth}`:void 0},url:`${s}/${t.repo}/tree/${t.ref}${t.subdir}`,tar:`${s}/${t.repo}/-/archive/${t.ref}.tar.gz`}},Hw=(r,e)=>{let t=Na(r);return{name:t.repo.replace("/","-"),version:t.ref,subdir:t.subdir,headers:{authorization:e.auth?`Bearer ${e.auth}`:void 0},url:`https://bitbucket.com/${t.repo}/src/${t.ref}${t.subdir}`,tar:`https://bitbucket.org/${t.repo}/get/${t.ref}.tar.gz`}},Vw=(r,e)=>{let t=Na(r);return{name:t.repo.replace("/","-"),version:t.ref,subdir:t.subdir,headers:{authorization:e.auth?`Bearer ${e.auth}`:void 0},url:`https://git.sr.ht/~${t.repo}/tree/${t.ref}/item${t.subdir}`,tar:`https://git.sr.ht/~${t.repo}/archive/${t.ref}.tar.gz`}},Gw={github:ny,gh:ny,gitlab:Uw,bitbucket:Hw,sourcehut:Vw},Yw="https://raw.githubusercontent.com/unjs/giget/main/templates",Kw=(r=Yw,e={})=>async t=>{let s=Date.now(),n=`${r}/${t}.json`,a=await Nh(n,{headers:{authorization:e.auth?`Bearer ${e.auth}`:void 0}});if(a.status>=400)throw new Error(`Failed to download ${t} template info from ${n}: ${a.status} ${a.statusText}`);let o=await a.json();if(!o.tar||!o.name)throw new Error(`Invalid template info from ${n}. name or tar fields are missing!`);return Ia(`Fetched ${t} template info from ${n} in ${Date.now()-s}ms`),o},Zw=/^([\w-.]+):/;async function uy(r,e={}){e=Tg({registry:process.env.GIGET_REGISTRY,auth:process.env.GIGET_AUTH},e);let t=e.registry===!1?void 0:Kw(e.registry,{auth:e.auth}),s=e.provider||(t?"registry":"github"),n=r,a=r.match(Zw);a&&(s=a[1],n=r.slice(a[0].length));let o=e.providers?.[s]||Gw[s]||t;if(!o)throw new Error(`Unsupported provider: ${s}`);let h=await Promise.resolve().then(()=>o(n,{auth:e.auth})).catch(g=>{throw new Error(`Failed to download template from ${s}: ${g.message}`)});if(!h)throw new Error(`Failed to resolve template from ${s}`);h.name=(h.name||"template").replace(/[^\da-z-]/gi,"-"),h.defaultDir=(h.defaultDir||h.name).replace(/[^\da-z-]/gi,"-");let d=wr(e.cwd||"."),f=wr(d,e.dir||h.defaultDir);if(e.forceClean&&await Lw(f,{recursive:!0,force:!0}),!e.force&&fn(f)&&Nw(f).length>0)throw new Error(`Destination ${f} already exists.`);await iy(f,{recursive:!0});let p=wr(jw(),s,h.name),D=wr(p,(h.version||h.name)+".tar.gz");if(e.preferOffline&&fn(D)&&(e.offline=!0),!e.offline){await iy(ih(D),{recursive:!0});let g=Date.now();await Ww(h.tar,D,{headers:{Authorization:e.auth?`Bearer ${e.auth}`:void 0,...ay(h.headers)}}).catch(_=>{if(!fn(D))throw _;Ia("Download error. Using cached version:",_),e.offline=!0}),Ia(`Downloaded ${h.tar} to ${D} in ${Date.now()-g}ms`)}if(!fn(D))throw new Error(`Tarball not found: ${D} (offline: ${e.offline})`);let y=Date.now(),C=h.subdir?.replace(/^\//,"")||"";return await(0,oy.extract)({file:D,cwd:f,onentry(g){g.path=g.path.split("/").splice(1).join("/"),C&&(g.path.startsWith(C+"/")?g.path=g.path.slice(C.length):g.path="")}}),Ia(`Extracted to ${f} in ${Date.now()-y}ms`),{...h,source:n,dir:f}}var Se=$r(qh(),1),ka=$r(zh(),1);import{stdin as Ey,stdout as _y}from"node:process";import*as Ar from"node:readline";import fy from"node:readline";import{WriteStream as rS}from"node:tty";function sS({onlyFirst:r=!1}={}){let e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(e,r?void 0:"g")}function Cy(r){if(typeof r!="string")throw new TypeError(`Expected a \`string\`, got \`${typeof r}\``);return r.replace(sS(),"")}var Hh={},iS={get exports(){return Hh},set exports(r){Hh=r}};(function(r){var e={};r.exports=e,e.eastAsianWidth=function(s){var n=s.charCodeAt(0),a=s.length==2?s.charCodeAt(1):0,o=n;return 55296<=n&&n<=56319&&56320<=a&&a<=57343&&(n&=1023,a&=1023,o=n<<10|a,o+=65536),o==12288||65281<=o&&o<=65376||65504<=o&&o<=65510?"F":o==8361||65377<=o&&o<=65470||65474<=o&&o<=65479||65482<=o&&o<=65487||65490<=o&&o<=65495||65498<=o&&o<=65500||65512<=o&&o<=65518?"H":4352<=o&&o<=4447||4515<=o&&o<=4519||4602<=o&&o<=4607||9001<=o&&o<=9002||11904<=o&&o<=11929||11931<=o&&o<=12019||12032<=o&&o<=12245||12272<=o&&o<=12283||12289<=o&&o<=12350||12353<=o&&o<=12438||12441<=o&&o<=12543||12549<=o&&o<=12589||12593<=o&&o<=12686||12688<=o&&o<=12730||12736<=o&&o<=12771||12784<=o&&o<=12830||12832<=o&&o<=12871||12880<=o&&o<=13054||13056<=o&&o<=19903||19968<=o&&o<=42124||42128<=o&&o<=42182||43360<=o&&o<=43388||44032<=o&&o<=55203||55216<=o&&o<=55238||55243<=o&&o<=55291||63744<=o&&o<=64255||65040<=o&&o<=65049||65072<=o&&o<=65106||65108<=o&&o<=65126||65128<=o&&o<=65131||110592<=o&&o<=110593||127488<=o&&o<=127490||127504<=o&&o<=127546||127552<=o&&o<=127560||127568<=o&&o<=127569||131072<=o&&o<=194367||177984<=o&&o<=196605||196608<=o&&o<=262141?"W":32<=o&&o<=126||162<=o&&o<=163||165<=o&&o<=166||o==172||o==175||10214<=o&&o<=10221||10629<=o&&o<=10630?"Na":o==161||o==164||167<=o&&o<=168||o==170||173<=o&&o<=174||176<=o&&o<=180||182<=o&&o<=186||188<=o&&o<=191||o==198||o==208||215<=o&&o<=216||222<=o&&o<=225||o==230||232<=o&&o<=234||236<=o&&o<=237||o==240||242<=o&&o<=243||247<=o&&o<=250||o==252||o==254||o==257||o==273||o==275||o==283||294<=o&&o<=295||o==299||305<=o&&o<=307||o==312||319<=o&&o<=322||o==324||328<=o&&o<=331||o==333||338<=o&&o<=339||358<=o&&o<=359||o==363||o==462||o==464||o==466||o==468||o==470||o==472||o==474||o==476||o==593||o==609||o==708||o==711||713<=o&&o<=715||o==717||o==720||728<=o&&o<=731||o==733||o==735||768<=o&&o<=879||913<=o&&o<=929||931<=o&&o<=937||945<=o&&o<=961||963<=o&&o<=969||o==1025||1040<=o&&o<=1103||o==1105||o==8208||8211<=o&&o<=8214||8216<=o&&o<=8217||8220<=o&&o<=8221||8224<=o&&o<=8226||8228<=o&&o<=8231||o==8240||8242<=o&&o<=8243||o==8245||o==8251||o==8254||o==8308||o==8319||8321<=o&&o<=8324||o==8364||o==8451||o==8453||o==8457||o==8467||o==8470||8481<=o&&o<=8482||o==8486||o==8491||8531<=o&&o<=8532||8539<=o&&o<=8542||8544<=o&&o<=8555||8560<=o&&o<=8569||o==8585||8592<=o&&o<=8601||8632<=o&&o<=8633||o==8658||o==8660||o==8679||o==8704||8706<=o&&o<=8707||8711<=o&&o<=8712||o==8715||o==8719||o==8721||o==8725||o==8730||8733<=o&&o<=8736||o==8739||o==8741||8743<=o&&o<=8748||o==8750||8756<=o&&o<=8759||8764<=o&&o<=8765||o==8776||o==8780||o==8786||8800<=o&&o<=8801||8804<=o&&o<=8807||8810<=o&&o<=8811||8814<=o&&o<=8815||8834<=o&&o<=8835||8838<=o&&o<=8839||o==8853||o==8857||o==8869||o==8895||o==8978||9312<=o&&o<=9449||9451<=o&&o<=9547||9552<=o&&o<=9587||9600<=o&&o<=9615||9618<=o&&o<=9621||9632<=o&&o<=9633||9635<=o&&o<=9641||9650<=o&&o<=9651||9654<=o&&o<=9655||9660<=o&&o<=9661||9664<=o&&o<=9665||9670<=o&&o<=9672||o==9675||9678<=o&&o<=9681||9698<=o&&o<=9701||o==9711||9733<=o&&o<=9734||o==9737||9742<=o&&o<=9743||9748<=o&&o<=9749||o==9756||o==9758||o==9792||o==9794||9824<=o&&o<=9825||9827<=o&&o<=9829||9831<=o&&o<=9834||9836<=o&&o<=9837||o==9839||9886<=o&&o<=9887||9918<=o&&o<=9919||9924<=o&&o<=9933||9935<=o&&o<=9953||o==9955||9960<=o&&o<=9983||o==10045||o==10071||10102<=o&&o<=10111||11093<=o&&o<=11097||12872<=o&&o<=12879||57344<=o&&o<=63743||65024<=o&&o<=65039||o==65533||127232<=o&&o<=127242||127248<=o&&o<=127277||127280<=o&&o<=127337||127344<=o&&o<=127386||917760<=o&&o<=917999||983040<=o&&o<=1048573||1048576<=o&&o<=1114109?"A":"N"},e.characterLength=function(s){var n=this.eastAsianWidth(s);return n=="F"||n=="W"||n=="A"?2:1};function t(s){return s.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]|[^\uD800-\uDFFF]/g)||[]}e.length=function(s){for(var n=t(s),a=0,o=0;o<n.length;o++)a=a+this.characterLength(n[o]);return a},e.slice=function(s,n,a){textLen=e.length(s),n=n||0,a=a||1,n<0&&(n=textLen+n),a<0&&(a=textLen+a);for(var o="",h=0,d=t(s),f=0;f<d.length;f++){var p=d[f],D=e.length(p);if(h>=n-(D==2?1:0))if(h+D<=a)o+=p;else break;h+=D}return o}})(iS);var nS=Hh,oS=function(){return/\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|(?:\uD83E\uDDD1\uD83C\uDFFF\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFE])|(?:\uD83E\uDDD1\uD83C\uDFFE\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFD\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFC\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFB\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFC-\uDFFF])|\uD83D\uDC68(?:\uD83C\uDFFB(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF]))|\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|[\u2695\u2696\u2708]\uFE0F|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))?|(?:\uD83C[\uDFFC-\uDFFF])\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF]))|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])\uFE0F|\u200D(?:(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D[\uDC66\uDC67])|\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC)?|(?:\uD83D\uDC69(?:\uD83C\uDFFB\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|(?:\uD83C[\uDFFC-\uDFFF])\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69]))|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1)(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC69(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83E\uDDD1(?:\u200D(?:\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83E\uDDD1(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDC69(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDE36\u200D\uD83C\uDF2B|\uD83C\uDFF3\uFE0F\u200D\u26A7|\uD83D\uDC3B\u200D\u2744|(?:(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\uD83C\uDFF4\u200D\u2620|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])\u200D[\u2640\u2642]|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u2600-\u2604\u260E\u2611\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26B0\u26B1\u26C8\u26CF\u26D1\u26D3\u26E9\u26F0\u26F1\u26F4\u26F7\u26F8\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u3030\u303D\u3297\u3299]|\uD83C[\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]|\uD83D[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3])\uFE0F|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83D\uDE35\u200D\uD83D\uDCAB|\uD83D\uDE2E\u200D\uD83D\uDCA8|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83E\uDDD1(?:\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC|\uD83C\uDFFB)?|\uD83D\uDC69(?:\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC|\uD83C\uDFFB)?|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83D\uDC08\u200D\u2B1B|\u2764\uFE0F\u200D(?:\uD83D\uDD25|\uD83E\uDE79)|\uD83D\uDC41\uFE0F|\uD83C\uDFF3\uFE0F|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|[#\*0-9]\uFE0F\u20E3|\u2764\uFE0F|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])|\uD83C\uDFF4|(?:[\u270A\u270B]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270C\u270D]|\uD83D[\uDD74\uDD90])(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])|[\u270A\u270B]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC08\uDC15\uDC3B\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE2E\uDE35\uDE36\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5]|\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD]|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF]|[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0D\uDD0E\uDD10-\uDD17\uDD1D\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78\uDD7A-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCB\uDDD0\uDDE0-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6]|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDED5-\uDED7\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])\uFE0F|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDC8F\uDC91\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1F\uDD26\uDD30-\uDD39\uDD3C-\uDD3E\uDD77\uDDB5\uDDB6\uDDB8\uDDB9\uDDBB\uDDCD-\uDDCF\uDDD1-\uDDDD])/g};function dn(r,e={}){if(typeof r!="string"||r.length===0||(e={ambiguousIsNarrow:!0,...e},r=Cy(r),r.length===0))return 0;r=r.replace(oS(),"  ");let t=e.ambiguousIsNarrow?1:2,s=0;for(let n of r){let a=n.codePointAt(0);if(!(a<=31||a>=127&&a<=159||a>=768&&a<=879))switch(nS.eastAsianWidth(n)){case"F":case"W":s+=2;break;case"A":s+=t;break;default:s+=1}}return s}var jh=10,dy=(r=0)=>e=>`\x1B[${e+r}m`,my=(r=0)=>e=>`\x1B[${38+r};5;${e}m`,py=(r=0)=>(e,t,s)=>`\x1B[${38+r};2;${e};${t};${s}m`,Q={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],gray:[90,39],grey:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgGray:[100,49],bgGrey:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};Object.keys(Q.modifier);var aS=Object.keys(Q.color),uS=Object.keys(Q.bgColor);[...aS,...uS];function lS(){let r=new Map;for(let[e,t]of Object.entries(Q)){for(let[s,n]of Object.entries(t))Q[s]={open:`\x1B[${n[0]}m`,close:`\x1B[${n[1]}m`},t[s]=Q[s],r.set(n[0],n[1]);Object.defineProperty(Q,e,{value:t,enumerable:!1})}return Object.defineProperty(Q,"codes",{value:r,enumerable:!1}),Q.color.close="\x1B[39m",Q.bgColor.close="\x1B[49m",Q.color.ansi=dy(),Q.color.ansi256=my(),Q.color.ansi16m=py(),Q.bgColor.ansi=dy(jh),Q.bgColor.ansi256=my(jh),Q.bgColor.ansi16m=py(jh),Object.defineProperties(Q,{rgbToAnsi256:{value:(e,t,s)=>e===t&&t===s?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(t/255*5)+Math.round(s/255*5),enumerable:!1},hexToRgb:{value:e=>{let t=/[a-f\d]{6}|[a-f\d]{3}/i.exec(e.toString(16));if(!t)return[0,0,0];let[s]=t;s.length===3&&(s=[...s].map(a=>a+a).join(""));let n=Number.parseInt(s,16);return[n>>16&255,n>>8&255,n&255]},enumerable:!1},hexToAnsi256:{value:e=>Q.rgbToAnsi256(...Q.hexToRgb(e)),enumerable:!1},ansi256ToAnsi:{value:e=>{if(e<8)return 30+e;if(e<16)return 90+(e-8);let t,s,n;if(e>=232)t=((e-232)*10+8)/255,s=t,n=t;else{e-=16;let h=e%36;t=Math.floor(e/36)/5,s=Math.floor(h/6)/5,n=h%6/5}let a=Math.max(t,s,n)*2;if(a===0)return 30;let o=30+(Math.round(n)<<2|Math.round(s)<<1|Math.round(t));return a===2&&(o+=60),o},enumerable:!1},rgbToAnsi:{value:(e,t,s)=>Q.ansi256ToAnsi(Q.rgbToAnsi256(e,t,s)),enumerable:!1},hexToAnsi:{value:e=>Q.ansi256ToAnsi(Q.hexToAnsi256(e)),enumerable:!1}}),Q}var cS=lS(),ja=new Set(["\x1B","\x9B"]),hS=39,Vh="\x07",wy="[",fS="]",Sy="m",Gh=`${fS}8;;`,Dy=r=>`${ja.values().next().value}${wy}${r}${Sy}`,gy=r=>`${ja.values().next().value}${Gh}${r}${Vh}`,dS=r=>r.split(" ").map(e=>dn(e)),Uh=(r,e,t)=>{let s=[...e],n=!1,a=!1,o=dn(Cy(r[r.length-1]));for(let[h,d]of s.entries()){let f=dn(d);if(o+f<=t?r[r.length-1]+=d:(r.push(d),o=0),ja.has(d)&&(n=!0,a=s.slice(h+1).join("").startsWith(Gh)),n){a?d===Vh&&(n=!1,a=!1):d===Sy&&(n=!1);continue}o+=f,o===t&&h<s.length-1&&(r.push(""),o=0)}!o&&r[r.length-1].length>0&&r.length>1&&(r[r.length-2]+=r.pop())},mS=r=>{let e=r.split(" "),t=e.length;for(;t>0&&!(dn(e[t-1])>0);)t--;return t===e.length?r:e.slice(0,t).join(" ")+e.slice(t).join("")},pS=(r,e,t={})=>{if(t.trim!==!1&&r.trim()==="")return"";let s="",n,a,o=dS(r),h=[""];for(let[f,p]of r.split(" ").entries()){t.trim!==!1&&(h[h.length-1]=h[h.length-1].trimStart());let D=dn(h[h.length-1]);if(f!==0&&(D>=e&&(t.wordWrap===!1||t.trim===!1)&&(h.push(""),D=0),(D>0||t.trim===!1)&&(h[h.length-1]+=" ",D++)),t.hard&&o[f]>e){let y=e-D,C=1+Math.floor((o[f]-y-1)/e);Math.floor((o[f]-1)/e)<C&&h.push(""),Uh(h,p,e);continue}if(D+o[f]>e&&D>0&&o[f]>0){if(t.wordWrap===!1&&D<e){Uh(h,p,e);continue}h.push("")}if(D+o[f]>e&&t.wordWrap===!1){Uh(h,p,e);continue}h[h.length-1]+=p}t.trim!==!1&&(h=h.map(f=>mS(f)));let d=[...h.join(`
`)];for(let[f,p]of d.entries()){if(s+=p,ja.has(p)){let{groups:y}=new RegExp(`(?:\\${wy}(?<code>\\d+)m|\\${Gh}(?<uri>.*)${Vh})`).exec(d.slice(f).join(""))||{groups:{}};if(y.code!==void 0){let C=Number.parseFloat(y.code);n=C===hS?void 0:C}else y.uri!==void 0&&(a=y.uri.length===0?void 0:y.uri)}let D=cS.codes.get(Number(n));d[f+1]===`
`?(a&&(s+=gy("")),n&&D&&(s+=Dy(D))):p===`
`&&(n&&D&&(s+=Dy(n)),a&&(s+=gy(a)))}return s};function by(r,e,t){return String(r).normalize().replace(/\r\n/g,`
`).split(`
`).map(s=>pS(s,e,t)).join(`
`)}function DS(r,e){if(r===e)return;let t=r.split(`
`),s=e.split(`
`),n=[];for(let a=0;a<Math.max(t.length,s.length);a++)t[a]!==s[a]&&n.push(a);return n}var Fy=Symbol("clack:cancel");function Jt(r){return r===Fy}function Ma(r,e){r.isTTY&&r.setRawMode(e)}var yy=new Map([["k","up"],["j","down"],["h","left"],["l","right"]]),gS=new Set(["up","down","left","right","space","enter"]),mn=class{constructor({render:e,input:t=Ey,output:s=_y,...n},a=!0){this._track=!1,this._cursor=0,this.state="initial",this.error="",this.subscribers=new Map,this._prevFrame="",this.opts=n,this.onKeypress=this.onKeypress.bind(this),this.close=this.close.bind(this),this.render=this.render.bind(this),this._render=e.bind(this),this._track=a,this.input=t,this.output=s}prompt(){let e=new rS(0);return e._write=(t,s,n)=>{this._track&&(this.value=this.rl.line.replace(/\t/g,""),this._cursor=this.rl.cursor,this.emit("value",this.value)),n()},this.input.pipe(e),this.rl=fy.createInterface({input:this.input,output:e,tabSize:2,prompt:"",escapeCodeTimeout:50}),fy.emitKeypressEvents(this.input,this.rl),this.rl.prompt(),this.opts.initialValue!==void 0&&this._track&&this.rl.write(this.opts.initialValue),this.input.on("keypress",this.onKeypress),Ma(this.input,!0),this.output.on("resize",this.render),this.render(),new Promise((t,s)=>{this.once("submit",()=>{this.output.write(Se.cursor.show),this.output.off("resize",this.render),Ma(this.input,!1),t(this.value)}),this.once("cancel",()=>{this.output.write(Se.cursor.show),this.output.off("resize",this.render),Ma(this.input,!1),t(Fy)})})}on(e,t){let s=this.subscribers.get(e)??[];s.push({cb:t}),this.subscribers.set(e,s)}once(e,t){let s=this.subscribers.get(e)??[];s.push({cb:t,once:!0}),this.subscribers.set(e,s)}emit(e,...t){let s=this.subscribers.get(e)??[],n=[];for(let a of s)a.cb(...t),a.once&&n.push(()=>s.splice(s.indexOf(a),1));for(let a of n)a()}unsubscribe(){this.subscribers.clear()}onKeypress(e,t){if(this.state==="error"&&(this.state="active"),t?.name&&!this._track&&yy.has(t.name)&&this.emit("cursor",yy.get(t.name)),t?.name&&gS.has(t.name)&&this.emit("cursor",t.name),e&&(e.toLowerCase()==="y"||e.toLowerCase()==="n")&&this.emit("confirm",e.toLowerCase()==="y"),e&&this.emit("key",e.toLowerCase()),t?.name==="return"){if(this.opts.validate){let s=this.opts.validate(this.value);s&&(this.error=s,this.state="error",this.rl.write(this.value))}this.state!=="error"&&(this.state="submit")}e===""&&(this.state="cancel"),(this.state==="submit"||this.state==="cancel")&&this.emit("finalize"),this.render(),(this.state==="submit"||this.state==="cancel")&&this.close()}close(){this.input.unpipe(),this.input.removeListener("keypress",this.onKeypress),this.output.write(`
`),Ma(this.input,!1),this.rl.close(),this.emit(`${this.state}`,this.value),this.unsubscribe()}restoreCursor(){let e=by(this._prevFrame,process.stdout.columns,{hard:!0}).split(`
`).length-1;this.output.write(Se.cursor.move(-999,e*-1))}render(){let e=by(this._render(this)??"",process.stdout.columns,{hard:!0});if(e!==this._prevFrame){if(this.state==="initial")this.output.write(Se.cursor.hide);else{let t=DS(this._prevFrame,e);if(this.restoreCursor(),t&&t?.length===1){let s=t[0];this.output.write(Se.cursor.move(0,s)),this.output.write(Se.erase.lines(1));let n=e.split(`
`);this.output.write(n[s]),this._prevFrame=e,this.output.write(Se.cursor.move(0,n.length-s-1));return}else if(t&&t?.length>1){let s=t[0];this.output.write(Se.cursor.move(0,s)),this.output.write(Se.erase.down());let n=e.split(`
`).slice(s);this.output.write(n.join(`
`)),this._prevFrame=e;return}this.output.write(Se.erase.down())}this.output.write(e),this.state==="initial"&&(this.state="active"),this._prevFrame=e}}},qa=class extends mn{get cursor(){return this.value?0:1}get _value(){return this.cursor===0}constructor(e){super(e,!1),this.value=!!e.initialValue,this.on("value",()=>{this.value=this._value}),this.on("confirm",t=>{this.output.write(Se.cursor.move(0,-1)),this.value=t,this.state="submit",this.close()}),this.on("cursor",()=>{this.value=!this.value})}};var Wa=class extends mn{constructor(e){super(e,!1),this.cursor=0,this.options=e.options,this.cursor=this.options.findIndex(({value:t})=>t===e.initialValue),this.cursor===-1&&(this.cursor=0),this.changeValue(),this.on("cursor",t=>{switch(t){case"left":case"up":this.cursor=this.cursor===0?this.options.length-1:this.cursor-1;break;case"down":case"right":this.cursor=this.cursor===this.options.length-1?0:this.cursor+1;break}this.changeValue()})}get _value(){return this.options[this.cursor]}changeValue(){this.value=this._value.value}};var za=class extends mn{constructor(e){super(e),this.valueWithCursor="",this.on("finalize",()=>{this.value||(this.value=e.defaultValue),this.valueWithCursor=this.value}),this.on("value",()=>{if(this.cursor>=this.value.length)this.valueWithCursor=`${this.value}${ka.default.inverse(ka.default.hidden("_"))}`;else{let t=this.value.slice(0,this.cursor),s=this.value.slice(this.cursor);this.valueWithCursor=`${t}${ka.default.inverse(s[0])}${s.slice(1)}`}})}get cursor(){return this._cursor}};function vy({input:r=Ey,output:e=_y,overwrite:t=!0,hideCursor:s=!0}={}){let n=Ar.createInterface({input:r,output:e,prompt:"",tabSize:1});Ar.emitKeypressEvents(r,n),r.isTTY&&r.setRawMode(!0);let a=(o,{name:h})=>{if(String(o)===""&&process.exit(0),!t)return;Ar.moveCursor(e,h==="return"?0:-1,h==="return"?-1:0,()=>{Ar.clearLine(e,1,()=>{r.once("keypress",a)})})};return s&&process.stdout.write(Se.cursor.hide),r.once("keypress",a),()=>{r.off("keypress",a),s&&process.stdout.write(Se.cursor.show),r.isTTY&&r.setRawMode(!1),n.terminal=!1,n.close()}}var R=$r(zh(),1),Ks=$r(qh(),1);import lt from"node:process";function bS(){return lt.platform!=="win32"?lt.env.TERM!=="linux":!!lt.env.CI||!!lt.env.WT_SESSION||!!lt.env.TERMINUS_SUBLIME||lt.env.ConEmuTask==="{cmd::Cmder}"||lt.env.TERM_PROGRAM==="Terminus-Sublime"||lt.env.TERM_PROGRAM==="vscode"||lt.env.TERM==="xterm-256color"||lt.env.TERM==="alacritty"||lt.env.TERMINAL_EMULATOR==="JetBrains-JediTerm"}var Yh=bS(),se=(r,e)=>Yh?r:e,yS=se("\u25C6","*"),Ry=se("\u25A0","x"),Ay=se("\u25B2","x"),Qh=se("\u25C7","o"),ES=se("\u250C","T"),ee=se("\u2502","|"),pn=se("\u2514","\u2014"),Kh=se("\u25CF",">"),Zh=se("\u25CB"," "),O2=se("\u25FB","[\u2022]"),B2=se("\u25FC","[+]"),x2=se("\u25FB","[ ]"),P2=se("\u25AA","\u2022"),$2=se("\u2500","-"),L2=se("\u256E","+"),I2=se("\u251C","+"),N2=se("\u256F","+"),_S=se("\u25CF","\u2022"),CS=se("\u25C6","*"),wS=se("\u25B2","!"),SS=se("\u25A0","x"),Xh=r=>{switch(r){case"initial":case"active":return R.default.cyan(yS);case"cancel":return R.default.red(Ry);case"error":return R.default.yellow(Ay);case"submit":return R.default.green(Qh)}},Ty=r=>new za({validate:r.validate,placeholder:r.placeholder,defaultValue:r.defaultValue,initialValue:r.initialValue,render(){let e=`${R.default.gray(ee)}
${Xh(this.state)}  ${r.message}
`,t=r.placeholder?R.default.inverse(r.placeholder[0])+R.default.dim(r.placeholder.slice(1)):R.default.inverse(R.default.hidden("_")),s=this.value?this.valueWithCursor:t;switch(this.state){case"error":return`${e.trim()}
${R.default.yellow(ee)}  ${s}
${R.default.yellow(pn)}  ${R.default.yellow(this.error)}
`;case"submit":return`${e}${R.default.gray(ee)}  ${R.default.dim(this.value||r.placeholder)}`;case"cancel":return`${e}${R.default.gray(ee)}  ${R.default.strikethrough(R.default.dim(this.value??""))}${this.value?.trim()?`
`+R.default.gray(ee):""}`;default:return`${e}${R.default.cyan(ee)}  ${s}
${R.default.cyan(pn)}
`}}}).prompt();var Jh=r=>{let e=r.active??"Yes",t=r.inactive??"No";return new qa({active:e,inactive:t,initialValue:r.initialValue??!0,render(){let s=`${R.default.gray(ee)}
${Xh(this.state)}  ${r.message}
`,n=this.value?e:t;switch(this.state){case"submit":return`${s}${R.default.gray(ee)}  ${R.default.dim(n)}`;case"cancel":return`${s}${R.default.gray(ee)}  ${R.default.strikethrough(R.default.dim(n))}
${R.default.gray(ee)}`;default:return`${s}${R.default.cyan(ee)}  ${this.value?`${R.default.green(Kh)} ${e}`:`${R.default.dim(Zh)} ${R.default.dim(e)}`} ${R.default.dim("/")} ${this.value?`${R.default.dim(Zh)} ${R.default.dim(t)}`:`${R.default.green(Kh)} ${t}`}
${R.default.cyan(pn)}
`}}}).prompt()},ef=r=>{let e=(s,n)=>{let a=s.label??String(s.value);return n==="active"?`${R.default.green(Kh)} ${a} ${s.hint?R.default.dim(`(${s.hint})`):""}`:n==="selected"?`${R.default.dim(a)}`:n==="cancelled"?`${R.default.strikethrough(R.default.dim(a))}`:`${R.default.dim(Zh)} ${R.default.dim(a)}`},t=0;return new Wa({options:r.options,initialValue:r.initialValue,render(){let s=`${R.default.gray(ee)}
${Xh(this.state)}  ${r.message}
`;switch(this.state){case"submit":return`${s}${R.default.gray(ee)}  ${e(this.options[this.cursor],"selected")}`;case"cancel":return`${s}${R.default.gray(ee)}  ${e(this.options[this.cursor],"cancelled")}
${R.default.gray(ee)}`;default:{let n=r.maxItems===void 0?1/0:Math.max(r.maxItems,5);this.cursor>=t+n-3?t=Math.max(Math.min(this.cursor-n+3,this.options.length-n),0):this.cursor<t+2&&(t=Math.max(this.cursor-2,0));let a=n<this.options.length&&t>0,o=n<this.options.length&&t+n<this.options.length;return`${s}${R.default.cyan(ee)}  ${this.options.slice(t,t+n).map((h,d,f)=>d===0&&a?R.default.dim("..."):d===f.length-1&&o?R.default.dim("..."):e(h,d+t===this.cursor?"active":"inactive")).join(`
${R.default.cyan(ee)}  `)}
${R.default.cyan(pn)}
`}}}}).prompt()};var Oy=(r="")=>{process.stdout.write(`${R.default.gray(ES)}  ${r}
`)},ct=(r="")=>{process.stdout.write(`${R.default.gray(ee)}
${R.default.gray(pn)}  ${r}

`)},Fe={message:(r="",{symbol:e=R.default.gray(ee)}={})=>{let t=[`${R.default.gray(ee)}`];if(r){let[s,...n]=r.split(`
`);t.push(`${e}  ${s}`,...n.map(a=>`${R.default.gray(ee)}  ${a}`))}process.stdout.write(`${t.join(`
`)}
`)},info:r=>{Fe.message(r,{symbol:R.default.blue(_S)})},success:r=>{Fe.message(r,{symbol:R.default.green(CS)})},step:r=>{Fe.message(r,{symbol:R.default.green(Qh)})},warn:r=>{Fe.message(r,{symbol:R.default.yellow(wS)})},warning:r=>{Fe.warn(r)},error:r=>{Fe.message(r,{symbol:R.default.red(SS)})}},By=()=>{let r=Yh?["\u25D2","\u25D0","\u25D3","\u25D1"]:["\u2022","o","O","0"],e=Yh?80:120,t,s,n=!1,a="",o=(p="")=>{n=!0,t=vy(),a=p.replace(/\.+$/,""),process.stdout.write(`${R.default.gray(ee)}
`);let D=0,y=0;s=setInterval(()=>{let C=R.default.magenta(r[D]),g=".".repeat(Math.floor(y)).slice(0,3);process.stdout.write(Ks.cursor.move(-999,0)),process.stdout.write(Ks.erase.down(1)),process.stdout.write(`${C}  ${a}${g}`),D=D+1<r.length?D+1:0,y=y<r.length?y+.125:0},e)},h=(p="",D=0)=>{a=p??a,n=!1,clearInterval(s);let y=D===0?R.default.green(Qh):D===1?R.default.red(Ry):R.default.red(Ay);process.stdout.write(Ks.cursor.move(-999,0)),process.stdout.write(Ks.erase.down(1)),process.stdout.write(`${y}  ${a}
`),t()},d=(p="")=>{a=p??a},f=p=>{let D=p>1?"Something went wrong":"Canceled";n&&h(D,p)};return process.on("uncaughtExceptionMonitor",()=>f(2)),process.on("unhandledRejection",()=>f(2)),process.on("SIGINT",()=>f(1)),process.on("SIGTERM",()=>f(1)),process.on("exit",f),{start:o,stop:h,message:d}};var tf=(r,e)=>`github:${mm}/templates/${r}/${e}`;async function xy(r,e){let t=By();t.start("Downloading template (this may take a while)...");try{await uy(r,{dir:e,force:!0})}catch(s){t.stop(s.message,1),ct("Exited. Artifacts may be present on filesystem."),process.exit(1)}t.stop("Successfully cloned template.")}import{statSync as FS,readdirSync as vS,existsSync as RS,rmSync as AS}from"fs";var Py=async(r,e)=>{if(RS(r)){let t=FS(r);if(t.isFile()||t.isSymbolicLink()){if(e)Fe.warn("Target is a file or symlink, but force flag is set, removing file and continuing.");else{Fe.warn("Target is a file or symlink.");let s=await Jh({message:"Remove and continue?",initialValue:!1});(Jt(s)||!s)&&(ct("Cancelled. No changes were made."),process.exit(0))}AS(r)}if(t.isDirectory()&&vS(r).length>0)if(e)Fe.warn("Target directory is not empty but force flag is set, continuing.");else{Fe.warn("Target directory is not empty.");let s=await Jh({message:"Continue anyway?",initialValue:!1});(Jt(s)||!s)&&(ct("Cancelled. No changes were made."),process.exit(0))}}};import{normalize as TS}from"path";var $y=async r=>{let e=await ef({message:"Select a template",options:r.map(s=>({label:s.displayName,value:s.name,hint:s.description}))});return Jt(e)&&(ct("Cancelled. No changes were made."),process.exit(0)),r.find(s=>s.name==e)},Ly=async r=>{let e=await ef({message:"Select a language",options:r.languages.map(t=>({label:t.displayName,value:t.name,hint:t.description}))});return Jt(e)&&(ct("Cancelled. No changes were made."),process.exit(0)),e},Iy=async()=>{let r=await Ty({message:"Enter the target directory you want to initialize in",placeholder:"./worker",defaultValue:"./worker"});return Jt(r)&&(ct("Cancelled. No changes were made."),process.exit(0)),TS(r)};var Ny=async(r,e,t)=>{Oy("Cloudspark CLI \u26A1\uFE0F");let s,n;if(r)Fe.message("Express mode active. Initializing the template."),s=`${t.provider??"github"}:${r}`,n=e??"worker";else if(t.y){Fe.message("Bypassing all prompts, and initializing the default template.");let a=hl[0];s=tf(a.name,a.languages[0].name),n="worker"}else{Fe.message("Let's get started by selecting a template.");let a=await $y(hl),o=await Ly(a);s=tf(a.name,o),n=await Iy()}await Py(n,t.force),await xy(s,n),ct(`Done! Your Worker is ready to go at "${n}"`),process.exit(0)};var My=dm.name("cloudspark").description("Cloudspark CLI, your CommunityApproved\u2122 Cloudflare Developer Platform CLI");My.command("init").description("Initialize a new Worker").argument("[repo]","The repository to initialize.").argument("[folder]","The folder to initialize to.").option("-y","Bypass prompts and use default values(doesn't apply to output folder conflicts).").option("-f, --force","Force clone the template, ignoring existing files.").action(Ny);await My.parseAsync();
/*! Bundled license information:

node-fetch-native/dist/node.mjs:
  (*! fetch-blob. MIT License. Jimmy Wrting <https://jimmy.warting.se/opensource> *)
  (*! formdata-polyfill. MIT License. Jimmy Wrting <https://jimmy.warting.se/opensource> *)
  (*! node-domexception. MIT License. Jimmy Wrting <https://jimmy.warting.se/opensource> *)
*/
//# sourceMappingURL=index.js.map
